window.addEventListener("load",function(e){smash.init()},!1);var smash={};smash.init=function(){smash.config.init(),smash.sidebar.init(),smash.searchbox.init(),smash.workspace.init(),smash.input.init()},smash.get=function(e,s){try{return e.querySelector(s)}catch(e){console.log(e)}},smash.getAll=function(e,s){try{return e.querySelectorAll(s)}catch(e){console.log(e)}},smash.hide=function(e,s){var a;a=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var t=0;t<a.length;t++)a[t].style.display="none"},smash.nextVisible=function(e){for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.firstVisible=function(e){if(e=e.parentElement.firstChild,"none"!=e.style.display)return e;for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.previousVisible=function(e){for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.lastVisible=function(e){if(e=e.parentElement.lastChild,"none"!=e.style.display)return e;for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.show=function(e,s){var a;a=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var t=0;t<a.length;t++)a[t].style.display=""},smash.remove=function(e){e.parentNode.removeChild(e)},smash.on=function(e,s,a,t){for(var n=smash.getAll(e,s),r=0;r<n.length;r++)n[r][a]=t},smash.fuzzyCompare=function(e,s){if(void 0==s||void 0==e)return!1;var a=".*?"+e.toLowerCase().replace(/-/g,"\\-").split("").join(".*?")+".*?";return s.toLowerCase().match(a)},smash.findNextTabStop=function(e,s){var a=smash.getAll(e,".smash-input, .smash-button, .smash-select, .smash-textarea, .smash-checkbox"),t=Array.prototype.filter.call(a,function(e){return e.tabIndex>="0"}),n=t.indexOf(s);return t[n+1]||t[0]},smash.isEmpty=function(e){switch(e){case void 0:case null:case"":return!0}return!1},smash.ajax={_headers_:[]},smash.ajax.addHeader=function(e,s){smash.ajax._headers_[e]=s},smash.ajax.removeHeader=function(e){delete smash.ajax._headers_[e]},smash.ajax.onerror=function(e){console.log(e)},smash.ajax.onunauthorized=function(e){smash.ajax.onerror(e)},smash.ajax._xhr_=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,s=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],a=0;a<s.length;a++)try{e=new ActiveXObject(s[a]);break}catch(e){}return e},smash.ajax.send=function(e,s,a,t,n,r,o){void 0===o&&(o=!0),void 0===r&&(r=smash.ajax.onerror);var i=smash.ajax._xhr_();i.responseType=n,i.onreadystatechange=function(){if(4==i.readyState)switch(i.status){case 200:case 201:s&&s(i.response);break;case 401:smash.ajax.onunauthorized(i.response);break;default:r(i.response)}},i.open(a,e,o),"json"==n?i.setRequestHeader("Content-type","application/json"):"POST"==a&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var l in smash.ajax._headers_)i.setRequestHeader(l,smash.ajax._headers_[l]);i.send(t)},smash.ajax.get=function(e,s,a,t,n,r){var o=[];for(var i in a)o.push(encodeURIComponent(i)+"="+encodeURIComponent(a[i]));smash.ajax.send(e+(o.length?"?"+o.join("&"):""),s,"GET",null,t,n,r)},smash.ajax.post=function(e,s,a,t,n,r){var o;if(a)if("json"!=t){var i=[];for(var l in a)i.push(encodeURIComponent(l)+"="+encodeURIComponent(a[l]));o=i.join("&")}else o=JSON.stringify(a);smash.ajax.send(e,s,"POST",o,t,n,r)},smash.class={},smash.class.add=function(e,s){smash.class.has(e,s)||(e.classList?e.classList.add(s):e.className+=" "+s)},smash.class.remove=function(e,s){smash.class.has(e,s)&&(e.classList?e.classList.remove(s):e.className=e.className.replace(s,""))},smash.class.has=function(e,s){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+s+" ")>-1},smash.class.toggle=function(e,s){smash.class.has(e,s)?smash.class.remove(e,s):smash.class.add(e,s)},smash.config={_values_:{_sidebar_lock_:!1}},smash.config.init=function(){var e=smash.storage.get("config");e&&(smash.config._values_=e)},smash.config.get=function(e){var s="_"+e+"_";if(s in smash.config._values_)return smash.config._values_[s];throw new smash.Exception("001",'Invalid config option "'+e+'"')},smash.config.set=function(e,s){var a="_"+e+"_";if(!a in smash.config._values_)throw new smash.Exception("001",'Invalid config option "'+e+'"');smash.config._values_[a]=s,smash.storage.set("config",smash.config._values_)},smash.contextmenu={},smash.contextmenu.new=function(e,s){(a=smash.get(document,"#smash-context-menu"))&&smash.remove(a);var a=document.createElement("div");a.id="smash-context-menu";var t="<ul class='clickable'>";for(i=0;i<s.length;i++)t+="seperator"!=s[i]?'<li class="ctx_item_'+i+'">'+s[i].label+"</li>":'<li class="seperator"></li>';t+="</ul>",a.innerHTML=t,document.body.appendChild(a);var n;for(i=0;i<s.length;i++)"seperator"!=s[i]&&(n=smash.get(a,"li.ctx_item_"+i),n.callback=s[i].callback,n.onmousedown=function(e){this.callback(e),smash.contextmenu.close(e)});var r=e.pageY;return r+a.offsetHeight>window.innerHeight&&(r=window.innerHeight-a.offsetHeight-20),a.style.top=r,a.style.left=e.pageX,e.preventDefault(),document.onclick=smash.contextmenu.close,!1},smash.contextmenu.close=function(e){e.preventDefault(),(ctx=smash.get(document,"#smash-context-menu"))&&smash.remove(ctx),document.onclick=void 0},smash.cookie={},smash.cookie.set=function(e,s,a){var t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3);var n="expires="+t.toUTCString();document.cookie=e+"="+s+";"+n+";path=/"},smash.cookie.get=function(e){for(var e=e+"=",s=decodeURIComponent(document.cookie),a=s.split(";"),t=0;t<a.length;t++){for(var n=a[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},smash.dialog={},smash.dialog.new=function(e){var s=smash.dialog.checkBackdrop(),a=document.createElement("div");a.className="smash-dialog",a.innerHTML=e,s.appendChild(a)},smash.dialog.checkBackdrop=function(){if(e=smash.get(document,".smash-dialog-backdrop"))return(dialog=smash.get(document,".smash-dialog-backdrop .smash-dialog"))&&e.removeChild(dialog),e;var e=document.createElement("div");return e.className="smash-dialog-backdrop",e.innerHTML='<div class="smash-dialog-background"></div>',smash.get(e,".smash-dialog-background").onclick=smash.dialog.close,smash.get(document,"body").appendChild(e),e},smash.dialog.close=function(){(dialog=smash.get(document,".smash-dialog-backdrop"))&&smash.get(document,"body").removeChild(dialog)},smash.Exception=function(e,s){this.value=e,this.message=s,this.toString=function(){return"SmashException "+this.value+": "+this.message}},smash.input={},smash.input.init=function(){for(var e,s=document.querySelectorAll(".smash-input input, .smash-textarea textarea"),a=0;a<s.length;a++)if(e=s[a],!smash.class.has(e.parentElement,"smash-initialised")){if(e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.setValue=function(s){(e=this.querySelector("input"))?(e.value=s,e.onkeyup&&e.onkeyup()):(e=this.querySelector("textarea"))&&(e.value=s,e.onkeyup&&e.onkeyup())},e.parentElement.getValue=function(){if(e=this.querySelector("input")){var e=this.querySelector("input");return e.value}if(e=this.querySelector("textarea")){var e=this.querySelector("textarea");return e.value}return null},e.parentElement.onfocus=function(s){(e=this.querySelector("input"))?e.focus():(e=this.querySelector("textarea"))&&e.focus()},smash.class.has(e.parentElement,"has-floating-label")){smash.class.remove(e.parentElement,"has-floating-label"),smash.class.add(e.parentElement,"floating-label");var t=document.createElement("label");t.innerHTML=e.placeholder,e.parentElement.appendChild(t),e.onkeyup=function(e){var s=this.parentElement.querySelector("label");s&&(""!=this.value?smash.class.add(s,"show"):smash.class.remove(s,"show"))}}e.parentElement.getAttribute("value")&&e.parentElement.setValue(e.parentElement.getAttribute("value")),smash.class.add(e.parentElement,"smash-initialised")}for(var n,r=document.querySelectorAll(".smash-select select"),a=0;a<r.length;a++)if(n=r[a],!smash.class.has(n.parentElement,"smash-initialised")){if(smash.class.has(n.parentElement,"has-floating-label")){smash.class.remove(n.parentElement,"has-floating-label"),smash.class.add(n.parentElement,"floating-label");var t=document.createElement("label");t.innerHTML=n.getAttribute("placeholder"),n.parentElement.appendChild(t)}n.parentElement.getName=function(){return this.querySelector("select").getAttribute("name")},n.parentElement.setValue=function(e){smash.class.remove(this,"is-focussed");var s=this.querySelector("select"),a=this.querySelector("input"),t=s.value;if(s.value=e,s.selectedIndex>-1){var n=s.options[s.selectedIndex].text;n&&""!=n?a.value=n:(a.value="",a.placeholder=s.getAttribute("placeholder"))}else a.value="",a.placeholder=s.getAttribute("placeholder");a.focus(),a.blur(),t!=e&&((selected=smash.get(this.parentElement,".selected"))&&smash.class.remove(selected,"selected"),""!=e&&(selected=smash.get(this,'li[value="'+e+'"]'))&&smash.class.add(selected,"selected"),s.onchange&&s.onchange(),this.onchange&&this.onchange()),this.checkLabel()},n.parentElement.onfocus=function(e){var s=this.querySelector("input");s.focus(e)},n.parentElement.getValue=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].value},n.parentElement.reset=function(){smash.get(this,"input").value=this.getText(),this.checkLabel(),smash.get(this,"input").blur(),(hover=smash.get(this,"ul li.hover"))&&smash.class.remove(hover,"hover")},n.parentElement.checkLabel=function(){var e=this.querySelector("label");e&&(this.getValue()&&""!=this.getValue()?smash.class.add(e,"show"):smash.class.remove(e,"show"))},n.parentElement.getText=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].innerHTML};var e=document.createElement("input");e.type="text",e.placeholder=n.getAttribute("placeholder"),e.setAttribute("readonly","readonly"),n.parentElement.appendChild(e);var o,i=n.querySelectorAll("option"),l=document.createElement("ul");l.onmouseup=function(e){e.stopPropagation()};for(var h=0;h<i.length;h++){var c=i[h];if(o=c.getAttribute("value"),o||""===o){var m=document.createElement("li");m.setAttribute("value",c.value),m.innerHTML=""==c.innerHTML?"&nbsp;":c.innerHTML,l.appendChild(m),m.onmousedown=function(e){return this.parentElement.parentElement.setValue(this.getAttribute("value")),(next=smash.findNextTabStop(this.parentElement.parentElement.parentElement,this.parentElement.parentElement))&&next.focus(),e.stopPropagation(),e.preventDefault(),window.onmouseup&&window.onmouseup(),!1}}}n.parentElement.appendChild(l),e.onfocus=function(e){smash.class.has(this.parentElement,"is-focussed")||(this.parentElement.checkLabel(),this.parentElement.click())},e.onblur=function(e){window.onmouseup&&window.onmouseup()},n.parentElement.onclick=function(){smash.class.add(this,"is-focussed");var e=smash.get(this,"input"),s=smash.get(this,"select"),a=this;e.value&&""!=e.value?e.setAttribute("placeholder",e.value):e.setAttribute("placeholder",s.getAttribute("placeholder")),e.removeAttribute("readonly"),e.blur(),e.value="",window.onmouseup=function(){if(window.onmouseup=null,e.onkeyup=null,e.setAttribute("readonly","readonly"),a.reset(),items=smash.getAll(a,"ul li")){for(var s=0;s<items.length;s++)items[s].style.display="";smash.show(a,"ul")}return smash.class.remove(a,"is-focussed"),!1},e.onkeydown=function(e){switch(e.keyCode){case 9:return!0;case 13:case 39:(hover=smash.get(a,"ul li.hover"))&&hover.onmousedown(e);break;case 38:if(hover=smash.get(a,"ul li.hover"))smash.class.remove(hover,"hover"),(previous=smash.previousVisible(hover))?(smash.class.add(previous,"hover"),previous.parentElement.scrollTop=previous.offsetTop):(last=smash.lastVisible(hover))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight);else{var s=smash.get(a,"ul li");(last=smash.lastVisible(s))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight)}break;case 40:if(hover=smash.get(a,"ul li.hover"))smash.class.remove(hover,"hover"),(next=smash.nextVisible(hover))?(smash.class.add(next,"hover"),next.parentElement.scrollTop=next.offsetTop):(next=smash.firstVisible(hover))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0);else{var s=smash.get(a,"ul li");(next=smash.firstVisible(s))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0)}break;case 27:this.value="",this.blur(),this.focus()}e.preventDefault(),e.stopPropagation();var t=this.value.replace(/[^a-zA-Z0-9_ ]/g,"");if(items=smash.getAll(a,"ul li")){smash.show(a,"ul");for(var n,r=!1,o=0;o<items.length;o++)n=items[o],""==t||smash.fuzzyCompare(t,n.innerHTML)?(n.style.display="",r=!0):n.style.display="none";r||smash.hide(a,"ul")}return!1},e.focus()},n.parentElement.getAttribute("value")&&n.parentElement.setValue(n.parentElement.getAttribute("value")),n.parentElement.checkLabel(),smash.class.add(n.parentElement,"smash-initialised")}smash.input.checkboxInit()},smash.input.checkboxInit=function(){for(var e,s=document.querySelectorAll(".smash-checkbox input"),a=0;a<s.length;a++)if(e=s[a],!smash.class.has(e.parentElement,"smash-initialised")){var t=document.createElement("span");if(t.className="checks",t.innerHTML='<i class="material-icons">check_box_outline_blank</i><i class="material-icons checked">check_box</i>',e.parentElement.appendChild(t),label=e.getAttribute("label")){var n=document.createElement("span");n.className="label",n.innerHTML=label,e.parentElement.appendChild(n)}smash.class.add(e.parentElement,"smash-initialised"),e.checked=smash.class.has(e.parentElement,"checked"),e.parentElement.onclick=function(){smash.class.toggle(this,"checked"),smash.get(this,"input").checked=smash.class.has(this,"checked"),this.onchange&&this.onchange(smash.class.has(this,"checked"))},e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.getValue=function(){return smash.class.has(this,"checked")},e.parentElement.setValue=function(e){smash.class.has(this,"checked")!=e&&this.onclick()}}},smash.router={__parseRouteRegex:/{(.*?)}/gi,__dynamicParts:[],__baseDirectory:null,__routes:{static:[],dynamic:[]}},smash.router.add=function(e,s){var a=smash.router.parseRoute(e);return a.regex?(a.callback=s,smash.router.__routes.dynamic[a.depth]||(smash.router.__routes.dynamic[a.depth]=[]),smash.router.__routes.dynamic[a.depth][a.numVars]||(smash.router.__routes.dynamic[a.depth][a.numVars]=[]),void smash.router.__routes.dynamic[a.depth][a.numVars].push(a)):void(smash.router.__routes.static[e]=s)},smash.router.set=function(e){smash.router.displayURL(e),window.dispatchEvent(new Event("popstate"))},smash.router.displayURL=function(e){e=smash.router.addBaseDirectory(e),window.history.pushState("","",e)},smash.router.redirect=function(e){e.search(/^http[s]?:\/\//)||(e=smash.router.addBaseDirectory(e)),window.location=e},smash.router.handleNotFound=function(e){console.log("route: "+JSON.stringify(e)+" does not exist")},smash.router.run=function(){window.onpopstate=function(e){smash.router.execute()},smash.router.execute()},smash.router.execute=function(){var e=this.getPath();if(this.__routes.static[e.path])return void this.__routes.static[e.path]();var s=e.path.split("/").length-1;if(this.__routes.dynamic[s]){var a,t,n={};for(var r in this.__routes.dynamic[s])for(var o in this.__routes.dynamic[s][r]){var a=this.__routes.dynamic[s][r][o];if(t=e.path.match(a.regex)){for(var i=0;i<a.numVars;i++)n[a.vars[i]]=t[i+1];return void a.callback(n)}}}smash.router.handleNotFound(e)},smash.router.getPath=function(){var e=document.createElement("a");return e.href=window.location,{host:e.hostname,path:smash.router.checkPath(e.pathname)}},smash.router.parseRoute=function(e){e=smash.router.cleanPath(e);var s={path:e,depth:e.split("/").length-1,vars:[],numVars:0};if(smash.router.__dynamicParts=e.match(smash.router.__parseRouteRegex),void 0!=smash.router.__dynamicParts&&null!=smash.router.__dynamicParts){for(var a="^"+e.replace(/\//gi,"\\/")+"$",t=0;t<smash.router.__dynamicParts.length;t++)s.numVars++,s.vars.push(smash.router.__dynamicParts[t].substring(1,smash.router.__dynamicParts[t].length-1)),a=a.replace(smash.router.__dynamicParts[t],"(.*?)");s.regex=new RegExp(a,"i")}return s},smash.router.setBaseDirectory=function(e){return e?void(smash.router.__baseDirectory=smash.router.cleanPath(e)):void(smash.router.__baseDirectory=void 0)},smash.router.addBaseDirectory=function(e){return smash.router.__baseDirectory?(e.indexOf(smash.router.__baseDirectory)===-1&&(e=smash.router.__baseDirectory+e),e):e},smash.router.cleanPath=function(e){return e.length>0&&"/"!=e.substring(0,1)&&(e="/"+e),e.length>2&&"/"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2)),e},smash.router.checkPath=function(e){return e=smash.router.cleanPath(e),smash.router.__baseDirectory&&e.indexOf(smash.router.__baseDirectory)!==-1&&(e=e.replace(smash.router.__baseDirectory,"")),e},smash.router.queryParam=function(e){var s="[\\?&]"+e+"=([^&#]*)",a=new RegExp(s),t=a.exec(window.location.search);if(null!=t)return t[1]},smash.searchbox={i_:!1,minAutoCompleteLength:3,onfocus:void 0,onblur:void 0,onchange:void 0},smash.searchbox.init=function(){if(!smash.searchbox.i_){var e=document.querySelector(".smash-searchbox input");e&&(e.onfocus=function(){0==this.value.length&&smash.searchbox.results('<div class="smash-instruction">Start typing to find results</div>'),smash.class.add(document.querySelector(".smash-header"),"is-focussed"),smash.class.add(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onfocus&&smash.searchbox.onfocus()},e.onblur=function(){smash.class.remove(document.querySelector(".smash-header"),"is-focussed"),smash.class.remove(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onblur&&smash.searchbox.onblur()},e.onkeyup=function(e){switch(e.keyCode){case 27:return this.value="",void this.blur()}this.value.length<smash.searchbox.minAutoCompleteLength||smash.searchbox.onchange&&smash.searchbox.onchange(this.value)},smash.searchbox.i_=!0)}},smash.searchbox.empty=function(){return!(i=smash.get(document,".smash-searchbox input"))||0==i.value.length},smash.searchbox.appendTo=function(e){var s=document.createElement("div");s.innerHTML=e;var a=document.querySelector(".smash-searchbox .smash-searchbox-results");a.appendChild(s)},smash.searchbox.results=function(e){var s=document.querySelector(".smash-searchbox .smash-searchbox-results");s.innerHTML=e},smash.sidebar={i_:!1},smash.sidebar.init=function(){if(!smash.sidebar.i_){var e=document.querySelector(".smash-sidebar .lock");if(e){e.onclick=function(){smash.sidebar.toggleLock()};var s=document.querySelector(".smash-sidebar");smash.class.add(s,"is-unlocked"),smash.sidebar.i_=!0,smash.config.get("sidebar_lock")&&smash.sidebar.toggleLock()}}},smash.sidebar.toggleLock=function(){smash.sidebar.i_&&(smash.class.toggle(document.querySelector(".smash-sidebar .lock"),"unlock"),smash.class.toggle(document.querySelector(".smash-sidebar"),"is-unlocked"),smash.config.set("sidebar_lock",!smash.class.has(document.querySelector(".smash-sidebar"),"is-unlocked")))},smash.storage={},smash.storage.set=function(e,s){localStorage.setItem(e,JSON.stringify(s))},smash.storage.unset=function(e){localStorage.removeItem(e)},smash.storage.get=function(e){var s=localStorage.getItem(e);if(s)return JSON.parse(s)},smash.storage.clear=function(){localStorage.clear()},smash.workspace={baseTitle:void 0,onlasttabclosed:void 0,_ws_:void 0,_hdr_:void 0,_sb_:void 0,_tabs_:[]},smash.workspace.init=function(){smash.workspace._ws_=document.querySelector(".smash-workspace"),smash.workspace._ws_&&(smash.workspace._hdr_=document.querySelector(".smash-header"),smash.workspace._hdr_&&smash.class.add(smash.workspace._ws_,"has-header"),smash.workspace._sb_=document.querySelector(".smash-workspace .smash-sidebar"),smash.workspace._sb_&&smash.class.add(smash.workspace._ws_,"has-sidebar"))},smash.workspace.addTab=function(e,s,a,t){if(!smash.get(document,".smash-tab-pane")){var n=smash.get(document,".smash-panel");if(!n)return void console.log("To add a tab there needs to be a panel");n.innerHTML='<div class="smash-tab-pane"><div class="smash-tabs"></div><div class="smash-panes"></div></div>'}var r=smash.get(document,".smash-tab-pane .smash-tabs"),o=smash.get(document,".smash-tab-pane .smash-panes");if(document.title=smash.workspace.createTitle(s),l=smash.get(r,'.smash-tab[data-id="'+e+'"]')){var i=smash.get(o,'.smash-pane[data-id="'+e+'"]');return i.innerHTML=a,l.dataset.url=t,l.onclick(),{tab:l,pane:i}}smash.hide(o,".smash-pane"),(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active");var l=document.createElement("div");l.className="smash-tab active",l.dataset.id=e,l.dataset.url=t,l.innerHTML=s+'<i class="material-icons close">close</i>',l.onclick=function(e){(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active"),smash.class.add(this,"active"),smash.hide(document,".smash-pane"),smash.show(document,'.smash-pane[data-id="'+this.dataset.id+'"]'),this.dataset.url&&"undefined"!=this.dataset.url&&smash.router.displayURL(this.dataset.url),document.title=smash.workspace.createTitle(this.innerHTML)},smash.on(l,".close","onclick",function(e){this.parentElement.onclose&&!this.parentElement.onclose()||(smash.class.has(this.parentElement,"active")&&(this.parentElement.previousSibling?this.parentElement.previousSibling.onclick():this.parentElement.nextSibling&&this.parentElement.nextSibling.onclick()),(i=smash.get(document,'.smash-pane[data-id="'+this.parentElement.dataset.id+'"]'))&&i.parentElement.removeChild(i),this.parentElement.parentElement.removeChild(this.parentElement),this.parentElement.onclosed&&this.parentElement.onclosed(),!smash.workspace.activeTab()&&smash.workspace.onlasttabclosed&&smash.workspace.onlasttabclosed(),e.stopPropagation())}),r.appendChild(l);var i=document.createElement("div");return i.className="smash-pane",i.dataset.id=e,i.innerHTML=a,o.appendChild(i),{tab:l,pane:i}},smash.workspace.activeTab=function(){var e=smash.get(document,".smash-tab.active");if(!e)return null;var s=smash.get(document,'.smash-pane[data-id="'+e.dataset.id+'"]');return s?{tab:e,pane:s}:null},smash.workspace.createTitle=function(e){var s=e.replace(/<([^>]+?)([^>]*?)>(.*?)<\/\1>/gi,"");if(""==s){var a=document.createElement("div");a.innerHTML=e,(ts=smash.get(a,".title"))&&(s=ts.innerHTML),""==s&&(s="unknown")}return s+(smash.workspace.baseTitle?" | "+smash.workspace.baseTitle:"")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNtYXNoLmpzIiwiYWpheC5qcyIsImNsYXNzLmpzIiwiY29uZmlnLmpzIiwiY29udGV4dG1lbnUuanMiLCJjb29raWUuanMiLCJkaWFsb2cuanMiLCJleGNlcHRpb24uanMiLCJpbnB1dC5qcyIsInJvdXRlci5qcyIsInNlYXJjaGJveC5qcyIsInNpZGViYXIuanMiLCJzdG9yYWdlLmpzIiwid29ya3NwYWNlLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic21hc2giLCJpbml0IiwiY29uZmlnIiwic2lkZWJhciIsInNlYXJjaGJveCIsIndvcmtzcGFjZSIsImlucHV0IiwiZ2V0IiwicGFyZW50Iiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImdldEFsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoaWRlIiwiZWwiLCJpIiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwibmV4dFZpc2libGUiLCJuZXh0U2libGluZyIsImZpcnN0VmlzaWJsZSIsInBhcmVudEVsZW1lbnQiLCJmaXJzdENoaWxkIiwicHJldmlvdXNWaXNpYmxlIiwicHJldmlvdXNTaWJsaW5nIiwibGFzdFZpc2libGUiLCJsYXN0Q2hpbGQiLCJzaG93IiwicmVtb3ZlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib24iLCJldmVudCIsImNhbGxiYWNrIiwiZWxlbWVudHMiLCJmdXp6eUNvbXBhcmUiLCJzZWFyY2giLCJjb21wYXJlIiwidW5kZWZpbmVkIiwicmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJzcGxpdCIsImpvaW4iLCJtYXRjaCIsImZpbmROZXh0VGFiU3RvcCIsImZvcm0iLCJ1bml2ZXJzZSIsImxpc3QiLCJBcnJheSIsInByb3RvdHlwZSIsImZpbHRlciIsImNhbGwiLCJpdGVtIiwidGFiSW5kZXgiLCJpbmRleCIsImluZGV4T2YiLCJpc0VtcHR5IiwidmFsdWUiLCJhamF4IiwiX2hlYWRlcnNfIiwiYWRkSGVhZGVyIiwibmFtZSIsInJlbW92ZUhlYWRlciIsIm9uZXJyb3IiLCJtZXNzYWdlIiwib251bmF1dGhvcml6ZWQiLCJfeGhyXyIsIlhNTEh0dHBSZXF1ZXN0IiwieGhyIiwidmVyc2lvbnMiLCJBY3RpdmVYT2JqZWN0Iiwic2VuZCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJyZXNwb25zZVR5cGUiLCJhc3luYyIsIngiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInF1ZXJ5Iiwia2V5IiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInBvc3QiLCJkYXRhU3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsImNsYXNzIiwiYWRkIiwiY2xhc3NOYW1lIiwiaGFzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3ZhbHVlc18iLCJfc2lkZWJhcl9sb2NrXyIsInYiLCJzdG9yYWdlIiwib3B0aW9uIiwibyIsIkV4Y2VwdGlvbiIsInNldCIsImNvbnRleHRtZW51IiwibmV3IiwiaXRlbXMiLCJjdHgiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImxhYmVsIiwiaW5uZXJIVE1MIiwiYm9keSIsImFwcGVuZENoaWxkIiwib25tb3VzZWRvd24iLCJ0aGlzIiwiY2xvc2UiLCJ5IiwicGFnZVkiLCJvZmZzZXRIZWlnaHQiLCJpbm5lckhlaWdodCIsInRvcCIsImxlZnQiLCJwYWdlWCIsInByZXZlbnREZWZhdWx0Iiwib25jbGljayIsImNvb2tpZSIsImV4cGlyeURheXMiLCJkIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiZXhwaXJlcyIsInRvVVRDU3RyaW5nIiwiZGVjb2RlZENvb2tpZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImNhIiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImRpYWxvZyIsImNvbnRlbnQiLCJiYWNrZHJvcCIsImNoZWNrQmFja2Ryb3AiLCJ0b1N0cmluZyIsImlucHV0cyIsImdldE5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRWYWx1ZSIsIm9ua2V5dXAiLCJnZXRWYWx1ZSIsIm9uZm9jdXMiLCJmb2N1cyIsInBsYWNlaG9sZGVyIiwibCIsInNlbGVjdCIsInNlbGVjdHMiLCJvbGQiLCJzZWxlY3RlZEluZGV4IiwidGV4dCIsIm9wdGlvbnMiLCJibHVyIiwic2VsZWN0ZWQiLCJvbmNoYW5nZSIsImNoZWNrTGFiZWwiLCJyZXNldCIsImdldFRleHQiLCJob3ZlciIsInR5cGUiLCJzZXRBdHRyaWJ1dGUiLCJ2YWwiLCJ1bCIsIm9ubW91c2V1cCIsInN0b3BQcm9wYWdhdGlvbiIsImoiLCJsaSIsIm5leHQiLCJjbGljayIsIm9uYmx1ciIsInNtYXNoX3NlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsIm9ua2V5ZG93biIsImtleUNvZGUiLCJwcmV2aW91cyIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsImxhc3QiLCJzY3JvbGxIZWlnaHQiLCJxIiwicmVzdWx0cyIsImNoZWNrYm94SW5pdCIsImNoZWNrYm94IiwiY2hlY2tib3hlcyIsImNoZWNrZWQiLCJyb3V0ZXIiLCJfX3BhcnNlUm91dGVSZWdleCIsIl9fZHluYW1pY1BhcnRzIiwiX19iYXNlRGlyZWN0b3J5IiwiX19yb3V0ZXMiLCJzdGF0aWMiLCJkeW5hbWljIiwicGF0aCIsInJvdXRlIiwicGFyc2VSb3V0ZSIsImRlcHRoIiwibnVtVmFycyIsImRpc3BsYXlVUkwiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJhZGRCYXNlRGlyZWN0b3J5IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJoYW5kbGVOb3RGb3VuZCIsInJ1biIsIm9ucG9wc3RhdGUiLCJleGVjdXRlIiwiZ2V0UGF0aCIsIm1hdGNoZXMiLCJ2YXJOdW0iLCJ2YXJzIiwiaHJlZiIsImhvc3QiLCJob3N0bmFtZSIsImNoZWNrUGF0aCIsInBhdGhuYW1lIiwiY2xlYW5QYXRoIiwiUmVnRXhwIiwic2V0QmFzZURpcmVjdG9yeSIsImRpcmVjdG9yeSIsInF1ZXJ5UGFyYW0iLCJwYXJhbSIsInJlZ2V4UyIsImV4ZWMiLCJpXyIsIm1pbkF1dG9Db21wbGV0ZUxlbmd0aCIsInNzYiIsImVtcHR5IiwiYXBwZW5kVG8iLCJub2RlIiwic2libCIsInRvZ2dsZUxvY2siLCJzaWIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidW5zZXQiLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsInBhcnNlIiwiY2xlYXIiLCJiYXNlVGl0bGUiLCJvbmxhc3R0YWJjbG9zZWQiLCJfd3NfIiwiX2hkcl8iLCJfc2JfIiwiX3RhYnNfIiwiYWRkVGFiIiwidGl0bGUiLCJwYW5lbCIsInRhYnMiLCJwYW5lc0NvbnRhaW5lciIsImNyZWF0ZVRpdGxlIiwidGFiIiwicGFuZSIsImRhdGFzZXQiLCJhY3RpdmUiLCJvbmNsb3NlIiwib25jbG9zZWQiLCJhY3RpdmVUYWIiLCJ0IiwiZGl2IiwidHMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFBQyxpQkFBQSxPQUFBLFNBQUFDLEdBQ0FDLE1BQUFDLFNBQ0EsRUFFQSxJQUFBRCxTQUVBQSxPQUFBQyxLQUFBLFdBQ0FELE1BQUFFLE9BQUFELE9BQ0FELE1BQUFHLFFBQUFGLE9BQ0FELE1BQUFJLFVBQUFILE9BQ0FELE1BQUFLLFVBQUFKLE9BQ0FELE1BQUFNLE1BQUFMLFFBR0FELE1BQUFPLElBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUNBLE1BQUFELEdBQUFFLGNBQUFELEdBQ0EsTUFBQVYsR0FDQVksUUFBQUMsSUFBQWIsS0FLQUMsTUFBQWEsT0FBQSxTQUFBTCxFQUFBQyxHQUNBLElBQ0EsTUFBQUQsR0FBQU0saUJBQUFMLEdBQ0EsTUFBQVYsR0FDQVksUUFBQUMsSUFBQWIsS0FLQUMsTUFBQWUsS0FBQSxTQUFBUCxFQUFBQyxHQUNBLEdBQUFPLEVBRUFBLEdBREFQLEdBQUEsZ0JBQUFBLEdBQ0FULE1BQUFhLE9BQUFMLEVBQUFDLElBRUFELEVBRUEsS0FBQSxHQUFBUyxHQUFBLEVBQUFBLEVBQUFELEVBQUFFLE9BQUFELElBQ0FELEVBQUFDLEdBQUFFLE1BQUFDLFFBQUEsUUFJQXBCLE1BQUFxQixZQUFBLFNBQUFMLEdBQ0EsS0FBQUEsRUFBQUEsRUFBQU0sYUFDQSxHQUFBLFFBQUFOLEVBQUFHLE1BQUFDLFFBR0EsTUFBQUosSUFLQWhCLE1BQUF1QixhQUFBLFNBQUFQLEdBRUEsR0FEQUEsRUFBQUEsRUFBQVEsY0FBQUMsV0FDQSxRQUFBVCxFQUFBRyxNQUFBQyxRQUNBLE1BQUFKLEVBRUEsTUFBQUEsRUFBQUEsRUFBQU0sYUFDQSxHQUFBLFFBQUFOLEVBQUFHLE1BQUFDLFFBR0EsTUFBQUosSUFLQWhCLE1BQUEwQixnQkFBQSxTQUFBVixHQUNBLEtBQUFBLEVBQUFBLEVBQUFXLGlCQUNBLEdBQUEsUUFBQVgsRUFBQUcsTUFBQUMsUUFHQSxNQUFBSixJQUtBaEIsTUFBQTRCLFlBQUEsU0FBQVosR0FFQSxHQURBQSxFQUFBQSxFQUFBUSxjQUFBSyxVQUNBLFFBQUFiLEVBQUFHLE1BQUFDLFFBQ0EsTUFBQUosRUFFQSxNQUFBQSxFQUFBQSxFQUFBVyxpQkFDQSxHQUFBLFFBQUFYLEVBQUFHLE1BQUFDLFFBR0EsTUFBQUosSUFLQWhCLE1BQUE4QixLQUFBLFNBQUF0QixFQUFBQyxHQUNBLEdBQUFPLEVBRUFBLEdBREFQLEdBQUEsZ0JBQUFBLEdBQ0FULE1BQUFhLE9BQUFMLEVBQUFDLElBRUFELEVBRUEsS0FBQSxHQUFBUyxHQUFBLEVBQUFBLEVBQUFELEVBQUFFLE9BQUFELElBQ0FELEVBQUFDLEdBQUFFLE1BQUFDLFFBQUEsSUFJQXBCLE1BQUErQixPQUFBLFNBQUFmLEdBQ0FBLEVBQUFnQixXQUFBQyxZQUFBakIsSUFHQWhCLE1BQUFrQyxHQUFBLFNBQUExQixFQUFBQyxFQUFBMEIsRUFBQUMsR0FFQSxJQUFBLEdBREFDLEdBQUFyQyxNQUFBYSxPQUFBTCxFQUFBQyxHQUNBUSxFQUFBLEVBQUFBLEVBQUFvQixFQUFBbkIsT0FBQUQsSUFDQW9CLEVBQUFwQixHQUFBa0IsR0FBQUMsR0FJQXBDLE1BQUFzQyxhQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsUUFBQUQsR0FBQUMsUUFBQUYsRUFDQSxPQUFBLENBRUEsSUFBQUcsR0FBQSxNQUFBSCxFQUFBSSxjQUFBQyxRQUFBLEtBQUEsT0FBQUMsTUFBQSxJQUFBQyxLQUFBLE9BQUEsS0FDQSxPQUFBTixHQUFBRyxjQUFBSSxNQUFBTCxJQUdBMUMsTUFBQWdELGdCQUFBLFNBQUFDLEVBQUFqQyxHQUNBLEdBQUFrQyxHQUFBbEQsTUFBQWEsT0FBQW9DLEVBQUEsZ0ZBQ0FFLEVBQUFDLE1BQUFDLFVBQUFDLE9BQUFDLEtBQUFMLEVBQUEsU0FBQU0sR0FBQSxNQUFBQSxHQUFBQyxVQUFBLE1BQ0FDLEVBQUFQLEVBQUFRLFFBQUEzQyxFQUNBLE9BQUFtQyxHQUFBTyxFQUFBLElBQUFQLEVBQUEsSUFHQW5ELE1BQUE0RCxRQUFBLFNBQUFDLEdBQ0EsT0FBQUEsR0FDQSxJQUFBcEIsUUFDQSxJQUFBLE1BQ0EsSUFBQSxHQUNBLE9BQUEsRUFFQSxPQUFBLEdDeklBekMsTUFBQThELE1BQ0FDLGNBR0EvRCxNQUFBOEQsS0FBQUUsVUFBQSxTQUFBQyxFQUFBSixHQUNBN0QsTUFBQThELEtBQUFDLFVBQUFFLEdBQUFKLEdBR0E3RCxNQUFBOEQsS0FBQUksYUFBQSxTQUFBRCxTQUNBakUsT0FBQThELEtBQUFDLFVBQUFFLElBR0FqRSxNQUFBOEQsS0FBQUssUUFBQSxTQUFBQyxHQUNBekQsUUFBQUMsSUFBQXdELElBR0FwRSxNQUFBOEQsS0FBQU8sZUFBQSxTQUFBRCxHQUNBcEUsTUFBQThELEtBQUFLLFFBQUFDLElBR0FwRSxNQUFBOEQsS0FBQVEsTUFBQSxXQUNBLEdBQUEsbUJBQUFDLGdCQUNBLE1BQUEsSUFBQUEsZUFXQSxLQUFBLEdBREFDLEdBUkFDLEdBQ0EscUJBQ0EscUJBQ0EscUJBQ0EscUJBQ0EscUJBQ0EscUJBR0F4RCxFQUFBLEVBQUFBLEVBQUF3RCxFQUFBdkQsT0FBQUQsSUFDQSxJQUNBdUQsRUFBQSxHQUFBRSxlQUFBRCxFQUFBeEQsR0FDQSxPQUNBLE1BQUFsQixJQUdBLE1BQUF5RSxJQUdBeEUsTUFBQThELEtBQUFhLEtBQUEsU0FBQUMsRUFBQXhDLEVBQUF5QyxFQUFBQyxFQUFBQyxFQUFBWixFQUFBYSxHQUNBdkMsU0FBQXVDLElBQ0FBLEdBQUEsR0FFQXZDLFNBQUEwQixJQUNBQSxFQUFBbkUsTUFBQThELEtBQUFLLFFBRUEsSUFBQWMsR0FBQWpGLE1BQUE4RCxLQUFBUSxPQUNBVyxHQUFBRixhQUFBQSxFQUNBRSxFQUFBQyxtQkFBQSxXQUNBLEdBQUEsR0FBQUQsRUFBQUUsV0FDQSxPQUFBRixFQUFBRyxRQUNBLElBQUEsS0FDQSxJQUFBLEtBQ0FoRCxHQUNBQSxFQUFBNkMsRUFBQUksU0FFQSxNQUNBLEtBQUEsS0FDQXJGLE1BQUE4RCxLQUFBTyxlQUFBWSxFQUFBSSxTQUNBLE1BQ0EsU0FDQWxCLEVBQUFjLEVBQUFJLFlBSUFKLEVBQUFLLEtBQUFULEVBQUFELEVBQUFJLEdBQ0EsUUFBQUQsRUFDQUUsRUFBQU0saUJBQUEsZUFBQSxvQkFDQSxRQUFBVixHQUNBSSxFQUFBTSxpQkFBQSxlQUFBLG9DQUVBLEtBQUEsR0FBQXRCLEtBQUFqRSxPQUFBOEQsS0FBQUMsVUFDQWtCLEVBQUFNLGlCQUFBdEIsRUFBQWpFLE1BQUE4RCxLQUFBQyxVQUFBRSxHQUVBZ0IsR0FBQU4sS0FBQUcsSUFHQTlFLE1BQUE4RCxLQUFBdkQsSUFBQSxTQUFBcUUsRUFBQXhDLEVBQUEwQyxFQUFBQyxFQUFBWixFQUFBYSxHQUNBLEdBQUFRLEtBQ0EsS0FBQSxHQUFBQyxLQUFBWCxHQUNBVSxFQUFBRSxLQUFBQyxtQkFBQUYsR0FBQSxJQUFBRSxtQkFBQWIsRUFBQVcsSUFFQXpGLE9BQUE4RCxLQUFBYSxLQUFBQyxHQUFBWSxFQUFBdEUsT0FBQSxJQUFBc0UsRUFBQTFDLEtBQUEsS0FBQSxJQUFBVixFQUFBLE1BQUEsS0FBQTJDLEVBQUFaLEVBQUFhLElBR0FoRixNQUFBOEQsS0FBQThCLEtBQUEsU0FBQWhCLEVBQUF4QyxFQUFBMEMsRUFBQUMsRUFBQVosRUFBQWEsR0FDQSxHQUFBYSxFQUNBLElBQUFmLEVBQ0EsR0FBQSxRQUFBQyxFQUFBLENBQ0EsR0FBQVMsS0FDQSxLQUFBLEdBQUFDLEtBQUFYLEdBQ0FVLEVBQUFFLEtBQUFDLG1CQUFBRixHQUFBLElBQUFFLG1CQUFBYixFQUFBVyxJQUVBSSxHQUFBTCxFQUFBMUMsS0FBQSxTQUVBK0MsR0FBQUMsS0FBQUMsVUFBQWpCLEVBR0E5RSxPQUFBOEQsS0FBQWEsS0FBQUMsRUFBQXhDLEVBQUEsT0FBQXlELEVBQUFkLEVBQUFaLEVBQUFhLElDdEdBaEYsTUFBQWdHLFNBRUFoRyxNQUFBZ0csTUFBQUMsSUFBQSxTQUFBakYsRUFBQWtGLEdBQ0FsRyxNQUFBZ0csTUFBQUcsSUFBQW5GLEVBQUFrRixLQUNBbEYsRUFBQW9GLFVBQUFwRixFQUFBb0YsVUFBQUgsSUFBQUMsR0FBQWxGLEVBQUFrRixXQUFBLElBQUFBLElBSUFsRyxNQUFBZ0csTUFBQWpFLE9BQUEsU0FBQWYsRUFBQWtGLEdBQ0FsRyxNQUFBZ0csTUFBQUcsSUFBQW5GLEVBQUFrRixLQUNBbEYsRUFBQW9GLFVBQUFwRixFQUFBb0YsVUFBQXJFLE9BQUFtRSxHQUFBbEYsRUFBQWtGLFVBQUFsRixFQUFBa0YsVUFBQXRELFFBQUFzRCxFQUFBLE1BSUFsRyxNQUFBZ0csTUFBQUcsSUFBQSxTQUFBbkYsRUFBQWtGLEdBQ0EsT0FBQSxJQUFBbEYsRUFBQWtGLFVBQUEsS0FBQXRELFFBQUEsVUFBQSxLQUFBZSxRQUFBLElBQUF1QyxFQUFBLE1BQUEsR0FHQWxHLE1BQUFnRyxNQUFBSyxPQUFBLFNBQUFyRixFQUFBa0YsR0FDQWxHLE1BQUFnRyxNQUFBRyxJQUFBbkYsRUFBQWtGLEdBQUFsRyxNQUFBZ0csTUFBQWpFLE9BQUFmLEVBQUFrRixHQUFBbEcsTUFBQWdHLE1BQUFDLElBQUFqRixFQUFBa0YsSUNuQkFsRyxNQUFBRSxRQUNBb0csVUFDQUMsZ0JBQUEsSUFJQXZHLE1BQUFFLE9BQUFELEtBQUEsV0FDQSxHQUFBdUcsR0FBQXhHLE1BQUF5RyxRQUFBbEcsSUFBQSxTQUNBaUcsS0FDQXhHLE1BQUFFLE9BQUFvRyxTQUFBRSxJQUlBeEcsTUFBQUUsT0FBQUssSUFBQSxTQUFBbUcsR0FDQSxHQUFBQyxHQUFBLElBQUFELEVBQUEsR0FDQSxJQUFBQyxJQUFBM0csT0FBQUUsT0FBQW9HLFNBQ0EsTUFBQXRHLE9BQUFFLE9BQUFvRyxTQUFBSyxFQUVBLE1BQUEsSUFBQTNHLE9BQUE0RyxVQUFBLE1BQUEsMEJBQUFGLEVBQUEsTUFHQTFHLE1BQUFFLE9BQUEyRyxJQUFBLFNBQUFILEVBQUE3QyxHQUNBLEdBQUE4QyxHQUFBLElBQUFELEVBQUEsR0FDQSxLQUFBQyxJQUFBM0csT0FBQUUsT0FBQW9HLFNBQ0EsS0FBQSxJQUFBdEcsT0FBQTRHLFVBQUEsTUFBQSwwQkFBQUYsRUFBQSxJQUVBMUcsT0FBQUUsT0FBQW9HLFNBQUFLLEdBQUE5QyxFQUNBN0QsTUFBQXlHLFFBQUFJLElBQUEsU0FBQTdHLE1BQUFFLE9BQUFvRyxXQzNCQXRHLE1BQUE4RyxlQUVBOUcsTUFBQThHLFlBQUFDLElBQUEsU0FBQWhILEVBQUFpSCxJQUNBQyxFQUFBakgsTUFBQU8sSUFBQTJHLFNBQUEseUJBQ0FsSCxNQUFBK0IsT0FBQWtGLEVBRUEsSUFBQUEsR0FBQUMsU0FBQUMsY0FBQSxNQUNBRixHQUFBRyxHQUFBLG9CQUNBLElBQUFqRSxHQUFBLHdCQUNBLEtBQUFsQyxFQUFBLEVBQUFBLEVBQUErRixFQUFBOUYsT0FBQUQsSUFLQWtDLEdBSkEsYUFBQTZELEVBQUEvRixHQUlBLHVCQUFBQSxFQUFBLEtBQUErRixFQUFBL0YsR0FBQW9HLE1BQUEsUUFIQSw2QkFLQWxFLElBQUEsUUFDQThELEVBQUFLLFVBQUFuRSxFQUNBK0QsU0FBQUssS0FBQUMsWUFBQVAsRUFDQSxJQUFBekQsRUFDQSxLQUFBdkMsRUFBQSxFQUFBQSxFQUFBK0YsRUFBQTlGLE9BQUFELElBQ0EsYUFBQStGLEVBQUEvRixLQUdBdUMsRUFBQXhELE1BQUFPLElBQUEwRyxFQUFBLGVBQUFoRyxHQUNBdUMsRUFBQXBCLFNBQUE0RSxFQUFBL0YsR0FBQW1CLFNBQ0FvQixFQUFBaUUsWUFBQSxTQUFBMUgsR0FDQTJILEtBQUF0RixTQUFBckMsR0FDQUMsTUFBQThHLFlBQUFhLE1BQUE1SCxJQUdBLElBQUE2SCxHQUFBN0gsRUFBQThILEtBUUEsT0FQQUQsR0FBQVgsRUFBQWEsYUFBQWpJLE9BQUFrSSxjQUNBSCxFQUFBL0gsT0FBQWtJLFlBQUFkLEVBQUFhLGFBQUEsSUFFQWIsRUFBQTlGLE1BQUE2RyxJQUFBSixFQUNBWCxFQUFBOUYsTUFBQThHLEtBQUFsSSxFQUFBbUksTUFDQW5JLEVBQUFvSSxpQkFDQWpCLFNBQUFrQixRQUFBcEksTUFBQThHLFlBQUFhLE9BQ0EsR0FHQTNILE1BQUE4RyxZQUFBYSxNQUFBLFNBQUE1SCxHQUNBQSxFQUFBb0ksa0JBQ0FsQixJQUFBakgsTUFBQU8sSUFBQTJHLFNBQUEseUJBQ0FsSCxNQUFBK0IsT0FBQWtGLEtBRUFDLFNBQUFrQixRQUFBM0YsUUMvQ0F6QyxNQUFBcUksVUFFQXJJLE1BQUFxSSxPQUFBeEIsSUFBQSxTQUFBNUMsRUFBQUosRUFBQXlFLEdBQ0EsR0FBQUMsR0FBQSxHQUFBQyxLQUNBRCxHQUFBRSxRQUFBRixFQUFBRyxVQUFBLEdBQUFKLEVBQUEsR0FBQSxHQUFBLElBQ0EsSUFBQUssR0FBQSxXQUFBSixFQUFBSyxhQUNBMUIsVUFBQW1CLE9BQUFwRSxFQUFBLElBQUFKLEVBQUEsSUFBQThFLEVBQUEsV0FHQTNJLE1BQUFxSSxPQUFBOUgsSUFBQSxTQUFBMEQsR0FJQSxJQUFBLEdBSEFBLEdBQUFBLEVBQUEsSUFDQTRFLEVBQUFDLG1CQUFBNUIsU0FBQW1CLFFBQ0FVLEVBQUFGLEVBQUFoRyxNQUFBLEtBQ0E1QixFQUFBLEVBQUFBLEVBQUE4SCxFQUFBN0gsT0FBQUQsSUFBQSxDQUVBLElBREEsR0FBQStILEdBQUFELEVBQUE5SCxHQUNBLEtBQUErSCxFQUFBQyxPQUFBLElBQ0FELEVBQUFBLEVBQUFFLFVBQUEsRUFFQSxJQUFBLEdBQUFGLEVBQUFyRixRQUFBTSxHQUNBLE1BQUErRSxHQUFBRSxVQUFBakYsRUFBQS9DLE9BQUE4SCxFQUFBOUgsUUFHQSxNQUFBLElDdEJBbEIsTUFBQW1KLFVBRUFuSixNQUFBbUosT0FBQXBDLElBQUEsU0FBQXFDLEdBQ0EsR0FBQUMsR0FBQXJKLE1BQUFtSixPQUFBRyxnQkFFQUgsRUFBQWpDLFNBQUFDLGNBQUEsTUFDQWdDLEdBQUFqRCxVQUFBLGVBQ0FpRCxFQUFBN0IsVUFBQThCLEVBQ0FDLEVBQUE3QixZQUFBMkIsSUFHQW5KLE1BQUFtSixPQUFBRyxjQUFBLFdBQ0EsR0FBQUQsRUFBQXJKLE1BQUFPLElBQUEyRyxTQUFBLDBCQUlBLE9BSEFpQyxPQUFBbkosTUFBQU8sSUFBQTJHLFNBQUEsMENBQ0FtQyxFQUFBcEgsWUFBQWtILFFBRUFFLENBRUEsSUFBQUEsR0FBQW5DLFNBQUFDLGNBQUEsTUFLQSxPQUpBa0MsR0FBQW5ELFVBQUEsd0JBQ0FtRCxFQUFBL0IsVUFBQSw4Q0FDQXRILE1BQUFPLElBQUE4SSxFQUFBLDRCQUFBakIsUUFBQXBJLE1BQUFtSixPQUFBeEIsTUFDQTNILE1BQUFPLElBQUEyRyxTQUFBLFFBQUFNLFlBQUE2QixHQUNBQSxHQUdBckosTUFBQW1KLE9BQUF4QixNQUFBLFlBQ0F3QixPQUFBbkosTUFBQU8sSUFBQTJHLFNBQUEsNEJBQ0FsSCxNQUFBTyxJQUFBMkcsU0FBQSxRQUFBakYsWUFBQWtILFNDNUJBbkosTUFBQTRHLFVBQUEsU0FBQS9DLEVBQUFPLEdBQ0FzRCxLQUFBN0QsTUFBQUEsRUFDQTZELEtBQUF0RCxRQUFBQSxFQUNBc0QsS0FBQTZCLFNBQUEsV0FDQSxNQUFBLGtCQUFBN0IsS0FBQTdELE1BQUEsS0FBQTZELEtBQUF0RCxVQ0pBcEUsTUFBQU0sU0FFQU4sTUFBQU0sTUFBQUwsS0FBQSxXQUdBLElBQUEsR0FEQUssR0FEQWtKLEVBQUF0QyxTQUFBcEcsaUJBQUEsZ0RBRUFHLEVBQUEsRUFBQUEsRUFBQXVJLEVBQUF0SSxPQUFBRCxJQUVBLEdBREFYLEVBQUFrSixFQUFBdkksSUFDQWpCLE1BQUFnRyxNQUFBRyxJQUFBN0YsRUFBQWtCLGNBQUEscUJBQUEsQ0F5Q0EsR0FyQ0FsQixFQUFBa0IsY0FBQWlJLFFBQUEsV0FDQSxNQUFBL0IsTUFBQWhILGNBQUEsU0FBQWdKLGFBQUEsU0FHQXBKLEVBQUFrQixjQUFBbUksU0FBQSxTQUFBOUYsSUFDQXZELEVBQUFvSCxLQUFBaEgsY0FBQSxXQUNBSixFQUFBdUQsTUFBQUEsRUFDQXZELEVBQUFzSixTQUNBdEosRUFBQXNKLFlBRUF0SixFQUFBb0gsS0FBQWhILGNBQUEsZUFDQUosRUFBQXVELE1BQUFBLEVBQ0F2RCxFQUFBc0osU0FDQXRKLEVBQUFzSixZQUtBdEosRUFBQWtCLGNBQUFxSSxTQUFBLFdBQ0EsR0FBQXZKLEVBQUFvSCxLQUFBaEgsY0FBQSxTQUFBLENBQ0EsR0FBQUosR0FBQW9ILEtBQUFoSCxjQUFBLFFBQ0EsT0FBQUosR0FBQXVELE1BQ0EsR0FBQXZELEVBQUFvSCxLQUFBaEgsY0FBQSxZQUFBLENBQ0EsR0FBQUosR0FBQW9ILEtBQUFoSCxjQUFBLFdBQ0EsT0FBQUosR0FBQXVELE1BRUEsTUFBQSxPQUdBdkQsRUFBQWtCLGNBQUFzSSxRQUFBLFNBQUEvSixJQUNBTyxFQUFBb0gsS0FBQWhILGNBQUEsVUFDQUosRUFBQXlKLFNBQ0F6SixFQUFBb0gsS0FBQWhILGNBQUEsY0FDQUosRUFBQXlKLFNBSUEvSixNQUFBZ0csTUFBQUcsSUFBQTdGLEVBQUFrQixjQUFBLHNCQUFBLENBQ0F4QixNQUFBZ0csTUFBQWpFLE9BQUF6QixFQUFBa0IsY0FBQSxzQkFDQXhCLE1BQUFnRyxNQUFBQyxJQUFBM0YsRUFBQWtCLGNBQUEsaUJBRUEsSUFBQTZGLEdBQUFILFNBQUFDLGNBQUEsUUFDQUUsR0FBQUMsVUFBQWhILEVBQUEwSixZQUNBMUosRUFBQWtCLGNBQUFnRyxZQUFBSCxHQUNBL0csRUFBQXNKLFFBQUEsU0FBQTdKLEdBQ0EsR0FBQWtLLEdBQUF2QyxLQUFBbEcsY0FBQWQsY0FBQSxRQUNBdUosS0FDQSxJQUFBdkMsS0FBQTdELE1BQ0E3RCxNQUFBZ0csTUFBQUMsSUFBQWdFLEVBQUEsUUFFQWpLLE1BQUFnRyxNQUFBakUsT0FBQWtJLEVBQUEsVUFNQTNKLEVBQUFrQixjQUFBa0ksYUFBQSxVQUNBcEosRUFBQWtCLGNBQUFtSSxTQUFBckosRUFBQWtCLGNBQUFrSSxhQUFBLFVBR0ExSixNQUFBZ0csTUFBQUMsSUFBQTNGLEVBQUFrQixjQUFBLHFCQUlBLElBQUEsR0FEQTBJLEdBREFDLEVBQUFqRCxTQUFBcEcsaUJBQUEsd0JBRUFHLEVBQUEsRUFBQUEsRUFBQWtKLEVBQUFqSixPQUFBRCxJQUVBLEdBREFpSixFQUFBQyxFQUFBbEosSUFDQWpCLE1BQUFnRyxNQUFBRyxJQUFBK0QsRUFBQTFJLGNBQUEscUJBQUEsQ0FHQSxHQUFBeEIsTUFBQWdHLE1BQUFHLElBQUErRCxFQUFBMUksY0FBQSxzQkFBQSxDQUNBeEIsTUFBQWdHLE1BQUFqRSxPQUFBbUksRUFBQTFJLGNBQUEsc0JBQ0F4QixNQUFBZ0csTUFBQUMsSUFBQWlFLEVBQUExSSxjQUFBLGlCQUNBLElBQUE2RixHQUFBSCxTQUFBQyxjQUFBLFFBQ0FFLEdBQUFDLFVBQUE0QyxFQUFBUixhQUFBLGVBQ0FRLEVBQUExSSxjQUFBZ0csWUFBQUgsR0FHQTZDLEVBQUExSSxjQUFBaUksUUFBQSxXQUNBLE1BQUEvQixNQUFBaEgsY0FBQSxVQUFBZ0osYUFBQSxTQUdBUSxFQUFBMUksY0FBQW1JLFNBQUEsU0FBQTlGLEdBQ0E3RCxNQUFBZ0csTUFBQWpFLE9BQUEyRixLQUFBLGNBQ0EsSUFBQXdDLEdBQUF4QyxLQUFBaEgsY0FBQSxVQUNBSixFQUFBb0gsS0FBQWhILGNBQUEsU0FDQTBKLEVBQUFGLEVBQUFyRyxLQUVBLElBREFxRyxFQUFBckcsTUFBQUEsRUFDQXFHLEVBQUFHLGVBQUEsRUFBQSxDQUNBLEdBQUFDLEdBQUFKLEVBQUFLLFFBQUFMLEVBQUFHLGVBQUFDLElBQ0FBLElBQUEsSUFBQUEsRUFDQWhLLEVBQUF1RCxNQUFBeUcsR0FFQWhLLEVBQUF1RCxNQUFBLEdBQ0F2RCxFQUFBMEosWUFBQUUsRUFBQVIsYUFBQSxvQkFHQXBKLEdBQUF1RCxNQUFBLEdBQ0F2RCxFQUFBMEosWUFBQUUsRUFBQVIsYUFBQSxjQUVBcEosR0FBQXlKLFFBQ0F6SixFQUFBa0ssT0FDQUosR0FBQXZHLEtBQ0E0RyxTQUFBekssTUFBQU8sSUFBQW1ILEtBQUFsRyxjQUFBLGVBQ0F4QixNQUFBZ0csTUFBQWpFLE9BQUEwSSxTQUFBLFlBRUEsSUFBQTVHLElBQ0E0RyxTQUFBekssTUFBQU8sSUFBQW1ILEtBQUEsYUFBQTdELEVBQUEsUUFDQTdELE1BQUFnRyxNQUFBQyxJQUFBd0UsU0FBQSxZQUdBUCxFQUFBUSxVQUNBUixFQUFBUSxXQUVBaEQsS0FBQWdELFVBQ0FoRCxLQUFBZ0QsWUFHQWhELEtBQUFpRCxjQUdBVCxFQUFBMUksY0FBQXNJLFFBQUEsU0FBQS9KLEdBQ0EsR0FBQU8sR0FBQW9ILEtBQUFoSCxjQUFBLFFBQ0FKLEdBQUF5SixNQUFBaEssSUFHQW1LLEVBQUExSSxjQUFBcUksU0FBQSxXQUNBLEdBQUFLLEdBQUF4QyxLQUFBaEgsY0FBQSxTQUNBLE9BQUF3SixHQUFBRyxnQkFBQSxFQUNBLEtBRUFILEVBQUFLLFFBQUFMLEVBQUFHLGVBQUF4RyxPQUdBcUcsRUFBQTFJLGNBQUFvSixNQUFBLFdBQ0E1SyxNQUFBTyxJQUFBbUgsS0FBQSxTQUFBN0QsTUFBQTZELEtBQUFtRCxVQUNBbkQsS0FBQWlELGFBQ0EzSyxNQUFBTyxJQUFBbUgsS0FBQSxTQUFBOEMsUUFDQU0sTUFBQTlLLE1BQUFPLElBQUFtSCxLQUFBLGlCQUNBMUgsTUFBQWdHLE1BQUFqRSxPQUFBK0ksTUFBQSxVQUlBWixFQUFBMUksY0FBQW1KLFdBQUEsV0FDQSxHQUFBVixHQUFBdkMsS0FBQWhILGNBQUEsUUFDQXVKLEtBQ0F2QyxLQUFBbUMsWUFBQSxJQUFBbkMsS0FBQW1DLFdBQ0E3SixNQUFBZ0csTUFBQUMsSUFBQWdFLEVBQUEsUUFFQWpLLE1BQUFnRyxNQUFBakUsT0FBQWtJLEVBQUEsVUFLQUMsRUFBQTFJLGNBQUFxSixRQUFBLFdBQ0EsR0FBQVgsR0FBQXhDLEtBQUFoSCxjQUFBLFNBQ0EsT0FBQXdKLEdBQUFHLGdCQUFBLEVBQ0EsS0FFQUgsRUFBQUssUUFBQUwsRUFBQUcsZUFBQS9DLFVBR0EsSUFBQWhILEdBQUE0RyxTQUFBQyxjQUFBLFFBQ0E3RyxHQUFBeUssS0FBQSxPQUNBekssRUFBQTBKLFlBQUFFLEVBQUFSLGFBQUEsZUFDQXBKLEVBQUEwSyxhQUFBLFdBQUEsWUFDQWQsRUFBQTFJLGNBQUFnRyxZQUFBbEgsRUFFQSxJQUVBMkssR0FGQVYsRUFBQUwsRUFBQXBKLGlCQUFBLFVBQ0FvSyxFQUFBaEUsU0FBQUMsY0FBQSxLQUVBK0QsR0FBQUMsVUFBQSxTQUFBcEwsR0FDQUEsRUFBQXFMLGtCQUVBLEtBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBZCxFQUFBckosT0FBQW1LLElBQUEsQ0FDQSxHQUFBM0UsR0FBQTZELEVBQUFjLEVBRUEsSUFEQUosRUFBQXZFLEVBQUFnRCxhQUFBLFNBQ0F1QixHQUFBLEtBQUFBLEVBQUEsQ0FHQSxHQUFBSyxHQUFBcEUsU0FBQUMsY0FBQSxLQUNBbUUsR0FBQU4sYUFBQSxRQUFBdEUsRUFBQTdDLE9BQ0F5SCxFQUFBaEUsVUFBQSxJQUFBWixFQUFBWSxVQUFBLFNBQUFaLEVBQUFZLFVBQ0E0RCxFQUFBMUQsWUFBQThELEdBQ0FBLEVBQUE3RCxZQUFBLFNBQUExSCxHQVVBLE1BVEEySCxNQUFBbEcsY0FBQUEsY0FBQW1JLFNBQUFqQyxLQUFBZ0MsYUFBQSxXQUNBNkIsS0FBQXZMLE1BQUFnRCxnQkFBQTBFLEtBQUFsRyxjQUFBQSxjQUFBQSxjQUFBa0csS0FBQWxHLGNBQUFBLGlCQUNBK0osS0FBQXhCLFFBRUFoSyxFQUFBcUwsa0JBQ0FyTCxFQUFBb0ksaUJBQ0F0SSxPQUFBc0wsV0FDQXRMLE9BQUFzTCxhQUVBLElBR0FqQixFQUFBMUksY0FBQWdHLFlBQUEwRCxHQUNBNUssRUFBQXdKLFFBQUEsU0FBQS9KLEdBQ0FDLE1BQUFnRyxNQUFBRyxJQUFBdUIsS0FBQWxHLGNBQUEsaUJBR0FrRyxLQUFBbEcsY0FBQW1KLGFBQ0FqRCxLQUFBbEcsY0FBQWdLLFVBR0FsTCxFQUFBbUwsT0FBQSxTQUFBMUwsR0FDQUYsT0FBQXNMLFdBQ0F0TCxPQUFBc0wsYUFJQWpCLEVBQUExSSxjQUFBNEcsUUFBQSxXQUNBcEksTUFBQWdHLE1BQUFDLElBQUF5QixLQUFBLGNBQ0EsSUFBQXBILEdBQUFOLE1BQUFPLElBQUFtSCxLQUFBLFNBQ0F3QyxFQUFBbEssTUFBQU8sSUFBQW1ILEtBQUEsVUFDQWdFLEVBQUFoRSxJQUNBcEgsR0FBQXVELE9BQUEsSUFBQXZELEVBQUF1RCxNQUNBdkQsRUFBQTBLLGFBQUEsY0FBQTFLLEVBQUF1RCxPQUVBdkQsRUFBQTBLLGFBQUEsY0FBQWQsRUFBQVIsYUFBQSxnQkFFQXBKLEVBQUFxTCxnQkFBQSxZQUNBckwsRUFBQWtLLE9BQ0FsSyxFQUFBdUQsTUFBQSxHQUNBaEUsT0FBQXNMLFVBQUEsV0FLQSxHQUpBdEwsT0FBQXNMLFVBQUEsS0FDQTdLLEVBQUFzSixRQUFBLEtBQ0F0SixFQUFBMEssYUFBQSxXQUFBLFlBQ0FVLEVBQUFkLFFBQ0E1RCxNQUFBaEgsTUFBQWEsT0FBQTZLLEVBQUEsU0FBQSxDQUNBLElBQUEsR0FBQXpLLEdBQUEsRUFBQUEsRUFBQStGLE1BQUE5RixPQUFBRCxJQUNBK0YsTUFBQS9GLEdBQUFFLE1BQUFDLFFBQUEsRUFFQXBCLE9BQUE4QixLQUFBNEosRUFBQSxNQUdBLE1BREExTCxPQUFBZ0csTUFBQWpFLE9BQUEySixFQUFBLGdCQUNBLEdBRUFwTCxFQUFBc0wsVUFBQSxTQUFBN0wsR0FDQSxPQUFBQSxFQUFBOEwsU0FDQSxJQUFBLEdBQ0EsT0FBQSxDQUNBLEtBQUEsSUFDQSxJQUFBLEtBQ0FmLE1BQUE5SyxNQUFBTyxJQUFBbUwsRUFBQSxpQkFDQVosTUFBQXJELFlBQUExSCxFQUVBLE1BQ0EsS0FBQSxJQUNBLEdBQUErSyxNQUFBOUssTUFBQU8sSUFBQW1MLEVBQUEsZUFDQTFMLE1BQUFnRyxNQUFBakUsT0FBQStJLE1BQUEsVUFDQWdCLFNBQUE5TCxNQUFBMEIsZ0JBQUFvSixTQUNBOUssTUFBQWdHLE1BQUFDLElBQUE2RixTQUFBLFNBQ0FBLFNBQUF0SyxjQUFBdUssVUFBQUQsU0FBQUUsWUFFQUMsS0FBQWpNLE1BQUE0QixZQUFBa0osVUFDQTlLLE1BQUFnRyxNQUFBQyxJQUFBZ0csS0FBQSxTQUNBQSxLQUFBekssY0FBQXVLLFVBQUFFLEtBQUF6SyxjQUFBMEssa0JBR0EsQ0FDQSxHQUFBWixHQUFBdEwsTUFBQU8sSUFBQW1MLEVBQUEsVUFDQU8sS0FBQWpNLE1BQUE0QixZQUFBMEosTUFDQXRMLE1BQUFnRyxNQUFBQyxJQUFBZ0csS0FBQSxTQUNBQSxLQUFBekssY0FBQXVLLFVBQUFFLEtBQUF6SyxjQUFBMEssY0FHQSxLQUNBLEtBQUEsSUFDQSxHQUFBcEIsTUFBQTlLLE1BQUFPLElBQUFtTCxFQUFBLGVBQ0ExTCxNQUFBZ0csTUFBQWpFLE9BQUErSSxNQUFBLFVBQ0FTLEtBQUF2TCxNQUFBcUIsWUFBQXlKLFNBQ0E5SyxNQUFBZ0csTUFBQUMsSUFBQXNGLEtBQUEsU0FDQUEsS0FBQS9KLGNBQUF1SyxVQUFBUixLQUFBUyxZQUVBVCxLQUFBdkwsTUFBQXVCLGFBQUF1SixVQUNBOUssTUFBQWdHLE1BQUFDLElBQUFzRixLQUFBLFNBQ0FBLEtBQUEvSixjQUFBdUssVUFBQSxPQUdBLENBQ0EsR0FBQVQsR0FBQXRMLE1BQUFPLElBQUFtTCxFQUFBLFVBQ0FILEtBQUF2TCxNQUFBdUIsYUFBQStKLE1BQ0F0TCxNQUFBZ0csTUFBQUMsSUFBQXNGLEtBQUEsU0FDQUEsS0FBQS9KLGNBQUF1SyxVQUFBLEdBR0EsS0FDQSxLQUFBLElBQ0FyRSxLQUFBN0QsTUFBQSxHQUNBNkQsS0FBQThDLE9BQ0E5QyxLQUFBcUMsUUFHQWhLLEVBQUFvSSxpQkFDQXBJLEVBQUFxTCxpQkFDQSxJQUFBZSxHQUFBekUsS0FBQTdELE1BQUFqQixRQUFBLGtCQUFBLEdBQ0EsSUFBQW9FLE1BQUFoSCxNQUFBYSxPQUFBNkssRUFBQSxTQUFBLENBQ0ExTCxNQUFBOEIsS0FBQTRKLEVBQUEsS0FHQSxLQUFBLEdBRkFsSSxHQUNBNEksR0FBQSxFQUNBbkwsRUFBQSxFQUFBQSxFQUFBK0YsTUFBQTlGLE9BQUFELElBQ0F1QyxFQUFBd0QsTUFBQS9GLEdBQ0EsSUFBQWtMLEdBQUFuTSxNQUFBc0MsYUFBQTZKLEVBQUEzSSxFQUFBOEQsWUFDQTlELEVBQUFyQyxNQUFBQyxRQUFBLEdBQ0FnTCxHQUFBLEdBRUE1SSxFQUFBckMsTUFBQUMsUUFBQSxNQUdBZ0wsSUFDQXBNLE1BQUFlLEtBQUEySyxFQUFBLE1BR0EsT0FBQSxHQUVBcEwsRUFBQXlKLFNBR0FHLEVBQUExSSxjQUFBa0ksYUFBQSxVQUNBUSxFQUFBMUksY0FBQW1JLFNBQUFPLEVBQUExSSxjQUFBa0ksYUFBQSxVQUVBUSxFQUFBMUksY0FBQW1KLGFBQ0EzSyxNQUFBZ0csTUFBQUMsSUFBQWlFLEVBQUExSSxjQUFBLHFCQUVBeEIsTUFBQU0sTUFBQStMLGdCQUdBck0sTUFBQU0sTUFBQStMLGFBQUEsV0FHQSxJQUFBLEdBREFDLEdBREFDLEVBQUFyRixTQUFBcEcsaUJBQUEseUJBRUFHLEVBQUEsRUFBQUEsRUFBQXNMLEVBQUFyTCxPQUFBRCxJQUVBLEdBREFxTCxFQUFBQyxFQUFBdEwsSUFDQWpCLE1BQUFnRyxNQUFBRyxJQUFBbUcsRUFBQTlLLGNBQUEscUJBQUEsQ0FJQSxHQUFBd0gsR0FBQTlCLFNBQUFDLGNBQUEsT0FLQSxJQUpBNkIsRUFBQTlDLFVBQUEsU0FDQThDLEVBQUExQixVQUFBLHVHQUNBZ0YsRUFBQTlLLGNBQUFnRyxZQUFBd0IsR0FFQTNCLE1BQUFpRixFQUFBNUMsYUFBQSxTQUFBLENBQ0EsR0FBQU8sR0FBQS9DLFNBQUFDLGNBQUEsT0FDQThDLEdBQUEvRCxVQUFBLFFBQ0ErRCxFQUFBM0MsVUFBQUQsTUFDQWlGLEVBQUE5SyxjQUFBZ0csWUFBQXlDLEdBRUFqSyxNQUFBZ0csTUFBQUMsSUFBQXFHLEVBQUE5SyxjQUFBLHFCQUNBOEssRUFBQUUsUUFBQXhNLE1BQUFnRyxNQUFBRyxJQUFBbUcsRUFBQTlLLGNBQUEsV0FFQThLLEVBQUE5SyxjQUFBNEcsUUFBQSxXQUNBcEksTUFBQWdHLE1BQUFLLE9BQUFxQixLQUFBLFdBQ0ExSCxNQUFBTyxJQUFBbUgsS0FBQSxTQUFBOEUsUUFBQXhNLE1BQUFnRyxNQUFBRyxJQUFBdUIsS0FBQSxXQUNBQSxLQUFBZ0QsVUFDQWhELEtBQUFnRCxTQUFBMUssTUFBQWdHLE1BQUFHLElBQUF1QixLQUFBLGFBSUE0RSxFQUFBOUssY0FBQWlJLFFBQUEsV0FDQSxNQUFBL0IsTUFBQWhILGNBQUEsU0FBQWdKLGFBQUEsU0FHQTRDLEVBQUE5SyxjQUFBcUksU0FBQSxXQUNBLE1BQUE3SixPQUFBZ0csTUFBQUcsSUFBQXVCLEtBQUEsWUFHQTRFLEVBQUE5SyxjQUFBbUksU0FBQSxTQUFBOUYsR0FDQTdELE1BQUFnRyxNQUFBRyxJQUFBdUIsS0FBQSxZQUFBN0QsR0FHQTZELEtBQUFVLGFDOVhBcEksTUFBQXlNLFFBQ0FDLGtCQUFBLFlBQ0FDLGtCQUNBQyxnQkFBQSxLQUNBQyxVQUNBQyxVQUNBQyxhQVNBL00sTUFBQXlNLE9BQUF4RyxJQUFBLFNBQUErRyxFQUFBNUssR0FDQSxHQUFBNkssR0FBQWpOLE1BQUF5TSxPQUFBUyxXQUFBRixFQUNBLE9BQUFDLEdBQUF2SyxPQUNBdUssRUFBQTdLLFNBQUFBLEVBQ0FwQyxNQUFBeU0sT0FBQUksU0FBQUUsUUFBQUUsRUFBQUUsU0FDQW5OLE1BQUF5TSxPQUFBSSxTQUFBRSxRQUFBRSxFQUFBRSxXQUVBbk4sTUFBQXlNLE9BQUFJLFNBQUFFLFFBQUFFLEVBQUFFLE9BQUFGLEVBQUFHLFdBQ0FwTixNQUFBeU0sT0FBQUksU0FBQUUsUUFBQUUsRUFBQUUsT0FBQUYsRUFBQUcsaUJBRUFwTixPQUFBeU0sT0FBQUksU0FBQUUsUUFBQUUsRUFBQUUsT0FBQUYsRUFBQUcsU0FBQTFILEtBQUF1SCxTQUdBak4sTUFBQXlNLE9BQUFJLFNBQUFDLE9BQUFFLEdBQUE1SyxJQU9BcEMsTUFBQXlNLE9BQUE1RixJQUFBLFNBQUFtRyxHQUNBaE4sTUFBQXlNLE9BQUFZLFdBQUFMLEdBQ0FuTixPQUFBeU4sY0FBQSxHQUFBQyxPQUFBLGNBUUF2TixNQUFBeU0sT0FBQVksV0FBQSxTQUFBTCxHQUNBQSxFQUFBaE4sTUFBQXlNLE9BQUFlLGlCQUFBUixHQUNBbk4sT0FBQTROLFFBQUFDLFVBQUEsR0FBQSxHQUFBVixJQVFBaE4sTUFBQXlNLE9BQUFrQixTQUFBLFNBQUFYLEdBQ0FBLEVBQUF6SyxPQUFBLG9CQUNBeUssRUFBQWhOLE1BQUF5TSxPQUFBZSxpQkFBQVIsSUFFQW5OLE9BQUErTixTQUFBWixHQVFBaE4sTUFBQXlNLE9BQUFvQixlQUFBLFNBQUFaLEdBQ0F0TSxRQUFBQyxJQUFBLFVBQUFrRixLQUFBQyxVQUFBa0gsR0FBQSxvQkFPQWpOLE1BQUF5TSxPQUFBcUIsSUFBQSxXQUNBak8sT0FBQWtPLFdBQUEsU0FBQTVMLEdBQ0FuQyxNQUFBeU0sT0FBQXVCLFdBRUFoTyxNQUFBeU0sT0FBQXVCLFdBT0FoTyxNQUFBeU0sT0FBQXVCLFFBQUEsV0FDQSxHQUFBaEIsR0FBQXRGLEtBQUF1RyxTQUNBLElBQUF2RyxLQUFBbUYsU0FBQUMsT0FBQUUsRUFBQUEsTUFFQSxXQURBdEYsTUFBQW1GLFNBQUFDLE9BQUFFLEVBQUFBLE9BR0EsSUFBQUcsR0FBQUgsRUFBQUEsS0FBQW5LLE1BQUEsS0FBQTNCLE9BQUEsQ0FDQSxJQUFBd0csS0FBQW1GLFNBQUFFLFFBQUFJLEdBQUEsQ0FDQSxHQUFBRixHQUNBaUIsRUFDQXBKLElBQ0EsS0FBQSxHQUFBcUosS0FBQXpHLE1BQUFtRixTQUFBRSxRQUFBSSxHQUNBLElBQUEsR0FBQTNKLEtBQUFrRSxNQUFBbUYsU0FBQUUsUUFBQUksR0FBQWdCLEdBQUEsQ0FDQSxHQUFBbEIsR0FBQXZGLEtBQUFtRixTQUFBRSxRQUFBSSxHQUFBZ0IsR0FBQTNLLEVBRUEsSUFEQTBLLEVBQUFsQixFQUFBQSxLQUFBakssTUFBQWtLLEVBQUF2SyxPQUNBLENBR0EsSUFBQSxHQUFBekIsR0FBQSxFQUFBQSxFQUFBZ00sRUFBQUcsUUFBQW5NLElBQ0E2RCxFQUFBbUksRUFBQW1CLEtBQUFuTixJQUFBaU4sRUFBQWpOLEVBQUEsRUFHQSxZQURBZ00sR0FBQTdLLFNBQUEwQyxLQUtBOUUsTUFBQXlNLE9BQUFvQixlQUFBYixJQU9BaE4sTUFBQXlNLE9BQUF3QixRQUFBLFdBQ0EsR0FBQWhFLEdBQUEvQyxTQUFBQyxjQUFBLElBRUEsT0FEQThDLEdBQUFvRSxLQUFBeE8sT0FBQStOLFVBQ0FVLEtBQUFyRSxFQUFBc0UsU0FBQXZCLEtBQUFoTixNQUFBeU0sT0FBQStCLFVBQUF2RSxFQUFBd0UsWUFRQXpPLE1BQUF5TSxPQUFBUyxXQUFBLFNBQUFGLEdBQ0FBLEVBQUFoTixNQUFBeU0sT0FBQWlDLFVBQUExQixFQUNBLElBQUFDLElBQ0FELEtBQUFBLEVBQ0FHLE1BQUFILEVBQUFuSyxNQUFBLEtBQUEzQixPQUFBLEVBQ0FrTixRQUNBaEIsUUFBQSxFQUdBLElBREFwTixNQUFBeU0sT0FBQUUsZUFBQUssRUFBQWpLLE1BQUEvQyxNQUFBeU0sT0FBQUMsbUJBQ0FqSyxRQUFBekMsTUFBQXlNLE9BQUFFLGdCQUFBLE1BQUEzTSxNQUFBeU0sT0FBQUUsZUFBQSxDQUVBLElBQUEsR0FEQWpLLEdBQUEsSUFBQXNLLEVBQUFwSyxRQUFBLE9BQUEsT0FBQSxJQUNBM0IsRUFBQSxFQUFBQSxFQUFBakIsTUFBQXlNLE9BQUFFLGVBQUF6TCxPQUFBRCxJQUNBZ00sRUFBQUcsVUFDQUgsRUFBQW1CLEtBQUExSSxLQUFBMUYsTUFBQXlNLE9BQUFFLGVBQUExTCxHQUFBaUksVUFBQSxFQUFBbEosTUFBQXlNLE9BQUFFLGVBQUExTCxHQUFBQyxPQUFBLElBQ0F3QixFQUFBQSxFQUFBRSxRQUFBNUMsTUFBQXlNLE9BQUFFLGVBQUExTCxHQUFBLFFBRUFnTSxHQUFBdkssTUFBQSxHQUFBaU0sUUFBQWpNLEVBQUEsS0FFQSxNQUFBdUssSUFPQWpOLE1BQUF5TSxPQUFBbUMsaUJBQUEsU0FBQUMsR0FDQSxNQUFBQSxRQUlBN08sTUFBQXlNLE9BQUFHLGdCQUFBNU0sTUFBQXlNLE9BQUFpQyxVQUFBRyxTQUhBN08sTUFBQXlNLE9BQUFHLGdCQUFBbkssU0FXQXpDLE1BQUF5TSxPQUFBZSxpQkFBQSxTQUFBUixHQUNBLE1BQUFoTixPQUFBeU0sT0FBQUcsaUJBR0FJLEVBQUFySixRQUFBM0QsTUFBQXlNLE9BQUFHLG9CQUFBLElBQ0FJLEVBQUFoTixNQUFBeU0sT0FBQUcsZ0JBQUFJLEdBRUFBLEdBTEFBLEdBYUFoTixNQUFBeU0sT0FBQWlDLFVBQUEsU0FBQTFCLEdBT0EsTUFOQUEsR0FBQTlMLE9BQUEsR0FBQSxLQUFBOEwsRUFBQTlELFVBQUEsRUFBQSxLQUNBOEQsRUFBQSxJQUFBQSxHQUVBQSxFQUFBOUwsT0FBQSxHQUFBLEtBQUE4TCxFQUFBOUQsVUFBQThELEVBQUE5TCxPQUFBLEtBQ0E4TCxFQUFBQSxFQUFBOUQsVUFBQSxFQUFBOEQsRUFBQTlMLE9BQUEsSUFFQThMLEdBUUFoTixNQUFBeU0sT0FBQStCLFVBQUEsU0FBQXhCLEdBS0EsTUFKQUEsR0FBQWhOLE1BQUF5TSxPQUFBaUMsVUFBQTFCLEdBQ0FoTixNQUFBeU0sT0FBQUcsaUJBQUFJLEVBQUFySixRQUFBM0QsTUFBQXlNLE9BQUFHLG9CQUFBLElBQ0FJLEVBQUFBLEVBQUFwSyxRQUFBNUMsTUFBQXlNLE9BQUFHLGdCQUFBLEtBRUFJLEdBUUFoTixNQUFBeU0sT0FBQXFDLFdBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBLFNBQUFELEVBQUEsWUFDQXJNLEVBQUEsR0FBQWlNLFFBQUFLLEdBQ0E1QyxFQUFBMUosRUFBQXVNLEtBQUFwUCxPQUFBK04sU0FBQXJMLE9BQ0EsSUFBQSxNQUFBNkosRUFHQSxNQUFBQSxHQUFBLElDMU5BcE0sTUFBQUksV0FDQThPLElBQUEsRUFDQUMsc0JBQUEsRUFDQXJGLFFBQUFySCxPQUNBZ0osT0FBQWhKLE9BQ0FpSSxTQUFBakksUUFHQXpDLE1BQUFJLFVBQUFILEtBQUEsV0FDQSxJQUFBRCxNQUFBSSxVQUFBOE8sR0FBQSxDQUdBLEdBQUFFLEdBQUFsSSxTQUFBeEcsY0FBQSx5QkFDQTBPLEtBR0FBLEVBQUF0RixRQUFBLFdBQ0EsR0FBQXBDLEtBQUE3RCxNQUFBM0MsUUFDQWxCLE1BQUFJLFVBQUFnTSxRQUFBLHFFQUVBcE0sTUFBQWdHLE1BQUFDLElBQUFpQixTQUFBeEcsY0FBQSxpQkFBQSxlQUNBVixNQUFBZ0csTUFBQUMsSUFBQWlCLFNBQUF4RyxjQUFBLDZDQUFBLFFBQ0FWLE1BQUFJLFVBQUEwSixTQUNBOUosTUFBQUksVUFBQTBKLFdBR0FzRixFQUFBM0QsT0FBQSxXQUNBekwsTUFBQWdHLE1BQUFqRSxPQUFBbUYsU0FBQXhHLGNBQUEsaUJBQUEsZUFDQVYsTUFBQWdHLE1BQUFqRSxPQUFBbUYsU0FBQXhHLGNBQUEsNkNBQUEsUUFDQVYsTUFBQUksVUFBQXFMLFFBQ0F6TCxNQUFBSSxVQUFBcUwsVUFHQTJELEVBQUF4RixRQUFBLFNBQUE3SixHQUNBLE9BQUFBLEVBQUE4TCxTQUNBLElBQUEsSUFHQSxNQUZBbkUsTUFBQTdELE1BQUEsT0FDQTZELE1BQUE4QyxPQUdBOUMsS0FBQTdELE1BQUEzQyxPQUFBbEIsTUFBQUksVUFBQStPLHVCQUdBblAsTUFBQUksVUFBQXNLLFVBQ0ExSyxNQUFBSSxVQUFBc0ssU0FBQWhELEtBQUE3RCxRQUdBN0QsTUFBQUksVUFBQThPLElBQUEsS0FHQWxQLE1BQUFJLFVBQUFpUCxNQUFBLFdBQ0EsUUFBQXBPLEVBQUFqQixNQUFBTyxJQUFBMkcsU0FBQSw0QkFDQSxHQUFBakcsRUFBQTRDLE1BQUEzQyxRQUtBbEIsTUFBQUksVUFBQWtQLFNBQUEsU0FBQWxHLEdBQ0EsR0FBQW1HLEdBQUFySSxTQUFBQyxjQUFBLE1BQ0FvSSxHQUFBakksVUFBQThCLENBQ0EsSUFBQWdELEdBQUFsRixTQUFBeEcsY0FBQSw0Q0FDQTBMLEdBQUE1RSxZQUFBK0gsSUFHQXZQLE1BQUFJLFVBQUFnTSxRQUFBLFNBQUFoRCxHQUNBLEdBQUFnRCxHQUFBbEYsU0FBQXhHLGNBQUEsNENBQ0EwTCxHQUFBOUUsVUFBQThCLEdDbEVBcEosTUFBQUcsU0FDQStPLElBQUEsR0FHQWxQLE1BQUFHLFFBQUFGLEtBQUEsV0FDQSxJQUFBRCxNQUFBRyxRQUFBK08sR0FBQSxDQUdBLEdBQUFNLEdBQUF0SSxTQUFBeEcsY0FBQSx1QkFDQSxJQUFBOE8sRUFBQSxDQUdBQSxFQUFBcEgsUUFBQSxXQUNBcEksTUFBQUcsUUFBQXNQLGFBR0EsSUFBQUMsR0FBQXhJLFNBQUF4RyxjQUFBLGlCQUNBVixPQUFBZ0csTUFBQUMsSUFBQXlKLEVBQUEsZUFDQTFQLE1BQUFHLFFBQUErTyxJQUFBLEVBQ0FsUCxNQUFBRSxPQUFBSyxJQUFBLGlCQUNBUCxNQUFBRyxRQUFBc1AsZ0JBSUF6UCxNQUFBRyxRQUFBc1AsV0FBQSxXQUNBelAsTUFBQUcsUUFBQStPLEtBR0FsUCxNQUFBZ0csTUFBQUssT0FBQWEsU0FBQXhHLGNBQUEsd0JBQUEsVUFDQVYsTUFBQWdHLE1BQUFLLE9BQUFhLFNBQUF4RyxjQUFBLGtCQUFBLGVBQ0FWLE1BQUFFLE9BQUEyRyxJQUFBLGdCQUFBN0csTUFBQWdHLE1BQUFHLElBQUFlLFNBQUF4RyxjQUFBLGtCQUFBLGtCQzlCQVYsTUFBQXlHLFdBRUF6RyxNQUFBeUcsUUFBQUksSUFBQSxTQUFBcEIsRUFBQTVCLEdBQ0E4TCxhQUFBQyxRQUFBbkssRUFBQUssS0FBQUMsVUFBQWxDLEtBR0E3RCxNQUFBeUcsUUFBQW9KLE1BQUEsU0FBQXBLLEdBQ0FrSyxhQUFBRyxXQUFBckssSUFHQXpGLE1BQUF5RyxRQUFBbEcsSUFBQSxTQUFBa0YsR0FDQSxHQUFBeEUsR0FBQTBPLGFBQUFJLFFBQUF0SyxFQUNBLElBQUF4RSxFQUdBLE1BQUE2RSxNQUFBa0ssTUFBQS9PLElBR0FqQixNQUFBeUcsUUFBQXdKLE1BQUEsV0FDQU4sYUFBQU0sU0NuQkFqUSxNQUFBSyxXQUNBNlAsVUFBQXpOLE9BQ0EwTixnQkFBQTFOLE9BQ0EyTixLQUFBM04sT0FDQTROLE1BQUE1TixPQUNBNk4sS0FBQTdOLE9BQ0E4TixXQUdBdlEsTUFBQUssVUFBQUosS0FBQSxXQUNBRCxNQUFBSyxVQUFBK1AsS0FBQWxKLFNBQUF4RyxjQUFBLG9CQUNBVixNQUFBSyxVQUFBK1AsT0FHQXBRLE1BQUFLLFVBQUFnUSxNQUFBbkosU0FBQXhHLGNBQUEsaUJBQ0FWLE1BQUFLLFVBQUFnUSxPQUNBclEsTUFBQWdHLE1BQUFDLElBQUFqRyxNQUFBSyxVQUFBK1AsS0FBQSxjQUVBcFEsTUFBQUssVUFBQWlRLEtBQUFwSixTQUFBeEcsY0FBQSxtQ0FDQVYsTUFBQUssVUFBQWlRLE1BQ0F0USxNQUFBZ0csTUFBQUMsSUFBQWpHLE1BQUFLLFVBQUErUCxLQUFBLGlCQUlBcFEsTUFBQUssVUFBQW1RLE9BQUEsU0FBQXBKLEVBQUFxSixFQUFBckgsRUFBQXhFLEdBQ0EsSUFBQTVFLE1BQUFPLElBQUEyRyxTQUFBLG1CQUFBLENBQ0EsR0FBQXdKLEdBQUExUSxNQUFBTyxJQUFBMkcsU0FBQSxlQUNBLEtBQUF3SixFQUVBLFdBREEvUCxTQUFBQyxJQUFBLHlDQUdBOFAsR0FBQXBKLFVBQUEsa0dBRUEsR0FBQXFKLEdBQUEzUSxNQUFBTyxJQUFBMkcsU0FBQSwrQkFDQTBKLEVBQUE1USxNQUFBTyxJQUFBMkcsU0FBQSwrQkFJQSxJQUZBQSxTQUFBdUosTUFBQXpRLE1BQUFLLFVBQUF3USxZQUFBSixHQUVBSyxFQUFBOVEsTUFBQU8sSUFBQW9RLEVBQUEsdUJBQUF2SixFQUFBLE1BQUEsQ0FDQSxHQUFBMkosR0FBQS9RLE1BQUFPLElBQUFxUSxFQUFBLHdCQUFBeEosRUFBQSxLQUlBLE9BSEEySixHQUFBekosVUFBQThCLEVBQ0EwSCxFQUFBRSxRQUFBcE0sSUFBQUEsRUFDQWtNLEVBQUExSSxXQUNBMEksSUFBQUEsRUFBQUMsS0FBQUEsR0FHQS9RLE1BQUFlLEtBQUE2UCxFQUFBLGdCQUNBSyxPQUFBalIsTUFBQU8sSUFBQW9RLEVBQUEsdUJBQ0EzUSxNQUFBZ0csTUFBQWpFLE9BQUFrUCxPQUFBLFNBSUEsSUFBQUgsR0FBQTVKLFNBQUFDLGNBQUEsTUFDQTJKLEdBQUE1SyxVQUFBLG1CQUNBNEssRUFBQUUsUUFBQTVKLEdBQUFBLEVBQ0EwSixFQUFBRSxRQUFBcE0sSUFBQUEsRUFDQWtNLEVBQUF4SixVQUFBbUosRUFBQSw0Q0FDQUssRUFBQTFJLFFBQUEsU0FBQXJJLElBQ0FrUixPQUFBalIsTUFBQU8sSUFBQW9RLEVBQUEsdUJBQ0EzUSxNQUFBZ0csTUFBQWpFLE9BQUFrUCxPQUFBLFVBRUFqUixNQUFBZ0csTUFBQUMsSUFBQXlCLEtBQUEsVUFDQTFILE1BQUFlLEtBQUFtRyxTQUFBLGVBQ0FsSCxNQUFBOEIsS0FBQW9GLFNBQUEsd0JBQUFRLEtBQUFzSixRQUFBNUosR0FBQSxNQUNBTSxLQUFBc0osUUFBQXBNLEtBQUEsYUFBQThDLEtBQUFzSixRQUFBcE0sS0FDQTVFLE1BQUF5TSxPQUFBWSxXQUFBM0YsS0FBQXNKLFFBQUFwTSxLQUVBc0MsU0FBQXVKLE1BQUF6USxNQUFBSyxVQUFBd1EsWUFBQW5KLEtBQUFKLFlBRUF0SCxNQUFBa0MsR0FBQTRPLEVBQUEsU0FBQSxVQUFBLFNBQUEvUSxHQUNBMkgsS0FBQWxHLGNBQUEwUCxVQUFBeEosS0FBQWxHLGNBQUEwUCxZQUdBbFIsTUFBQWdHLE1BQUFHLElBQUF1QixLQUFBbEcsY0FBQSxZQUNBa0csS0FBQWxHLGNBQUFHLGdCQUNBK0YsS0FBQWxHLGNBQUFHLGdCQUFBeUcsVUFDQVYsS0FBQWxHLGNBQUFGLGFBQ0FvRyxLQUFBbEcsY0FBQUYsWUFBQThHLFlBR0EySSxFQUFBL1EsTUFBQU8sSUFBQTJHLFNBQUEsd0JBQUFRLEtBQUFsRyxjQUFBd1AsUUFBQTVKLEdBQUEsUUFDQTJKLEVBQUF2UCxjQUFBUyxZQUFBOE8sR0FFQXJKLEtBQUFsRyxjQUFBQSxjQUFBUyxZQUFBeUYsS0FBQWxHLGVBQ0FrRyxLQUFBbEcsY0FBQTJQLFVBQ0F6SixLQUFBbEcsY0FBQTJQLFlBRUFuUixNQUFBSyxVQUFBK1EsYUFBQXBSLE1BQUFLLFVBQUE4UCxpQkFDQW5RLE1BQUFLLFVBQUE4UCxrQkFFQXBRLEVBQUFxTCxxQkFFQXVGLEVBQUFuSixZQUFBc0osRUFHQSxJQUFBQyxHQUFBN0osU0FBQUMsY0FBQSxNQUtBLE9BSkE0SixHQUFBN0ssVUFBQSxhQUNBNkssRUFBQUMsUUFBQTVKLEdBQUFBLEVBQ0EySixFQUFBekosVUFBQThCLEVBQ0F3SCxFQUFBcEosWUFBQXVKLElBQ0FELElBQUFBLEVBQUFDLEtBQUFBLElBR0EvUSxNQUFBSyxVQUFBK1EsVUFBQSxXQUNBLEdBQUFOLEdBQUE5USxNQUFBTyxJQUFBMkcsU0FBQSxvQkFDQSxLQUFBNEosRUFDQSxNQUFBLEtBRUEsSUFBQUMsR0FBQS9RLE1BQUFPLElBQUEyRyxTQUFBLHdCQUFBNEosRUFBQUUsUUFBQTVKLEdBQUEsS0FDQSxPQUFBMkosSUFHQUQsSUFBQUEsRUFBQUMsS0FBQUEsR0FGQSxNQUtBL1EsTUFBQUssVUFBQXdRLFlBQUEsU0FBQUosR0FDQSxHQUFBWSxHQUFBWixFQUFBN04sUUFBQSxrQ0FBQSxHQUNBLElBQUEsSUFBQXlPLEVBQUEsQ0FDQSxHQUFBQyxHQUFBcEssU0FBQUMsY0FBQSxNQUNBbUssR0FBQWhLLFVBQUFtSixHQUNBYyxHQUFBdlIsTUFBQU8sSUFBQStRLEVBQUEsYUFDQUQsRUFBQUUsR0FBQWpLLFdBRUEsSUFBQStKLElBQ0FBLEVBQUEsV0FHQSxNQUFBQSxJQUFBclIsTUFBQUssVUFBQTZQLFVBQUEsTUFBQWxRLE1BQUFLLFVBQUE2UCxVQUFBIiwiZmlsZSI6InNtYXNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKGUpe1xuICAgIHNtYXNoLmluaXQoKTtcbn0sIGZhbHNlKTtcblxudmFyIHNtYXNoID0ge307XG5cbnNtYXNoLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBzbWFzaC5jb25maWcuaW5pdCgpO1xuICAgIHNtYXNoLnNpZGViYXIuaW5pdCgpO1xuICAgIHNtYXNoLnNlYXJjaGJveC5pbml0KCk7XG4gICAgc21hc2gud29ya3NwYWNlLmluaXQoKTtcbiAgICBzbWFzaC5pbnB1dC5pbml0KCk7XG59O1xuXG5zbWFzaC5nZXQgPSBmdW5jdGlvbihwYXJlbnQsIHNlbGVjdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5nZXRBbGwgPSBmdW5jdGlvbihwYXJlbnQsIHNlbGVjdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5oaWRlID0gZnVuY3Rpb24ocGFyZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBlbDtcbiAgICBpZiAoc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbCA9IHNtYXNoLmdldEFsbChwYXJlbnQsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbCA9IFtwYXJlbnRdO1xuICAgIH1cbiAgICBmb3IgKHZhciBpPTA7IGk8ZWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG59O1xuXG5zbWFzaC5uZXh0VmlzaWJsZSA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgd2hpbGUgKGVsID0gZWwubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5maXJzdFZpc2libGUgPSBmdW5jdGlvbihlbCkge1xuICAgIGVsID0gZWwucGFyZW50RWxlbWVudC5maXJzdENoaWxkO1xuICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHdoaWxlIChlbCA9IGVsLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2gucHJldmlvdXNWaXNpYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgICB3aGlsZSAoZWwgPSBlbC5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5sYXN0VmlzaWJsZSA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50Lmxhc3RDaGlsZDtcbiAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICB3aGlsZSAoZWwgPSBlbC5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5zaG93ID0gZnVuY3Rpb24ocGFyZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBlbDtcbiAgICBpZiAoc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbCA9IHNtYXNoLmdldEFsbChwYXJlbnQsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbCA9IFtwYXJlbnRdO1xuICAgIH1cbiAgICBmb3IgKHZhciBpPTA7IGk8ZWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cbn07XG5cbnNtYXNoLnJlbW92ZSA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG59O1xuXG5zbWFzaC5vbiA9IGZ1bmN0aW9uKHBhcmVudCwgc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjaykge1xuICAgIHZhciBlbGVtZW50cyA9IHNtYXNoLmdldEFsbChwYXJlbnQsIHNlbGVjdG9yKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbWVudHNbaV1bZXZlbnRdID0gY2FsbGJhY2s7XG4gICAgfVxufTtcblxuc21hc2guZnV6enlDb21wYXJlID0gZnVuY3Rpb24oc2VhcmNoLCBjb21wYXJlKSB7XG4gICAgaWYgKGNvbXBhcmUgPT0gdW5kZWZpbmVkIHx8IHNlYXJjaCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcmVnZXggPSBcIi4qP1wiICsgc2VhcmNoLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLS9nLCBcIlxcXFwtXCIpLnNwbGl0KFwiXCIpLmpvaW4oXCIuKj9cIikgKyBcIi4qP1wiO1xuICAgIHJldHVybiBjb21wYXJlLnRvTG93ZXJDYXNlKCkubWF0Y2gocmVnZXgpO1xufTtcblxuc21hc2guZmluZE5leHRUYWJTdG9wID0gZnVuY3Rpb24oZm9ybSwgZWwpIHtcbiAgICB2YXIgdW5pdmVyc2UgPSBzbWFzaC5nZXRBbGwoZm9ybSwgJy5zbWFzaC1pbnB1dCwgLnNtYXNoLWJ1dHRvbiwgLnNtYXNoLXNlbGVjdCwgLnNtYXNoLXRleHRhcmVhLCAuc21hc2gtY2hlY2tib3gnKTtcbiAgICB2YXIgbGlzdCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh1bml2ZXJzZSwgZnVuY3Rpb24oaXRlbSkge3JldHVybiBpdGVtLnRhYkluZGV4ID49IFwiMFwifSk7XG4gICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICByZXR1cm4gbGlzdFtpbmRleCArIDFdIHx8IGxpc3RbMF07XG59O1xuXG5zbWFzaC5pc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgY2FzZSBudWxsOlxuICAgIGNhc2UgXCJcIjpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4iLCJzbWFzaC5hamF4ID0ge1xuICAgIF9oZWFkZXJzXzogW11cbn07XG5cbnNtYXNoLmFqYXguYWRkSGVhZGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBzbWFzaC5hamF4Ll9oZWFkZXJzX1tuYW1lXSA9IHZhbHVlO1xufTtcblxuc21hc2guYWpheC5yZW1vdmVIZWFkZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHNtYXNoLmFqYXguX2hlYWRlcnNfW25hbWVdO1xufTtcblxuc21hc2guYWpheC5vbmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xufTtcblxuc21hc2guYWpheC5vbnVuYXV0aG9yaXplZCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICBzbWFzaC5hamF4Lm9uZXJyb3IobWVzc2FnZSk7XG59O1xuXG5zbWFzaC5hamF4Ll94aHJfID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gICAgdmFyIHZlcnNpb25zID0gW1xuICAgICAgICBcIk1TWE1MMi5YbWxIdHRwLjYuMFwiLFxuICAgICAgICBcIk1TWE1MMi5YbWxIdHRwLjUuMFwiLFxuICAgICAgICBcIk1TWE1MMi5YbWxIdHRwLjQuMFwiLFxuICAgICAgICBcIk1TWE1MMi5YbWxIdHRwLjMuMFwiLFxuICAgICAgICBcIk1TWE1MMi5YbWxIdHRwLjIuMFwiLFxuICAgICAgICBcIk1pY3Jvc29mdC5YbWxIdHRwXCJcbiAgICBdO1xuICAgIHZhciB4aHI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeGhyID0gbmV3IEFjdGl2ZVhPYmplY3QodmVyc2lvbnNbaV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geGhyO1xufTtcblxuc21hc2guYWpheC5zZW5kID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2ssIG1ldGhvZCwgZGF0YSwgcmVzcG9uc2VUeXBlLCBvbmVycm9yLCBhc3luYykge1xuICAgIGlmIChhc3luYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzeW5jID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9uZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvbmVycm9yID0gc21hc2guYWpheC5vbmVycm9yO1xuICAgIH1cbiAgICB2YXIgeCA9IHNtYXNoLmFqYXguX3hocl8oKTtcbiAgICB4LnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICB4Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoeC5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoeC5zdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgMjAwOlxuICAgICAgICAgICAgY2FzZSAyMDE6XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHgucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgICAgIHNtYXNoLmFqYXgub251bmF1dGhvcml6ZWQoeC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG9uZXJyb3IoeC5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG5cdFx0fVxuICAgIH07XG4gICAgeC5vcGVuKG1ldGhvZCwgdXJsLCBhc3luYyk7XG4gICAgaWYgKHJlc3BvbnNlVHlwZSA9PSAnanNvbicpIHtcbiAgICAgICAgeC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH0gZWxzZSBpZiAobWV0aG9kID09ICdQT1NUJykge1xuICAgICAgICB4LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBzbWFzaC5hamF4Ll9oZWFkZXJzXykge1xuICAgICAgICB4LnNldFJlcXVlc3RIZWFkZXIobmFtZSwgc21hc2guYWpheC5faGVhZGVyc19bbmFtZV0pO1xuICAgIH1cbiAgICB4LnNlbmQoZGF0YSlcbn07XG5cbnNtYXNoLmFqYXguZ2V0ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2ssIGRhdGEsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgYXN5bmMpIHtcbiAgICB2YXIgcXVlcnkgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICBxdWVyeS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFba2V5XSkpO1xuICAgIH1cbiAgICBzbWFzaC5hamF4LnNlbmQodXJsICsgKHF1ZXJ5Lmxlbmd0aCA/ICc/JyArIHF1ZXJ5LmpvaW4oJyYnKSA6ICcnKSwgY2FsbGJhY2ssICdHRVQnLCBudWxsLCByZXNwb25zZVR5cGUsIG9uZXJyb3IsICBhc3luYylcbn07XG5cbnNtYXNoLmFqYXgucG9zdCA9IGZ1bmN0aW9uICh1cmwsIGNhbGxiYWNrLCBkYXRhLCByZXNwb25zZVR5cGUsIG9uZXJyb3IsIGFzeW5jKSB7XG4gICAgdmFyIGRhdGFTdHI7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSAhPSAnanNvbicpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBxdWVyeS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFba2V5XSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YVN0ciA9IHF1ZXJ5LmpvaW4oJyYnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YVN0ciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNtYXNoLmFqYXguc2VuZCh1cmwsIGNhbGxiYWNrLCAnUE9TVCcsIGRhdGFTdHIsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgYXN5bmMpXG59O1xuIiwic21hc2guY2xhc3MgPSB7fTtcblxuc21hc2guY2xhc3MuYWRkID0gZnVuY3Rpb24oZWwsIGNsYXNzTmFtZSkge1xuICAgIGlmICghc21hc2guY2xhc3MuaGFzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSA6IGVsLmNsYXNzTmFtZSArPSAoJyAnICsgY2xhc3NOYW1lKTtcbiAgICB9XG59O1xuXG5zbWFzaC5jbGFzcy5yZW1vdmUgPSBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKHNtYXNoLmNsYXNzLmhhcyhlbCwgY2xhc3NOYW1lKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QgPyBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSkgOiBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShjbGFzc05hbWUsICcnKTtcbiAgICB9XG59O1xuXG5zbWFzaC5jbGFzcy5oYXMgPSBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuICgoXCIgXCIgKyBlbC5jbGFzc05hbWUgKyBcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgPiAtMSk7XG59O1xuXG5zbWFzaC5jbGFzcy50b2dnbGUgPSBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG4gICAgc21hc2guY2xhc3MuaGFzKGVsLCBjbGFzc05hbWUpID8gc21hc2guY2xhc3MucmVtb3ZlKGVsLCBjbGFzc05hbWUpIDogc21hc2guY2xhc3MuYWRkKGVsLCBjbGFzc05hbWUpO1xufTtcbiIsInNtYXNoLmNvbmZpZyA9IHtcbiAgICBfdmFsdWVzXzoge1xuICAgICAgICBfc2lkZWJhcl9sb2NrXzogZmFsc2VcbiAgICB9XG59XG5cbnNtYXNoLmNvbmZpZy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSBzbWFzaC5zdG9yYWdlLmdldCgnY29uZmlnJyk7XG4gICAgaWYgKHYpIHtcbiAgICAgICAgc21hc2guY29uZmlnLl92YWx1ZXNfID0gdjtcbiAgICB9XG59O1xuXG5zbWFzaC5jb25maWcuZ2V0ID0gZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgdmFyIG8gPSAnXycgKyBvcHRpb24gKyAnXyc7XG4gICAgaWYgKG8gaW4gc21hc2guY29uZmlnLl92YWx1ZXNfKSB7XG4gICAgICAgIHJldHVybiBzbWFzaC5jb25maWcuX3ZhbHVlc19bb107XG4gICAgfVxuICAgIHRocm93IG5ldyBzbWFzaC5FeGNlcHRpb24oJzAwMScsICdJbnZhbGlkIGNvbmZpZyBvcHRpb24gXCInICsgb3B0aW9uICsgJ1wiJyk7XG59O1xuXG5zbWFzaC5jb25maWcuc2V0ID0gZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkge1xuICAgIHZhciBvID0gJ18nICsgb3B0aW9uICsgJ18nO1xuICAgIGlmICghbyBpbiBzbWFzaC5jb25maWcuX3ZhbHVlc18pIHtcbiAgICAgICAgdGhyb3cgbmV3IHNtYXNoLkV4Y2VwdGlvbignMDAxJywgJ0ludmFsaWQgY29uZmlnIG9wdGlvbiBcIicgKyBvcHRpb24gKyAnXCInKTtcbiAgICB9XG4gICAgc21hc2guY29uZmlnLl92YWx1ZXNfW29dID0gdmFsdWU7XG4gICAgc21hc2guc3RvcmFnZS5zZXQoJ2NvbmZpZycsIHNtYXNoLmNvbmZpZy5fdmFsdWVzXyk7XG59O1xuIiwic21hc2guY29udGV4dG1lbnUgPSB7fTtcblxuc21hc2guY29udGV4dG1lbnUubmV3ID0gZnVuY3Rpb24oZSwgaXRlbXMpIHtcbiAgICBpZiAoY3R4ID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIiNzbWFzaC1jb250ZXh0LW1lbnVcIikpIHtcbiAgICAgICAgc21hc2gucmVtb3ZlKGN0eCk7XG4gICAgfVxuICAgIHZhciBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGN0eC5pZCA9ICBcInNtYXNoLWNvbnRleHQtbWVudVwiO1xuICAgIHZhciBsaXN0ID0gXCI8dWwgY2xhc3M9J2NsaWNrYWJsZSc+XCI7XG4gICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVtc1tpXSA9PSBcInNlcGVyYXRvclwiKSB7XG4gICAgICAgICAgICBsaXN0ICs9ICc8bGkgY2xhc3M9XCJzZXBlcmF0b3JcIj48L2xpPic7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0ICs9ICc8bGkgY2xhc3M9XCJjdHhfaXRlbV8nICsgaSArICdcIj4nICsgaXRlbXNbaV0ubGFiZWwgKyBcIjwvbGk+XCI7XG4gICAgfVxuICAgIGxpc3QgKz0gJzwvdWw+JztcbiAgICBjdHguaW5uZXJIVE1MID0gbGlzdDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGN0eCk7XG4gICAgdmFyIGl0ZW07XG4gICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVtc1tpXSA9PSBcInNlcGVyYXRvclwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtID0gc21hc2guZ2V0KGN0eCwgXCJsaS5jdHhfaXRlbV9cIiArIGkpO1xuICAgICAgICBpdGVtLmNhbGxiYWNrID0gaXRlbXNbaV0uY2FsbGJhY2s7XG4gICAgICAgIGl0ZW0ub25tb3VzZWRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGUpO1xuICAgICAgICAgICAgc21hc2guY29udGV4dG1lbnUuY2xvc2UoZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB5ID0gZS5wYWdlWVxuICAgIGlmICh5ICsgY3R4Lm9mZnNldEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICB5ID0gd2luZG93LmlubmVySGVpZ2h0IC0gY3R4Lm9mZnNldEhlaWdodCAtIDIwO1xuICAgIH1cbiAgICBjdHguc3R5bGUudG9wID0geTtcbiAgICBjdHguc3R5bGUubGVmdCA9IGUucGFnZVg7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRvY3VtZW50Lm9uY2xpY2sgPSBzbWFzaC5jb250ZXh0bWVudS5jbG9zZTtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5zbWFzaC5jb250ZXh0bWVudS5jbG9zZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGN0eCA9IHNtYXNoLmdldChkb2N1bWVudCwgXCIjc21hc2gtY29udGV4dC1tZW51XCIpKSB7XG4gICAgICAgIHNtYXNoLnJlbW92ZShjdHgpO1xuICAgIH1cbiAgICBkb2N1bWVudC5vbmNsaWNrID0gdW5kZWZpbmVkO1xufTtcbiIsInNtYXNoLmNvb2tpZSA9IHt9O1xuXG5zbWFzaC5jb29raWUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGV4cGlyeURheXMpIHtcbiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKGV4cGlyeURheXMqMjQqNjAqNjAqMTAwMCkpO1xuICAgIHZhciBleHBpcmVzID0gXCJleHBpcmVzPVwiKyBkLnRvVVRDU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtwYXRoPS9cIjtcbn07XG5cbnNtYXNoLmNvb2tpZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG5hbWUgPSBuYW1lICsgXCI9XCI7XG4gICAgdmFyIGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTtcbiAgICB2YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8Y2EubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBjYVtpXTtcbiAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xuICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59O1xuIiwic21hc2guZGlhbG9nID0ge307XG5cbnNtYXNoLmRpYWxvZy5uZXcgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gICAgdmFyIGJhY2tkcm9wID0gc21hc2guZGlhbG9nLmNoZWNrQmFja2Ryb3AoKTtcblxuICAgIHZhciBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaWFsb2cuY2xhc3NOYW1lID0gJ3NtYXNoLWRpYWxvZyc7XG4gICAgZGlhbG9nLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgYmFja2Ryb3AuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbn07XG5cbnNtYXNoLmRpYWxvZy5jaGVja0JhY2tkcm9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGJhY2tkcm9wID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1kaWFsb2ctYmFja2Ryb3BcIikpIHtcbiAgICAgICAgaWYgKGRpYWxvZyA9IHNtYXNoLmdldChkb2N1bWVudCwgXCIuc21hc2gtZGlhbG9nLWJhY2tkcm9wIC5zbWFzaC1kaWFsb2dcIikpIHtcbiAgICAgICAgICAgIGJhY2tkcm9wLnJlbW92ZUNoaWxkKGRpYWxvZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhY2tkcm9wO1xuICAgIH1cbiAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSAnc21hc2gtZGlhbG9nLWJhY2tkcm9wJztcbiAgICBiYWNrZHJvcC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cInNtYXNoLWRpYWxvZy1iYWNrZ3JvdW5kXCI+PC9kaXY+JztcbiAgICBzbWFzaC5nZXQoYmFja2Ryb3AsICcuc21hc2gtZGlhbG9nLWJhY2tncm91bmQnKS5vbmNsaWNrID0gc21hc2guZGlhbG9nLmNsb3NlO1xuICAgIHNtYXNoLmdldChkb2N1bWVudCwgJ2JvZHknKS5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG4gICAgcmV0dXJuIGJhY2tkcm9wO1xufTtcblxuc21hc2guZGlhbG9nLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGRpYWxvZyA9IHNtYXNoLmdldChkb2N1bWVudCwgXCIuc21hc2gtZGlhbG9nLWJhY2tkcm9wXCIpKSB7XG4gICAgICAgIHNtYXNoLmdldChkb2N1bWVudCwgJ2JvZHknKS5yZW1vdmVDaGlsZChkaWFsb2cpO1xuICAgIH1cbn07XG4iLCJzbWFzaC5FeGNlcHRpb24gPSBmdW5jdGlvbiAodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnU21hc2hFeGNlcHRpb24gJyArIHRoaXMudmFsdWUgKyAnOiAnICsgdGhpcy5tZXNzYWdlO1xuICAgIH07XG59O1xuIiwic21hc2guaW5wdXQgPSB7fTtcblxuc21hc2guaW5wdXQuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNtYXNoLWlucHV0IGlucHV0LCAuc21hc2gtdGV4dGFyZWEgdGV4dGFyZWFcIik7XG4gICAgdmFyIGlucHV0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXRzW2ldO1xuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGlucHV0LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuZ2V0TmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5vbmtleXVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0Lm9ua2V5dXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwidGV4dGFyZWFcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5vbmtleXVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0Lm9ua2V5dXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsdWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJ0ZXh0YXJlYVwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKSkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChpbnB1dC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcblxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGlucHV0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBpbnB1dC5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBsID0gdGhpcy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQobCwgJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkge1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5zZXRWYWx1ZShpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoaW5wdXQucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbWFzaC1zZWxlY3Qgc2VsZWN0XCIpO1xuICAgIHZhciBzZWxlY3Q7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGVjdCA9IHNlbGVjdHNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoc2VsZWN0LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnaGFzLWZsb2F0aW5nLWxhYmVsJykpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShzZWxlY3QucGFyZW50RWxlbWVudCwgJ2hhcy1mbG9hdGluZy1sYWJlbCcpO1xuICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBzZWxlY3QuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0TmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUodGhpcywgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgICAgICB2YXIgb2xkID0gc2VsZWN0LnZhbHVlO1xuICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLnRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgJiYgdGV4dCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VsZWN0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHNlbGVjdC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgaWYgKG9sZCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCA9IHNtYXNoLmdldCh0aGlzLnBhcmVudEVsZW1lbnQsICcuc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkID0gc21hc2guZ2V0KHRoaXMsICdsaVt2YWx1ZT1cIicgKyB2YWx1ZSArICdcIl0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0Lm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdC5vbmNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGVja0xhYmVsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQub25mb2N1cyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICAgICAgaW5wdXQuZm9jdXMoZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3QgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNtYXNoLmdldCh0aGlzLCAnaW5wdXQnKS52YWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0xhYmVsKCk7XG4gICAgICAgICAgICBzbWFzaC5nZXQodGhpcywgJ2lucHV0JykuYmx1cigpO1xuICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHRoaXMsICd1bCBsaS5ob3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGhvdmVyLCAnaG92ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5jaGVja0xhYmVsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbCA9IHRoaXMucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZSgpICYmIHRoaXMuZ2V0VmFsdWUoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5nZXRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdC5zZWxlY3RlZEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLmlubmVySFRNTDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VsZWN0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJvcHRpb25cIik7XG4gICAgICAgIHZhciB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIHZhciB2YWw7XG4gICAgICAgIHVsLm9ubW91c2V1cCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbal07XG4gICAgICAgICAgICB2YWwgPSBvcHRpb24uZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgICAgaWYgKCF2YWwgJiYgdmFsICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICBsaS5pbm5lckhUTUwgPSBvcHRpb24uaW5uZXJIVE1MID09IFwiXCIgPyAnJm5ic3A7JyA6IG9wdGlvbi5pbm5lckhUTUw7XG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgICAgICBsaS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zZXRWYWx1ZSh0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPSBzbWFzaC5maW5kTmV4dFRhYlN0b3AodGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCwgdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5vbm1vdXNldXApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodWwpO1xuICAgICAgICBpbnB1dC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLnBhcmVudEVsZW1lbnQsICdpcy1mb2N1c3NlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNoZWNrTGFiZWwoKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlucHV0Lm9uYmx1ciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cub25tb3VzZXVwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZCh0aGlzLCAnaXMtZm9jdXNzZWQnKTtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHNtYXNoLmdldCh0aGlzLCAnaW5wdXQnKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3QgPSBzbWFzaC5nZXQodGhpcywgJ3NlbGVjdCcpO1xuICAgICAgICAgICAgdmFyIHNtYXNoX3NlbGVjdCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgJiYgaW5wdXQudmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIGlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgc2VsZWN0LmdldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xuICAgICAgICAgICAgaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlucHV0Lm9ua2V5dXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICAgICAgc21hc2hfc2VsZWN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zID0gc21hc2guZ2V0QWxsKHNtYXNoX3NlbGVjdCwgJ3VsIGxpJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1tpXS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzbWFzaC5zaG93KHNtYXNoX3NlbGVjdCwgJ3VsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShzbWFzaF9zZWxlY3QsICdpcy1mb2N1c3NlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbnB1dC5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpLmhvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyLm9ubW91c2Vkb3duKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgIGlmIChob3ZlciA9IHNtYXNoLmdldChzbWFzaF9zZWxlY3QsICd1bCBsaS5ob3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoaG92ZXIsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMgPSBzbWFzaC5wcmV2aW91c1Zpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHByZXZpb3VzLCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wID0gcHJldmlvdXMub2Zmc2V0VG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA9IHNtYXNoLmxhc3RWaXNpYmxlKGhvdmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQobGFzdCwgXCJob3ZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IGxhc3QucGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA9IHNtYXNoLmxhc3RWaXNpYmxlKGxpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChsYXN0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSBsYXN0LnBhcmVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgIGlmIChob3ZlciA9IHNtYXNoLmdldChzbWFzaF9zZWxlY3QsICd1bCBsaS5ob3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoaG92ZXIsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9IHNtYXNoLm5leHRWaXNpYmxlKGhvdmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChuZXh0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSBuZXh0Lm9mZnNldFRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPSBzbWFzaC5maXJzdFZpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChuZXh0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0LnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGkgPSBzbWFzaC5nZXQoc21hc2hfc2VsZWN0LCAndWwgbGknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID0gc21hc2guZmlyc3RWaXNpYmxlKGxpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChuZXh0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIHEgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teYS16QS1aMC05XyBdL2csIFwiXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtcyA9IHNtYXNoLmdldEFsbChzbWFzaF9zZWxlY3QsICd1bCBsaScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLnNob3coc21hc2hfc2VsZWN0LCAndWwnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEgPT0gXCJcIiB8fCBzbWFzaC5mdXp6eUNvbXBhcmUocSwgaXRlbS5pbm5lckhUTUwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5oaWRlKHNtYXNoX3NlbGVjdCwgJ3VsJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNlbGVjdC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkge1xuICAgICAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuc2V0VmFsdWUoc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5jaGVja0xhYmVsKCk7XG4gICAgICAgIHNtYXNoLmNsYXNzLmFkZChzZWxlY3QucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHNtYXNoLmlucHV0LmNoZWNrYm94SW5pdCgpO1xufTtcblxuc21hc2guaW5wdXQuY2hlY2tib3hJbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNtYXNoLWNoZWNrYm94IGlucHV0XCIpO1xuICAgIHZhciBjaGVja2JveDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tib3ggPSBjaGVja2JveGVzW2ldO1xuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGNoZWNrYm94LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYy5jbGFzc05hbWUgPSAnY2hlY2tzJztcbiAgICAgICAgYy5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9pPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2hlY2tlZFwiPmNoZWNrX2JveDwvaT4nO1xuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGMpO1xuXG4gICAgICAgIGlmIChsYWJlbCA9IGNoZWNrYm94LmdldEF0dHJpYnV0ZSgnbGFiZWwnKSkge1xuICAgICAgICAgICAgdmFyIGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBsLmNsYXNzTmFtZSA9ICdsYWJlbCc7XG4gICAgICAgICAgICBsLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChsKTtcbiAgICAgICAgfVxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoY2hlY2tib3gucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzbWFzaC5jbGFzcy5oYXMoY2hlY2tib3gucGFyZW50RWxlbWVudCwgJ2NoZWNrZWQnKTtcblxuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnRvZ2dsZSh0aGlzLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgc21hc2guZ2V0KHRoaXMsICdpbnB1dCcpLmNoZWNrZWQgPSBzbWFzaC5jbGFzcy5oYXModGhpcywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNoYW5nZShzbWFzaC5jbGFzcy5oYXModGhpcywgJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpID09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbmNsaWNrKCk7XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsInNtYXNoLnJvdXRlciA9IHtcbiAgICBfX3BhcnNlUm91dGVSZWdleDogL3soLio/KX0vaWcsXG4gICAgX19keW5hbWljUGFydHM6IFtdLFxuICAgIF9fYmFzZURpcmVjdG9yeTogbnVsbCxcbiAgICBfX3JvdXRlczoge1xuICAgICAgICBzdGF0aWM6IFtdLFxuICAgICAgICBkeW5hbWljOiBbXVxuICAgIH1cbn07XG5cbi8qKlxuICogQWRkIGEgcm91dGUgaGFuZGxlciB0byB0aGUgcm91dGVyXG4gKiBAcGFyYW0gc3RyaW5nICAgcGF0aFxuICogQHBhcmFtIEZ1bmN0aW9uIGNhbGxiYWNrXG4gKi9cbnNtYXNoLnJvdXRlci5hZGQgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciByb3V0ZSA9IHNtYXNoLnJvdXRlci5wYXJzZVJvdXRlKHBhdGgpO1xuICAgIGlmIChyb3V0ZS5yZWdleCkge1xuICAgICAgICByb3V0ZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAoIXNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXSkge1xuICAgICAgICAgICAgc21hc2gucm91dGVyLl9fcm91dGVzLmR5bmFtaWNbcm91dGUuZGVwdGhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzbWFzaC5yb3V0ZXIuX19yb3V0ZXMuZHluYW1pY1tyb3V0ZS5kZXB0aF1bcm91dGUubnVtVmFyc10pIHtcbiAgICAgICAgICAgIHNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXVtyb3V0ZS5udW1WYXJzXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXVtyb3V0ZS5udW1WYXJzXS5wdXNoKHJvdXRlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzbWFzaC5yb3V0ZXIuX19yb3V0ZXMuc3RhdGljW3BhdGhdID0gY2FsbGJhY2s7XG59O1xuXG4vKipcbiAqIFNldCBhbmQgZXhlY3V0ZSB0aGUgZ2l2ZW4gcGF0aFxuICogQHBhcmFtIHN0cmluZyBwYXRoXG4gKi9cbnNtYXNoLnJvdXRlci5zZXQgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgc21hc2gucm91dGVyLmRpc3BsYXlVUkwocGF0aCk7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdwb3BzdGF0ZScpKTtcbn07XG5cbi8qKlxuICogRGlzcGxheSB0aGUgdXJsIGluIHRoZSBicm93c2VyXG4gKiBAcGFyYW0gIHN0cmluZyBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLmRpc3BsYXlVUkwgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5hZGRCYXNlRGlyZWN0b3J5KHBhdGgpO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcIlwiLCBcIlwiLCBwYXRoKTtcbn07XG5cbi8qKlxuICogUmVkaXJlY3QgdG8gdGhlIGNvcnJlY3QgdXJsXG4gKiBAcGFyYW0gIHN0cmluZyBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLnJlZGlyZWN0ID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIGlmICghcGF0aC5zZWFyY2goL15odHRwW3NdPzpcXC9cXC8vKSkge1xuICAgICAgICBwYXRoID0gc21hc2gucm91dGVyLmFkZEJhc2VEaXJlY3RvcnkocGF0aCk7XG4gICAgfVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHBhdGg7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgd2hlbiBhIHBhdGggaXMgbm90IGZvdW5kLlxuICogQHBhcmFtICBSb3V0ZSByb3V0ZVxuICogQHJldHVybiB2b2lkXG4gKi9cbnNtYXNoLnJvdXRlci5oYW5kbGVOb3RGb3VuZCA9IGZ1bmN0aW9uKHJvdXRlKSB7XG4gICAgY29uc29sZS5sb2coXCJyb3V0ZTogXCIgKyBKU09OLnN0cmluZ2lmeShyb3V0ZSkgKyBcIiBkb2VzIG5vdCBleGlzdFwiKTtcbn07XG5cbi8qKlxuICogUnVuIHRoZSByb3V0ZXIgYW5kIGNoZWNrIHRoZSBnaXZlbiBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLnJ1biA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgc21hc2gucm91dGVyLmV4ZWN1dGUoKTtcbiAgICB9O1xuICAgIHNtYXNoLnJvdXRlci5leGVjdXRlKCk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcm91dGVyIGFuZCBjaGVjayBnaXZlbiBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgIGlmICh0aGlzLl9fcm91dGVzLnN0YXRpY1twYXRoLnBhdGhdKSB7XG4gICAgICAgIHRoaXMuX19yb3V0ZXMuc3RhdGljW3BhdGgucGF0aF0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGVwdGggPSBwYXRoLnBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aC0xO1xuICAgIGlmICh0aGlzLl9fcm91dGVzLmR5bmFtaWNbZGVwdGhdKSB7XG4gICAgICAgIHZhciByb3V0ZTtcbiAgICAgICAgdmFyIG1hdGNoZXM7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIHZhck51bSBpbiB0aGlzLl9fcm91dGVzLmR5bmFtaWNbZGVwdGhdKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF1bdmFyTnVtXSkge1xuICAgICAgICAgICAgICAgIHZhciByb3V0ZSA9IHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF1bdmFyTnVtXVtpdGVtXTtcbiAgICAgICAgICAgICAgICBtYXRjaGVzID0gcGF0aC5wYXRoLm1hdGNoKHJvdXRlLnJlZ2V4KTtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZS5udW1WYXJzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtyb3V0ZS52YXJzW2ldXSA9IG1hdGNoZXNbaSsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm91dGUuY2FsbGJhY2soZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNtYXNoLnJvdXRlci5oYW5kbGVOb3RGb3VuZChwYXRoKTtcbn07XG5cbi8qKlxuICogR2V0IHBhdGggd2l0aG91dCBiYXNlIGRpcmVjdG9yeSBpZiBhdmFpbGFibGVcbiAqIEByZXR1cm4gUGF0aFxuICovXG5zbWFzaC5yb3V0ZXIuZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbC5ocmVmID0gd2luZG93LmxvY2F0aW9uO1xuICAgIHJldHVybiB7aG9zdDogbC5ob3N0bmFtZSwgcGF0aDogc21hc2gucm91dGVyLmNoZWNrUGF0aChsLnBhdGhuYW1lKX07XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiByb3V0ZSBnaXZlbiBieSBhZGRcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gUm91dGVcbiAqL1xuc21hc2gucm91dGVyLnBhcnNlUm91dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5jbGVhblBhdGgocGF0aCk7XG4gICAgdmFyIHJvdXRlID0ge1xuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBkZXB0aDogKHBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aCAtIDEpLFxuICAgICAgICB2YXJzOiBbXSxcbiAgICAgICAgbnVtVmFyczogMFxuICAgIH07XG4gICAgc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzID0gcGF0aC5tYXRjaChzbWFzaC5yb3V0ZXIuX19wYXJzZVJvdXRlUmVnZXgpO1xuICAgIGlmIChzbWFzaC5yb3V0ZXIuX19keW5hbWljUGFydHMgIT0gdW5kZWZpbmVkICYmIHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0cyAhPSBudWxsKSB7XG4gICAgICAgIHZhciByZWdleCA9IFwiXlwiICsgcGF0aC5yZXBsYWNlKC9cXC8vaWcsIFwiXFxcXC9cIikgKyBcIiRcIjtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcm91dGUubnVtVmFycysrO1xuICAgICAgICAgICAgcm91dGUudmFycy5wdXNoKHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0c1tpXS5zdWJzdHJpbmcoMSwgc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzW2ldLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2Uoc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzW2ldLCBcIiguKj8pXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJvdXRlLnJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleCwgJ2knKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGJhc2UgZGlyZWN0b3J5IHRvIGJlIHVzZWQgYnkgYWxsIHJvdXRlc1xuICogQHBhcmFtIHN0cmluZyBkaXJlY3RvcnlcbiAqL1xuc21hc2gucm91dGVyLnNldEJhc2VEaXJlY3RvcnkgPSBmdW5jdGlvbihkaXJlY3RvcnkpIHtcbiAgICBpZiAoIWRpcmVjdG9yeSkge1xuICAgICAgICBzbWFzaC5yb3V0ZXIuX19iYXNlRGlyZWN0b3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgPSBzbWFzaC5yb3V0ZXIuY2xlYW5QYXRoKGRpcmVjdG9yeSk7XG59O1xuXG4vKipcbiAqIEFkZCB0aGUgYmFzZSBkaXJlY3RvcnkgaWYgaXQgaXMgYXZhaWxhYmxlXG4gKiBAcGFyYW0gc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gc3RyaW5nXG4gKi9cbnNtYXNoLnJvdXRlci5hZGRCYXNlRGlyZWN0b3J5ID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIGlmICghc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgaWYgKHBhdGguaW5kZXhPZihzbWFzaC5yb3V0ZXIuX19iYXNlRGlyZWN0b3J5KSA9PT0gLTEpIHtcbiAgICAgICAgcGF0aCA9IHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgKyBwYXRoO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8qKlxuICogQ2xlYW4gdGhlIGdpdmVuIHBhdGggdG8gdGhlIHByb3BlciBwYXRoIHRvIGJlIHVzZWQgYnkgdGhlIHJvdXRlclxuICogQHBhcmFtICBzdHJpbmcgcGF0aFxuICogQHJldHVybiBzdHJpbmdcbiAqL1xuc21hc2gucm91dGVyLmNsZWFuUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHBhdGguc3Vic3RyaW5nKDAsIDEpICE9IFwiL1wiKSB7XG4gICAgICAgIHBhdGggPSBcIi9cIiArIHBhdGg7XG4gICAgfVxuICAgIGlmIChwYXRoLmxlbmd0aCA+IDIgJiYgcGF0aC5zdWJzdHJpbmcocGF0aC5sZW5ndGgtMikgPT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoLTIpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8qKlxuICogQ2hlY2sgdGhlIHBhdGggaWYgdGhlcmUgaXMgYSBiYXNlIGRpcmVjdG9yeSBhdmFpbGFibGVcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGggVGhlIHBhdGggdG8gY2hlY2tcbiAqIEByZXR1cm4gc3RyaW5nICAgICAgVGhlIHBhdGggd2l0aG91dCBhIGJhc2UgZGlyZWN0b3J5IGZvciB1c2Ugb2YgY2hlY2tpbmcgcm91dGVzXG4gKi9cbnNtYXNoLnJvdXRlci5jaGVja1BhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5jbGVhblBhdGgocGF0aCk7XG4gICAgaWYgKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgJiYgcGF0aC5pbmRleE9mKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkpICE9PSAtMSkge1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnksICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgcXVlcnkgcGFyYW0gaW4gdGhlIHVybFxuICogQHBhcmFtICBzdHJpbmcgcGFyYW0gVGhlIHBhcmFtIHlvdSB3YW50IHRvIGhhdmVcbiAqIEByZXR1cm4gc3RyaW5nICAgICAgIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW0gb3IgdW5kZWZpbmVkIGlmIGl0IGlzIG5vdCBhdmFpbGFibGVcbiAqL1xuc21hc2gucm91dGVyLnF1ZXJ5UGFyYW0gPSBmdW5jdGlvbihwYXJhbSkge1xuICAgIHZhciByZWdleFMgPSBcIltcXFxcPyZdXCIrcGFyYW0rXCI9KFteJiNdKilcIixcbiAgICByZWdleCA9IG5ldyBSZWdFeHAoIHJlZ2V4UyApLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKCB3aW5kb3cubG9jYXRpb24uc2VhcmNoICk7XG4gICAgaWYoIHJlc3VsdHMgPT0gbnVsbCApe1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1sxXTsvL2RlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzFdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufTtcbiIsInNtYXNoLnNlYXJjaGJveCA9IHtcbiAgICBpXzogZmFsc2UsXG4gICAgbWluQXV0b0NvbXBsZXRlTGVuZ3RoOiAzLFxuICAgIG9uZm9jdXM6IHVuZGVmaW5lZCxcbiAgICBvbmJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbmNoYW5nZTogdW5kZWZpbmVkLFxufTtcblxuc21hc2guc2VhcmNoYm94LmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc21hc2guc2VhcmNoYm94LmlfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNzYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IGlucHV0XCIpO1xuICAgIGlmICghc3NiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3NiLm9uZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5yZXN1bHRzKCc8ZGl2IGNsYXNzPVwic21hc2gtaW5zdHJ1Y3Rpb25cIj5TdGFydCB0eXBpbmcgdG8gZmluZCByZXN1bHRzPC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc21hc2guY2xhc3MuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtaGVhZGVyXCIpLCAnaXMtZm9jdXNzZWQnKTtcbiAgICAgICAgc21hc2guY2xhc3MuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IC5zbWFzaC1zZWFyY2hib3gtcmVzdWx0c1wiKSwgJ3Nob3cnKTtcbiAgICAgICAgaWYgKHNtYXNoLnNlYXJjaGJveC5vbmZvY3VzKSB7XG4gICAgICAgICAgICBzbWFzaC5zZWFyY2hib3gub25mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzc2Iub25ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLWhlYWRlclwiKSwgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNlYXJjaGJveCAuc21hc2gtc2VhcmNoYm94LXJlc3VsdHNcIiksICdzaG93Jyk7XG4gICAgICAgIGlmIChzbWFzaC5zZWFyY2hib3gub25ibHVyKSB7XG4gICAgICAgICAgICBzbWFzaC5zZWFyY2hib3gub25ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNzYi5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoIDwgc21hc2guc2VhcmNoYm94Lm1pbkF1dG9Db21wbGV0ZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbWFzaC5zZWFyY2hib3gub25jaGFuZ2UpIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5vbmNoYW5nZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc21hc2guc2VhcmNoYm94LmlfID0gdHJ1ZTtcbn07XG5cbnNtYXNoLnNlYXJjaGJveC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChpID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1zZWFyY2hib3ggaW5wdXRcIikpIHtcbiAgICAgICAgcmV0dXJuIChpLnZhbHVlLmxlbmd0aCA9PSAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbnNtYXNoLnNlYXJjaGJveC5hcHBlbmRUbyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHZhciByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zZWFyY2hib3ggLnNtYXNoLXNlYXJjaGJveC1yZXN1bHRzXCIpO1xuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQobm9kZSk7XG59O1xuXG5zbWFzaC5zZWFyY2hib3gucmVzdWx0cyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IC5zbWFzaC1zZWFyY2hib3gtcmVzdWx0c1wiKTtcbiAgICByZXN1bHRzLmlubmVySFRNTCA9IGNvbnRlbnQ7XG59O1xuIiwic21hc2guc2lkZWJhciA9IHtcbiAgICBpXzogZmFsc2Vcbn07XG5cbnNtYXNoLnNpZGViYXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzbWFzaC5zaWRlYmFyLmlfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNpYmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXIgLmxvY2tcIik7XG4gICAgaWYgKCFzaWJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2libC5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNtYXNoLnNpZGViYXIudG9nZ2xlTG9jaygpO1xuICAgIH07XG5cbiAgICB2YXIgc2liID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zaWRlYmFyXCIpO1xuICAgIHNtYXNoLmNsYXNzLmFkZChzaWIsICdpcy11bmxvY2tlZCcpO1xuICAgIHNtYXNoLnNpZGViYXIuaV8gPSB0cnVlO1xuICAgIGlmIChzbWFzaC5jb25maWcuZ2V0KCdzaWRlYmFyX2xvY2snKSkge1xuICAgICAgICBzbWFzaC5zaWRlYmFyLnRvZ2dsZUxvY2soKTtcbiAgICB9XG59O1xuXG5zbWFzaC5zaWRlYmFyLnRvZ2dsZUxvY2sgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXNtYXNoLnNpZGViYXIuaV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzbWFzaC5jbGFzcy50b2dnbGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zaWRlYmFyIC5sb2NrXCIpLCAndW5sb2NrJyk7XG4gICAgc21hc2guY2xhc3MudG9nZ2xlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2lkZWJhclwiKSwgJ2lzLXVubG9ja2VkJyk7XG4gICAgc21hc2guY29uZmlnLnNldCgnc2lkZWJhcl9sb2NrJywgIXNtYXNoLmNsYXNzLmhhcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXJcIiksICdpcy11bmxvY2tlZCcpKTtcbn07XG4iLCJzbWFzaC5zdG9yYWdlID0ge307XG5cbnNtYXNoLnN0b3JhZ2Uuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn07XG5cbnNtYXNoLnN0b3JhZ2UudW5zZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xufTtcblxuc21hc2guc3RvcmFnZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgaSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKCFpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGkpO1xufTtcblxuc21hc2guc3RvcmFnZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xufTtcbiIsInNtYXNoLndvcmtzcGFjZSA9IHtcbiAgICBiYXNlVGl0bGU6IHVuZGVmaW5lZCxcbiAgICBvbmxhc3R0YWJjbG9zZWQ6IHVuZGVmaW5lZCxcbiAgICBfd3NfOiB1bmRlZmluZWQsXG4gICAgX2hkcl86IHVuZGVmaW5lZCxcbiAgICBfc2JfOiB1bmRlZmluZWQsXG4gICAgX3RhYnNfOiBbXVxufTtcblxuc21hc2gud29ya3NwYWNlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBzbWFzaC53b3Jrc3BhY2UuX3dzXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtd29ya3NwYWNlXCIpO1xuICAgIGlmICghc21hc2gud29ya3NwYWNlLl93c18pIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNtYXNoLndvcmtzcGFjZS5faGRyXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtaGVhZGVyXCIpO1xuICAgIGlmIChzbWFzaC53b3Jrc3BhY2UuX2hkcl8pIHtcbiAgICAgICAgc21hc2guY2xhc3MuYWRkKHNtYXNoLndvcmtzcGFjZS5fd3NfLCAnaGFzLWhlYWRlcicpO1xuICAgIH1cbiAgICBzbWFzaC53b3Jrc3BhY2UuX3NiXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtd29ya3NwYWNlIC5zbWFzaC1zaWRlYmFyXCIpO1xuICAgIGlmIChzbWFzaC53b3Jrc3BhY2UuX3NiXykge1xuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoc21hc2gud29ya3NwYWNlLl93c18sICdoYXMtc2lkZWJhcicpO1xuICAgIH1cbn07XG5cbnNtYXNoLndvcmtzcGFjZS5hZGRUYWIgPSBmdW5jdGlvbihpZCwgdGl0bGUsIGNvbnRlbnQsIHVybCkge1xuICAgIGlmICghc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lJykpIHtcbiAgICAgICAgdmFyIHBhbmVsID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXBhbmVsJyk7XG4gICAgICAgIGlmICghcGFuZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUbyBhZGQgYSB0YWIgdGhlcmUgbmVlZHMgdG8gYmUgYSBwYW5lbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhbmVsLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwic21hc2gtdGFiLXBhbmVcIj48ZGl2IGNsYXNzPVwic21hc2gtdGFic1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJzbWFzaC1wYW5lc1wiPjwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIHZhciB0YWJzID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lIC5zbWFzaC10YWJzJyk7XG4gICAgdmFyIHBhbmVzQ29udGFpbmVyID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lIC5zbWFzaC1wYW5lcycpO1xuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBzbWFzaC53b3Jrc3BhY2UuY3JlYXRlVGl0bGUodGl0bGUpO1xuXG4gICAgaWYgKHRhYiA9IHNtYXNoLmdldCh0YWJzLCAnLnNtYXNoLXRhYltkYXRhLWlkPVwiJyArIGlkICsgJ1wiXScpKSB7XG4gICAgICAgIHZhciBwYW5lID0gc21hc2guZ2V0KHBhbmVzQ29udGFpbmVyLCAnLnNtYXNoLXBhbmVbZGF0YS1pZD1cIicgKyBpZCArICdcIl0nKTtcbiAgICAgICAgcGFuZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICB0YWIuZGF0YXNldC51cmwgPSB1cmw7XG4gICAgICAgIHRhYi5vbmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xuICAgIH1cblxuICAgIHNtYXNoLmhpZGUocGFuZXNDb250YWluZXIsIFwiLnNtYXNoLXBhbmVcIik7XG4gICAgaWYgKGFjdGl2ZSA9IHNtYXNoLmdldCh0YWJzLCAnLnNtYXNoLXRhYi5hY3RpdmUnKSkge1xuICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoYWN0aXZlLCAnYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHRhYlxuICAgIHZhciB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhYi5jbGFzc05hbWUgPSAnc21hc2gtdGFiIGFjdGl2ZSc7XG4gICAgdGFiLmRhdGFzZXQuaWQgPSBpZDtcbiAgICB0YWIuZGF0YXNldC51cmwgPSB1cmw7XG4gICAgdGFiLmlubmVySFRNTCA9IHRpdGxlICsgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xvc2VcIj5jbG9zZTwvaT4nO1xuICAgIHRhYi5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoYWN0aXZlID0gc21hc2guZ2V0KHRhYnMsICcuc21hc2gtdGFiLmFjdGl2ZScpKSB7XG4gICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoYWN0aXZlLCAnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgc21hc2guY2xhc3MuYWRkKHRoaXMsICdhY3RpdmUnKTtcbiAgICAgICAgc21hc2guaGlkZShkb2N1bWVudCwgJy5zbWFzaC1wYW5lJyk7XG4gICAgICAgIHNtYXNoLnNob3coZG9jdW1lbnQsICcuc21hc2gtcGFuZVtkYXRhLWlkPVwiJyArIHRoaXMuZGF0YXNldC5pZCArICdcIl0nKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXNldC51cmwgJiYgdGhpcy5kYXRhc2V0LnVybCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBzbWFzaC5yb3V0ZXIuZGlzcGxheVVSTCh0aGlzLmRhdGFzZXQudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHNtYXNoLndvcmtzcGFjZS5jcmVhdGVUaXRsZSh0aGlzLmlubmVySFRNTCk7XG4gICAgfTtcbiAgICBzbWFzaC5vbih0YWIsICcuY2xvc2UnLCAnb25jbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudC5vbmNsb3NlICYmICF0aGlzLnBhcmVudEVsZW1lbnQub25jbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLnBhcmVudEVsZW1lbnQsICdhY3RpdmUnKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudC5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNTaWJsaW5nLm9uY2xpY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnRFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm5leHRTaWJsaW5nLm9uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZSA9IHNtYXNoLmdldChkb2N1bWVudCwgJy5zbWFzaC1wYW5lW2RhdGEtaWQ9XCInICsgdGhpcy5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWQgKyAnXCJdJykpIHtcbiAgICAgICAgICAgIHBhbmUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwYW5lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50Lm9uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub25jbG9zZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNtYXNoLndvcmtzcGFjZS5hY3RpdmVUYWIoKSAmJiBzbWFzaC53b3Jrc3BhY2Uub25sYXN0dGFiY2xvc2VkKSB7XG4gICAgICAgICAgICBzbWFzaC53b3Jrc3BhY2Uub25sYXN0dGFiY2xvc2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICB0YWJzLmFwcGVuZENoaWxkKHRhYik7XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgcGFuZSB3aXRoIHRoZSBwcm92aWRlZCBjb250ZW50XG4gICAgdmFyIHBhbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBhbmUuY2xhc3NOYW1lID0gJ3NtYXNoLXBhbmUnO1xuICAgIHBhbmUuZGF0YXNldC5pZCA9IGlkO1xuICAgIHBhbmUuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICBwYW5lc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwYW5lKTtcbiAgICByZXR1cm4ge3RhYjogdGFiLCBwYW5lOiBwYW5lfTtcbn07XG5cbnNtYXNoLndvcmtzcGFjZS5hY3RpdmVUYWIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGFiID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi5hY3RpdmUnKVxuICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgcGFuZSA9IHNtYXNoLmdldChkb2N1bWVudCwgJy5zbWFzaC1wYW5lW2RhdGEtaWQ9XCInICsgdGFiLmRhdGFzZXQuaWQgKyAnXCJdJyk7XG4gICAgaWYgKCFwYW5lKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge3RhYjogdGFiLCBwYW5lOiBwYW5lfTtcbn07XG5cbnNtYXNoLndvcmtzcGFjZS5jcmVhdGVUaXRsZSA9IGZ1bmN0aW9uKHRpdGxlKSB7XG4gICAgdmFyIHQgPSB0aXRsZS5yZXBsYWNlKC88KFtePl0rPykoW14+XSo/KT4oLio/KTxcXC9cXDE+L2lnLCBcIlwiKTtcbiAgICBpZiAodCA9PSAnJykge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICBpZiAodHMgPSBzbWFzaC5nZXQoZGl2LCAnLnRpdGxlJykpIHtcbiAgICAgICAgICAgIHQgPSB0cy5pbm5lckhUTUw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgPT0gJycpIHtcbiAgICAgICAgICAgIHQgPSAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQgKyAoc21hc2gud29ya3NwYWNlLmJhc2VUaXRsZSA/ICcgfCAnICsgc21hc2gud29ya3NwYWNlLmJhc2VUaXRsZSA6IFwiXCIpO1xufTtcbiJdfQ==
