window.addEventListener("load",function(e){smash.init()},!1);var smash={};smash.init=function(){smash.config.init(),smash.sidebar.init(),smash.searchbox.init(),smash.workspace.init(),smash.input.init()},smash.get=function(e,s){try{return e.querySelector(s)}catch(e){console.log(e)}},smash.getAll=function(e,s){try{return e.querySelectorAll(s)}catch(e){console.log(e)}},smash.hide=function(e,s){var a;a=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var t=0;t<a.length;t++)a[t].style.display="none"},smash.nextVisible=function(e){for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.firstVisible=function(e){if(e=e.parentElement.firstChild,"none"!=e.style.display)return e;for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.previousVisible=function(e){for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.lastVisible=function(e){if(e=e.parentElement.lastChild,"none"!=e.style.display)return e;for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.show=function(e,s){var a;a=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var t=0;t<a.length;t++)a[t].style.display=""},smash.remove=function(e){e.parentNode.removeChild(e)},smash.on=function(e,s,a,t){for(var n=smash.getAll(e,s),r=0;r<n.length;r++)n[r][a]=t},smash.fuzzyCompare=function(e,s){if(void 0==s||void 0==e)return!1;var a=".*?"+e.toLowerCase().replace(/-/g,"\\-").split("").join(".*?")+".*?";return s.toLowerCase().match(a)},smash.findNextTabStop=function(e,s){var a=smash.getAll(e,".smash-input, .smash-button, .smash-select, .smash-textarea, .smash-checkbox"),t=Array.prototype.filter.call(a,function(e){return e.tabIndex>="0"}),n=t.indexOf(s);return t[n+1]||t[0]},smash.isEmpty=function(e){switch(e){case void 0:case null:case"":return!0}return!1},smash.ajax={_headers_:[]},smash.ajax.addHeader=function(e,s){smash.ajax._headers_[e]=s},smash.ajax.removeHeader=function(e){delete smash.ajax._headers_[e]},smash.ajax.onerror=function(e){console.log(e)},smash.ajax.onunauthorized=function(e){smash.ajax.onerror(e)},smash.ajax._xhr_=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,s=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],a=0;a<s.length;a++)try{e=new ActiveXObject(s[a]);break}catch(e){}return e},smash.ajax.send=function(e,s,a,t,n,r,o){void 0===o&&(o=!0),void 0===r&&(r=smash.ajax.onerror);var i=smash.ajax._xhr_();i.responseType=n,i.onreadystatechange=function(){if(4==i.readyState)switch(i.status){case 200:case 201:s&&s(i.response);break;case 401:smash.ajax.onunauthorized(i.response);break;default:r(i.response)}},i.open(a,e,o),"json"==n?i.setRequestHeader("Content-type","application/json"):"POST"==a&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var l in smash.ajax._headers_)i.setRequestHeader(l,smash.ajax._headers_[l]);i.send(t)},smash.ajax.get=function(e,s,a,t,n,r){var o=[];for(var i in a)o.push(encodeURIComponent(i)+"="+encodeURIComponent(a[i]));smash.ajax.send(e+(o.length?"?"+o.join("&"):""),s,"GET",null,t,n,r)},smash.ajax.post=function(e,s,a,t,n,r){var o;if(a)if("json"!=t){var i=[];for(var l in a)i.push(encodeURIComponent(l)+"="+encodeURIComponent(a[l]));o=i.join("&")}else o=JSON.stringify(a);smash.ajax.send(e,s,"POST",o,t,n,r)},smash.class={},smash.class.add=function(e,s){smash.class.has(e,s)||(e.classList?e.classList.add(s):e.className+=" "+s)},smash.class.remove=function(e,s){smash.class.has(e,s)&&(e.classList?e.classList.remove(s):e.className=e.className.replace(s,""))},smash.class.has=function(e,s){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+s+" ")>-1},smash.class.toggle=function(e,s){smash.class.has(e,s)?smash.class.remove(e,s):smash.class.add(e,s)},smash.config={_values_:{_sidebar_lock_:!1}},smash.config.init=function(){var e=smash.storage.get("config");e&&(smash.config._values_=e)},smash.config.get=function(e){var s="_"+e+"_";if(s in smash.config._values_)return smash.config._values_[s];throw new smash.Exception("001",'Invalid config option "'+e+'"')},smash.config.set=function(e,s){var a="_"+e+"_";if(!a in smash.config._values_)throw new smash.Exception("001",'Invalid config option "'+e+'"');smash.config._values_[a]=s,smash.storage.set("config",smash.config._values_)},smash.contextmenu={},smash.contextmenu.new=function(e,s){(a=smash.get(document,"#smash-context-menu"))&&smash.remove(a);var a=document.createElement("div");a.id="smash-context-menu";var t="<ul class='clickable'>";for(i=0;i<s.length;i++)t+="seperator"!=s[i]?'<li class="ctx_item_'+i+'">'+s[i].label+"</li>":'<li class="seperator"></li>';t+="</ul>",a.innerHTML=t,document.body.appendChild(a);var n;for(i=0;i<s.length;i++)"seperator"!=s[i]&&(n=smash.get(a,"li.ctx_item_"+i),n.callback=s[i].callback,n.onmousedown=function(e){this.callback(e),smash.contextmenu.close(e)});var r=e.pageY;return r+a.offsetHeight>window.innerHeight&&(r=window.innerHeight-a.offsetHeight-20),a.style.top=r,a.style.left=e.pageX,e.preventDefault(),document.onclick=smash.contextmenu.close,!1},smash.contextmenu.close=function(e){e.preventDefault(),(ctx=smash.get(document,"#smash-context-menu"))&&smash.remove(ctx),document.onclick=void 0},smash.cookie={},smash.cookie.set=function(e,s,a){var t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3);var n="expires="+t.toUTCString();document.cookie=e+"="+s+";"+n+";path=/"},smash.cookie.get=function(e){for(var e=e+"=",s=decodeURIComponent(document.cookie),a=s.split(";"),t=0;t<a.length;t++){for(var n=a[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},smash.dialog={},smash.dialog.new=function(e){var s=smash.dialog.checkBackdrop(),a=document.createElement("div");a.className="smash-dialog",a.innerHTML=e,s.appendChild(a)},smash.dialog.checkBackdrop=function(){if(e=smash.get(document,".smash-dialog-backdrop"))return(dialog=smash.get(document,".smash-dialog-backdrop .smash-dialog"))&&e.removeChild(dialog),e;var e=document.createElement("div");return e.className="smash-dialog-backdrop",e.innerHTML='<div class="smash-dialog-background"></div>',smash.get(e,".smash-dialog-background").onclick=smash.dialog.close,smash.get(document,"body").appendChild(e),e},smash.dialog.close=function(){(dialog=smash.get(document,".smash-dialog-backdrop"))&&smash.get(document,"body").removeChild(dialog)},smash.Exception=function(e,s){this.value=e,this.message=s,this.toString=function(){return"SmashException "+this.value+": "+this.message}},smash.input={},smash.input.init=function(){for(var e,s=document.querySelectorAll(".smash-input input, .smash-textarea textarea"),a=0;a<s.length;a++)if(e=s[a],!smash.class.has(e.parentElement,"smash-initialised")){if(e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.setValue=function(s){(e=this.querySelector("input"))?(e.value=s,e.onkeyup()):(e=this.querySelector("textarea"))&&(e.value=s,e.onkeyup())},e.parentElement.getValue=function(){if(e=this.querySelector("input")){var e=this.querySelector("input");return e.value}if(e=this.querySelector("textarea")){var e=this.querySelector("textarea");return e.value}return null},e.parentElement.onfocus=function(s){(e=this.querySelector("input"))?e.focus():(e=this.querySelector("textarea"))&&e.focus()},smash.class.has(e.parentElement,"has-floating-label")){smash.class.remove(e.parentElement,"has-floating-label"),smash.class.add(e.parentElement,"floating-label");var t=document.createElement("label");t.innerHTML=e.placeholder,e.parentElement.appendChild(t),e.onkeyup=function(e){var s=this.parentElement.querySelector("label");s&&(""!=this.value?smash.class.add(s,"show"):smash.class.remove(s,"show"))}}e.parentElement.getAttribute("value")&&e.parentElement.setValue(e.parentElement.getAttribute("value")),smash.class.add(e.parentElement,"smash-initialised")}for(var n,r=document.querySelectorAll(".smash-select select"),a=0;a<r.length;a++)if(n=r[a],!smash.class.has(n.parentElement,"smash-initialised")){if(smash.class.has(n.parentElement,"has-floating-label")){smash.class.remove(n.parentElement,"has-floating-label"),smash.class.add(n.parentElement,"floating-label");var t=document.createElement("label");t.innerHTML=n.getAttribute("placeholder"),n.parentElement.appendChild(t)}n.parentElement.getName=function(){return this.querySelector("select").getAttribute("name")},n.parentElement.setValue=function(e){smash.class.remove(this,"is-focussed");var s=this.querySelector("select"),a=this.querySelector("input"),t=s.value;if(s.value=e,s.selectedIndex>-1){var n=s.options[s.selectedIndex].text;n&&""!=n?a.value=n:(a.value="",a.placeholder=s.getAttribute("placeholder"))}else a.value="",a.placeholder=s.getAttribute("placeholder");a.focus(),a.blur(),t!=e&&((selected=smash.get(this.parentElement,".selected"))&&smash.class.remove(selected,"selected"),""!=e&&(selected=smash.get(this,'li[value="'+e+'"]'))&&smash.class.add(selected,"selected"),s.onchange&&s.onchange(),this.onchange&&this.onchange()),this.checkLabel()},n.parentElement.onfocus=function(e){var s=this.querySelector("input");s.focus(e)},n.parentElement.getValue=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].value},n.parentElement.reset=function(){smash.get(this,"input").value=this.getText(),this.checkLabel(),smash.get(this,"input").blur(),(hover=smash.get(this,"ul li.hover"))&&smash.class.remove(hover,"hover")},n.parentElement.checkLabel=function(){var e=this.querySelector("label");e&&(this.getValue()&&""!=this.getValue()?smash.class.add(e,"show"):smash.class.remove(e,"show"))},n.parentElement.getText=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].innerHTML};var e=document.createElement("input");e.type="text",e.placeholder=n.getAttribute("placeholder"),e.setAttribute("readonly","readonly"),n.parentElement.appendChild(e);var o,i=n.querySelectorAll("option"),l=document.createElement("ul");l.onmouseup=function(e){e.stopPropagation()};for(var h=0;h<i.length;h++){var c=i[h];if(o=c.getAttribute("value"),o||""===o){var m=document.createElement("li");m.setAttribute("value",c.value),m.innerHTML=""==c.innerHTML?"&nbsp;":c.innerHTML,l.appendChild(m),m.onmousedown=function(e){return this.parentElement.parentElement.setValue(this.getAttribute("value")),(next=smash.findNextTabStop(this.parentElement.parentElement.parentElement,this.parentElement.parentElement))&&next.focus(),e.stopPropagation(),e.preventDefault(),window.onmouseup&&window.onmouseup(),!1}}}n.parentElement.appendChild(l),e.onfocus=function(e){smash.class.has(this.parentElement,"is-focussed")||(this.parentElement.checkLabel(),this.parentElement.click())},e.onblur=function(e){window.onmouseup&&window.onmouseup()},n.parentElement.onclick=function(){smash.class.add(this,"is-focussed");var e=smash.get(this,"input"),s=smash.get(this,"select"),a=this;e.value&&""!=e.value?e.setAttribute("placeholder",e.value):e.setAttribute("placeholder",s.getAttribute("placeholder")),e.removeAttribute("readonly"),e.blur(),e.value="",window.onmouseup=function(){if(window.onmouseup=null,e.onkeyup=null,e.setAttribute("readonly","readonly"),a.reset(),items=smash.getAll(a,"ul li")){for(var s=0;s<items.length;s++)items[s].style.display="";smash.show(a,"ul")}return smash.class.remove(a,"is-focussed"),!1},e.onkeydown=function(e){switch(e.keyCode){case 9:return!0;case 13:case 39:(hover=smash.get(a,"ul li.hover"))&&hover.onmousedown(e);break;case 38:if(hover=smash.get(a,"ul li.hover"))smash.class.remove(hover,"hover"),(previous=smash.previousVisible(hover))?(smash.class.add(previous,"hover"),previous.parentElement.scrollTop=previous.offsetTop):(last=smash.lastVisible(hover))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight);else{var s=smash.get(a,"ul li");(last=smash.lastVisible(s))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight)}break;case 40:if(hover=smash.get(a,"ul li.hover"))smash.class.remove(hover,"hover"),(next=smash.nextVisible(hover))?(smash.class.add(next,"hover"),next.parentElement.scrollTop=next.offsetTop):(next=smash.firstVisible(hover))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0);else{var s=smash.get(a,"ul li");(next=smash.firstVisible(s))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0)}break;case 27:this.value="",this.blur(),this.focus()}e.preventDefault(),e.stopPropagation();var t=this.value.replace(/[^a-zA-Z0-9_ ]/g,"");if(items=smash.getAll(a,"ul li")){smash.show(a,"ul");for(var n,r=!1,o=0;o<items.length;o++)n=items[o],""==t||smash.fuzzyCompare(t,n.innerHTML)?(n.style.display="",r=!0):n.style.display="none";r||smash.hide(a,"ul")}return!1},e.focus()},n.parentElement.getAttribute("value")&&n.parentElement.setValue(n.parentElement.getAttribute("value")),n.parentElement.checkLabel(),smash.class.add(n.parentElement,"smash-initialised")}smash.input.checkboxInit()},smash.input.checkboxInit=function(){for(var e,s=document.querySelectorAll(".smash-checkbox input"),a=0;a<s.length;a++)if(e=s[a],!smash.class.has(e.parentElement,"smash-initialised")){var t=document.createElement("span");if(t.className="checks",t.innerHTML='<i class="material-icons">check_box_outline_blank</i><i class="material-icons checked">check_box</i>',e.parentElement.appendChild(t),label=e.getAttribute("label")){var n=document.createElement("span");n.className="label",n.innerHTML=label,e.parentElement.appendChild(n)}smash.class.add(e.parentElement,"smash-initialised"),e.checked=smash.class.has(e.parentElement,"checked"),e.parentElement.onclick=function(){smash.class.toggle(this,"checked"),smash.get(this,"input").checked=smash.class.has(this,"checked"),this.onchange&&this.onchange(smash.class.has(this,"checked"))},e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.getValue=function(){return smash.class.has(this,"checked")},e.parentElement.setValue=function(e){smash.class.has(this,"checked")!=e&&this.onclick()}}},smash.router={__parseRouteRegex:/{(.*?)}/gi,__dynamicParts:[],__baseDirectory:null,__routes:{static:[],dynamic:[]}},smash.router.add=function(e,s){var a=smash.router.parseRoute(e);return a.regex?(a.callback=s,smash.router.__routes.dynamic[a.depth]||(smash.router.__routes.dynamic[a.depth]=[]),smash.router.__routes.dynamic[a.depth][a.numVars]||(smash.router.__routes.dynamic[a.depth][a.numVars]=[]),void smash.router.__routes.dynamic[a.depth][a.numVars].push(a)):void(smash.router.__routes.static[e]=s)},smash.router.set=function(e){smash.router.displayURL(e),window.dispatchEvent(new Event("popstate"))},smash.router.displayURL=function(e){e=smash.router.addBaseDirectory(e),window.history.pushState("","",e)},smash.router.redirect=function(e){e.search(/^http[s]?:\/\//)||(e=smash.router.addBaseDirectory(e)),window.location=e},smash.router.handleNotFound=function(e){console.log("route: "+JSON.stringify(e)+" does not exist")},smash.router.run=function(){window.onpopstate=function(e){smash.router.execute()},smash.router.execute()},smash.router.execute=function(){var e=this.getPath();if(this.__routes.static[e.path])return void this.__routes.static[e.path]();var s=e.path.split("/").length-1;if(this.__routes.dynamic[s]){var a,t,n={};for(var r in this.__routes.dynamic[s])for(var o in this.__routes.dynamic[s][r]){var a=this.__routes.dynamic[s][r][o];if(t=e.path.match(a.regex)){for(var i=0;i<a.numVars;i++)n[a.vars[i]]=t[i+1];return void a.callback(n)}}}smash.router.handleNotFound(e)},smash.router.getPath=function(){var e=document.createElement("a");return e.href=window.location,{host:e.hostname,path:smash.router.checkPath(e.pathname)}},smash.router.parseRoute=function(e){e=smash.router.cleanPath(e);var s={path:e,depth:e.split("/").length-1,vars:[],numVars:0};if(smash.router.__dynamicParts=e.match(smash.router.__parseRouteRegex),void 0!=smash.router.__dynamicParts&&null!=smash.router.__dynamicParts){for(var a="^"+e.replace(/\//gi,"\\/")+"$",t=0;t<smash.router.__dynamicParts.length;t++)s.numVars++,s.vars.push(smash.router.__dynamicParts[t].substring(1,smash.router.__dynamicParts[t].length-1)),a=a.replace(smash.router.__dynamicParts[t],"(.*?)");s.regex=new RegExp(a,"i")}return s},smash.router.setBaseDirectory=function(e){return e?void(smash.router.__baseDirectory=smash.router.cleanPath(e)):void(smash.router.__baseDirectory=void 0)},smash.router.addBaseDirectory=function(e){return smash.router.__baseDirectory?(e.indexOf(smash.router.__baseDirectory)===-1&&(e=smash.router.__baseDirectory+e),e):e},smash.router.cleanPath=function(e){return e.length>0&&"/"!=e.substring(0,1)&&(e="/"+e),e.length>2&&"/"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2)),e},smash.router.checkPath=function(e){return e=smash.router.cleanPath(e),smash.router.__baseDirectory&&e.indexOf(smash.router.__baseDirectory)!==-1&&(e=e.replace(smash.router.__baseDirectory,"")),e},smash.router.queryParam=function(e){var s="[\\?&]"+e+"=([^&#]*)",a=new RegExp(s),t=a.exec(window.location.search);if(null!=t)return t[1]},smash.searchbox={i_:!1,minAutoCompleteLength:3,onfocus:void 0,onblur:void 0,onchange:void 0},smash.searchbox.init=function(){if(!smash.searchbox.i_){var e=document.querySelector(".smash-searchbox input");e&&(e.onfocus=function(){0==this.value.length&&smash.searchbox.results('<div class="smash-instruction">Start typing to find results</div>'),smash.class.add(document.querySelector(".smash-header"),"is-focussed"),smash.class.add(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onfocus&&smash.searchbox.onfocus()},e.onblur=function(){smash.class.remove(document.querySelector(".smash-header"),"is-focussed"),smash.class.remove(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onblur&&smash.searchbox.onblur()},e.onkeyup=function(e){switch(e.keyCode){case 27:return this.value="",void this.blur()}this.value.length<smash.searchbox.minAutoCompleteLength||smash.searchbox.onchange&&smash.searchbox.onchange(this.value)},smash.searchbox.i_=!0)}},smash.searchbox.empty=function(){return!(i=smash.get(document,".smash-searchbox input"))||0==i.value.length},smash.searchbox.appendTo=function(e){var s=document.createElement("div");s.innerHTML=e;var a=document.querySelector(".smash-searchbox .smash-searchbox-results");a.appendChild(s)},smash.searchbox.results=function(e){var s=document.querySelector(".smash-searchbox .smash-searchbox-results");s.innerHTML=e},smash.sidebar={i_:!1},smash.sidebar.init=function(){if(!smash.sidebar.i_){var e=document.querySelector(".smash-sidebar .lock");if(e){e.onclick=function(){smash.sidebar.toggleLock()};var s=document.querySelector(".smash-sidebar");smash.class.add(s,"is-unlocked"),smash.sidebar.i_=!0,smash.config.get("sidebar_lock")&&smash.sidebar.toggleLock()}}},smash.sidebar.toggleLock=function(){smash.sidebar.i_&&(smash.class.toggle(document.querySelector(".smash-sidebar .lock"),"unlock"),smash.class.toggle(document.querySelector(".smash-sidebar"),"is-unlocked"),smash.config.set("sidebar_lock",!smash.class.has(document.querySelector(".smash-sidebar"),"is-unlocked")))},smash.storage={},smash.storage.set=function(e,s){localStorage.setItem(e,JSON.stringify(s))},smash.storage.unset=function(e){localStorage.removeItem(e)},smash.storage.get=function(e){var s=localStorage.getItem(e);if(s)return JSON.parse(s)},smash.storage.clear=function(){localStorage.clear()},smash.workspace={baseTitle:void 0,onlasttabclosed:void 0,_ws_:void 0,_hdr_:void 0,_sb_:void 0,_tabs_:[]},smash.workspace.init=function(){smash.workspace._ws_=document.querySelector(".smash-workspace"),smash.workspace._ws_&&(smash.workspace._hdr_=document.querySelector(".smash-header"),smash.workspace._hdr_&&smash.class.add(smash.workspace._ws_,"has-header"),smash.workspace._sb_=document.querySelector(".smash-workspace .smash-sidebar"),smash.workspace._sb_&&smash.class.add(smash.workspace._ws_,"has-sidebar"))},smash.workspace.addTab=function(e,s,a,t){if(!smash.get(document,".smash-tab-pane")){var n=smash.get(document,".smash-panel");if(!n)return void console.log("To add a tab there needs to be a panel");n.innerHTML='<div class="smash-tab-pane"><div class="smash-tabs"></div><div class="smash-panes"></div></div>'}var r=smash.get(document,".smash-tab-pane .smash-tabs"),o=smash.get(document,".smash-tab-pane .smash-panes");if(document.title=smash.workspace.createTitle(s),l=smash.get(r,'.smash-tab[data-id="'+e+'"]')){var i=smash.get(o,'.smash-pane[data-id="'+e+'"]');return i.innerHTML=a,l.dataset.url=t,l.onclick(),{tab:l,pane:i}}smash.hide(o,".smash-pane"),(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active");var l=document.createElement("div");l.className="smash-tab active",l.dataset.id=e,l.dataset.url=t,l.innerHTML=s+'<i class="material-icons close">close</i>',l.onclick=function(e){(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active"),smash.class.add(this,"active"),smash.hide(document,".smash-pane"),smash.show(document,'.smash-pane[data-id="'+this.dataset.id+'"]'),this.dataset.url&&"undefined"!=this.dataset.url&&smash.router.displayURL(this.dataset.url),document.title=smash.workspace.createTitle(this.innerHTML)},smash.on(l,".close","onclick",function(e){this.parentElement.onclose&&!this.parentElement.onclose()||(smash.class.has(this.parentElement,"active")&&(this.parentElement.previousSibling?this.parentElement.previousSibling.onclick():this.parentElement.nextSibling&&this.parentElement.nextSibling.onclick()),(i=smash.get(document,'.smash-pane[data-id="'+this.parentElement.dataset.id+'"]'))&&i.parentElement.removeChild(i),this.parentElement.parentElement.removeChild(this.parentElement),this.parentElement.onclosed&&this.parentElement.onclosed(),!smash.workspace.activeTab()&&smash.workspace.onlasttabclosed&&smash.workspace.onlasttabclosed(),e.stopPropagation())}),r.appendChild(l);var i=document.createElement("div");return i.className="smash-pane",i.dataset.id=e,i.innerHTML=a,o.appendChild(i),{tab:l,pane:i}},smash.workspace.activeTab=function(){var e=smash.get(document,".smash-tab.active");if(!e)return null;var s=smash.get(document,'.smash-pane[data-id="'+e.dataset.id+'"]');return s?{tab:e,pane:s}:null},smash.workspace.createTitle=function(e){var s=e.replace(/<([^>]+?)([^>]*?)>(.*?)<\/\1>/gi,"");if(""==s){var a=document.createElement("div");a.innerHTML=e,(ts=smash.get(a,".title"))&&(s=ts.innerHTML),""==s&&(s="unknown")}return s+(smash.workspace.baseTitle?" | "+smash.workspace.baseTitle:"")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNtYXNoLmpzIiwiYWpheC5qcyIsImNsYXNzLmpzIiwiY29uZmlnLmpzIiwiY29udGV4dG1lbnUuanMiLCJjb29raWUuanMiLCJkaWFsb2cuanMiLCJleGNlcHRpb24uanMiLCJpbnB1dC5qcyIsInJvdXRlci5qcyIsInNlYXJjaGJveC5qcyIsInNpZGViYXIuanMiLCJzdG9yYWdlLmpzIiwid29ya3NwYWNlLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic21hc2giLCJpbml0IiwiY29uZmlnIiwic2lkZWJhciIsInNlYXJjaGJveCIsIndvcmtzcGFjZSIsImlucHV0IiwiZ2V0IiwicGFyZW50Iiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImdldEFsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoaWRlIiwiZWwiLCJpIiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwibmV4dFZpc2libGUiLCJuZXh0U2libGluZyIsImZpcnN0VmlzaWJsZSIsInBhcmVudEVsZW1lbnQiLCJmaXJzdENoaWxkIiwicHJldmlvdXNWaXNpYmxlIiwicHJldmlvdXNTaWJsaW5nIiwibGFzdFZpc2libGUiLCJsYXN0Q2hpbGQiLCJzaG93IiwicmVtb3ZlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib24iLCJldmVudCIsImNhbGxiYWNrIiwiZWxlbWVudHMiLCJmdXp6eUNvbXBhcmUiLCJzZWFyY2giLCJjb21wYXJlIiwidW5kZWZpbmVkIiwicmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJzcGxpdCIsImpvaW4iLCJtYXRjaCIsImZpbmROZXh0VGFiU3RvcCIsImZvcm0iLCJ1bml2ZXJzZSIsImxpc3QiLCJBcnJheSIsInByb3RvdHlwZSIsImZpbHRlciIsImNhbGwiLCJpdGVtIiwidGFiSW5kZXgiLCJpbmRleCIsImluZGV4T2YiLCJpc0VtcHR5IiwidmFsdWUiLCJhamF4IiwiX2hlYWRlcnNfIiwiYWRkSGVhZGVyIiwibmFtZSIsInJlbW92ZUhlYWRlciIsIm9uZXJyb3IiLCJtZXNzYWdlIiwib251bmF1dGhvcml6ZWQiLCJfeGhyXyIsIlhNTEh0dHBSZXF1ZXN0IiwieGhyIiwidmVyc2lvbnMiLCJBY3RpdmVYT2JqZWN0Iiwic2VuZCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJyZXNwb25zZVR5cGUiLCJhc3luYyIsIngiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInF1ZXJ5Iiwia2V5IiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInBvc3QiLCJkYXRhU3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsImNsYXNzIiwiYWRkIiwiY2xhc3NOYW1lIiwiaGFzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3ZhbHVlc18iLCJfc2lkZWJhcl9sb2NrXyIsInYiLCJzdG9yYWdlIiwib3B0aW9uIiwibyIsIkV4Y2VwdGlvbiIsInNldCIsImNvbnRleHRtZW51IiwibmV3IiwiaXRlbXMiLCJjdHgiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImxhYmVsIiwiaW5uZXJIVE1MIiwiYm9keSIsImFwcGVuZENoaWxkIiwib25tb3VzZWRvd24iLCJ0aGlzIiwiY2xvc2UiLCJ5IiwicGFnZVkiLCJvZmZzZXRIZWlnaHQiLCJpbm5lckhlaWdodCIsInRvcCIsImxlZnQiLCJwYWdlWCIsInByZXZlbnREZWZhdWx0Iiwib25jbGljayIsImNvb2tpZSIsImV4cGlyeURheXMiLCJkIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiZXhwaXJlcyIsInRvVVRDU3RyaW5nIiwiZGVjb2RlZENvb2tpZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImNhIiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImRpYWxvZyIsImNvbnRlbnQiLCJiYWNrZHJvcCIsImNoZWNrQmFja2Ryb3AiLCJ0b1N0cmluZyIsImlucHV0cyIsImdldE5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRWYWx1ZSIsIm9ua2V5dXAiLCJnZXRWYWx1ZSIsIm9uZm9jdXMiLCJmb2N1cyIsInBsYWNlaG9sZGVyIiwibCIsInNlbGVjdCIsInNlbGVjdHMiLCJvbGQiLCJzZWxlY3RlZEluZGV4IiwidGV4dCIsIm9wdGlvbnMiLCJibHVyIiwic2VsZWN0ZWQiLCJvbmNoYW5nZSIsImNoZWNrTGFiZWwiLCJyZXNldCIsImdldFRleHQiLCJob3ZlciIsInR5cGUiLCJzZXRBdHRyaWJ1dGUiLCJ2YWwiLCJ1bCIsIm9ubW91c2V1cCIsInN0b3BQcm9wYWdhdGlvbiIsImoiLCJsaSIsIm5leHQiLCJjbGljayIsIm9uYmx1ciIsInNtYXNoX3NlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsIm9ua2V5ZG93biIsImtleUNvZGUiLCJwcmV2aW91cyIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsImxhc3QiLCJzY3JvbGxIZWlnaHQiLCJxIiwicmVzdWx0cyIsImNoZWNrYm94SW5pdCIsImNoZWNrYm94IiwiY2hlY2tib3hlcyIsImNoZWNrZWQiLCJyb3V0ZXIiLCJfX3BhcnNlUm91dGVSZWdleCIsIl9fZHluYW1pY1BhcnRzIiwiX19iYXNlRGlyZWN0b3J5IiwiX19yb3V0ZXMiLCJzdGF0aWMiLCJkeW5hbWljIiwicGF0aCIsInJvdXRlIiwicGFyc2VSb3V0ZSIsImRlcHRoIiwibnVtVmFycyIsImRpc3BsYXlVUkwiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJhZGRCYXNlRGlyZWN0b3J5IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJoYW5kbGVOb3RGb3VuZCIsInJ1biIsIm9ucG9wc3RhdGUiLCJleGVjdXRlIiwiZ2V0UGF0aCIsIm1hdGNoZXMiLCJ2YXJOdW0iLCJ2YXJzIiwiaHJlZiIsImhvc3QiLCJob3N0bmFtZSIsImNoZWNrUGF0aCIsInBhdGhuYW1lIiwiY2xlYW5QYXRoIiwiUmVnRXhwIiwic2V0QmFzZURpcmVjdG9yeSIsImRpcmVjdG9yeSIsInF1ZXJ5UGFyYW0iLCJwYXJhbSIsInJlZ2V4UyIsImV4ZWMiLCJpXyIsIm1pbkF1dG9Db21wbGV0ZUxlbmd0aCIsInNzYiIsImVtcHR5IiwiYXBwZW5kVG8iLCJub2RlIiwic2libCIsInRvZ2dsZUxvY2siLCJzaWIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidW5zZXQiLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsInBhcnNlIiwiY2xlYXIiLCJiYXNlVGl0bGUiLCJvbmxhc3R0YWJjbG9zZWQiLCJfd3NfIiwiX2hkcl8iLCJfc2JfIiwiX3RhYnNfIiwiYWRkVGFiIiwidGl0bGUiLCJwYW5lbCIsInRhYnMiLCJwYW5lc0NvbnRhaW5lciIsImNyZWF0ZVRpdGxlIiwidGFiIiwicGFuZSIsImRhdGFzZXQiLCJhY3RpdmUiLCJvbmNsb3NlIiwib25jbG9zZWQiLCJhY3RpdmVUYWIiLCJ0IiwiZGl2IiwidHMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFBQyxpQkFBQSxPQUFBLFNBQUFDLEdBQ0FDLE1BQUFDLFNBQ0EsRUFFQSxJQUFBRCxTQUVBQSxPQUFBQyxLQUFBLFdBQ0FELE1BQUFFLE9BQUFELE9BQ0FELE1BQUFHLFFBQUFGLE9BQ0FELE1BQUFJLFVBQUFILE9BQ0FELE1BQUFLLFVBQUFKLE9BQ0FELE1BQUFNLE1BQUFMLFFBR0FELE1BQUFPLElBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUNBLE1BQUFELEdBQUFFLGNBQUFELEdBQ0EsTUFBQVYsR0FDQVksUUFBQUMsSUFBQWIsS0FLQUMsTUFBQWEsT0FBQSxTQUFBTCxFQUFBQyxHQUNBLElBQ0EsTUFBQUQsR0FBQU0saUJBQUFMLEdBQ0EsTUFBQVYsR0FDQVksUUFBQUMsSUFBQWIsS0FLQUMsTUFBQWUsS0FBQSxTQUFBUCxFQUFBQyxHQUNBLEdBQUFPLEVBRUFBLEdBREFQLEdBQUEsZ0JBQUFBLEdBQ0FULE1BQUFhLE9BQUFMLEVBQUFDLElBRUFELEVBRUEsS0FBQSxHQUFBUyxHQUFBLEVBQUFBLEVBQUFELEVB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QTRKLEdBQUE3SyxVQUFBLGFBQ0E2SyxFQUFBQyxRQUFBNUosR0FBQUEsRUFDQTJKLEVBQUF6SixVQUFBOEIsRUFDQXdILEVBQUFwSixZQUFBdUosSUFDQUQsSUFBQUEsRUFBQUMsS0FBQUEsSUFHQS9RLE1BQUFLLFVBQUErUSxVQUFBLFdBQ0EsR0FBQU4sR0FBQTlRLE1BQUFPLElBQUEyRyxTQUFBLG9CQUNBLEtBQUE0SixFQUNBLE1BQUEsS0FFQSxJQUFBQyxHQUFBL1EsTUFBQU8sSUFBQTJHLFNBQUEsd0JBQUE0SixFQUFBRSxRQUFBNUosR0FBQSxLQUNBLE9BQUEySixJQUdBRCxJQUFBQSxFQUFBQyxLQUFBQSxHQUZBLE1BS0EvUSxNQUFBSyxVQUFBd1EsWUFBQSxTQUFBSixHQUNBLEdBQUFZLEdBQUFaLEVBQUE3TixRQUFBLGtDQUFBLEdBQ0EsSUFBQSxJQUFBeU8sRUFBQSxDQUNBLEdBQUFDLEdBQUFwSyxTQUFBQyxjQUFBLE1BQ0FtSyxHQUFBaEssVUFBQW1KLEdBQ0FjLEdBQUF2UixNQUFBTyxJQUFBK1EsRUFBQSxhQUNBRCxFQUFBRSxHQUFBakssV0FFQSxJQUFBK0osSUFDQUEsRUFBQSxXQUdBLE1BQUFBLElBQUFyUixNQUFBSyxVQUFBNlAsVUFBQSxNQUFBbFEsTUFBQUssVUFBQTZQLFVBQUEiLCJmaWxlIjoic21hc2guanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oZSl7XG4gICAgc21hc2guaW5pdCgpO1xufSwgZmFsc2UpO1xuXG52YXIgc21hc2ggPSB7fTtcblxuc21hc2guaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHNtYXNoLmNvbmZpZy5pbml0KCk7XG4gICAgc21hc2guc2lkZWJhci5pbml0KCk7XG4gICAgc21hc2guc2VhcmNoYm94LmluaXQoKTtcbiAgICBzbWFzaC53b3Jrc3BhY2UuaW5pdCgpO1xuICAgIHNtYXNoLmlucHV0LmluaXQoKTtcbn07XG5cbnNtYXNoLmdldCA9IGZ1bmN0aW9uKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLmdldEFsbCA9IGZ1bmN0aW9uKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLmhpZGUgPSBmdW5jdGlvbihwYXJlbnQsIHNlbGVjdG9yKSB7XG4gICAgdmFyIGVsO1xuICAgIGlmIChzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsID0gc21hc2guZ2V0QWxsKHBhcmVudCwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsID0gW3BhcmVudF07XG4gICAgfVxuICAgIGZvciAodmFyIGk9MDsgaTxlbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbFtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbn07XG5cbnNtYXNoLm5leHRWaXNpYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgICB3aGlsZSAoZWwgPSBlbC5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLmZpcnN0VmlzaWJsZSA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgd2hpbGUgKGVsID0gZWwubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5zbWFzaC5wcmV2aW91c1Zpc2libGUgPSBmdW5jdGlvbihlbCkge1xuICAgIHdoaWxlIChlbCA9IGVsLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLmxhc3RWaXNpYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQubGFzdENoaWxkO1xuICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHdoaWxlIChlbCA9IGVsLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLnNob3cgPSBmdW5jdGlvbihwYXJlbnQsIHNlbGVjdG9yKSB7XG4gICAgdmFyIGVsO1xuICAgIGlmIChzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsID0gc21hc2guZ2V0QWxsKHBhcmVudCwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsID0gW3BhcmVudF07XG4gICAgfVxuICAgIGZvciAodmFyIGk9MDsgaTxlbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbFtpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxufTtcblxuc21hc2gucmVtb3ZlID0gZnVuY3Rpb24oZWwpIHtcbiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbn07XG5cbnNtYXNoLm9uID0gZnVuY3Rpb24ocGFyZW50LCBzZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gc21hc2guZ2V0QWxsKHBhcmVudCwgc2VsZWN0b3IpO1xuICAgIGZvciAodmFyIGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGVtZW50c1tpXVtldmVudF0gPSBjYWxsYmFjaztcbiAgICB9XG59O1xuXG5zbWFzaC5mdXp6eUNvbXBhcmUgPSBmdW5jdGlvbihzZWFyY2gsIGNvbXBhcmUpIHtcbiAgICBpZiAoY29tcGFyZSA9PSB1bmRlZmluZWQgfHwgc2VhcmNoID09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZWdleCA9IFwiLio/XCIgKyBzZWFyY2gudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tL2csIFwiXFxcXC1cIikuc3BsaXQoXCJcIikuam9pbihcIi4qP1wiKSArIFwiLio/XCI7XG4gICAgcmV0dXJuIGNvbXBhcmUudG9Mb3dlckNhc2UoKS5tYXRjaChyZWdleCk7XG59O1xuXG5zbWFzaC5maW5kTmV4dFRhYlN0b3AgPSBmdW5jdGlvbihmb3JtLCBlbCkge1xuICAgIHZhciB1bml2ZXJzZSA9IHNtYXNoLmdldEFsbChmb3JtLCAnLnNtYXNoLWlucHV0LCAuc21hc2gtYnV0dG9uLCAuc21hc2gtc2VsZWN0LCAuc21hc2gtdGV4dGFyZWEsIC5zbWFzaC1jaGVja2JveCcpO1xuICAgIHZhciBsaXN0ID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHVuaXZlcnNlLCBmdW5jdGlvbihpdGVtKSB7cmV0dXJuIGl0ZW0udGFiSW5kZXggPj0gXCIwXCJ9KTtcbiAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoZWwpO1xuICAgIHJldHVybiBsaXN0W2luZGV4ICsgMV0gfHwgbGlzdFswXTtcbn07XG5cbnNtYXNoLmlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICBjYXNlIG51bGw6XG4gICAgY2FzZSBcIlwiOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbiIsInNtYXNoLmFqYXggPSB7XG4gICAgX2hlYWRlcnNfOiBbXVxufTtcblxuc21hc2guYWpheC5hZGRIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHNtYXNoLmFqYXguX2hlYWRlcnNfW25hbWVdID0gdmFsdWU7XG59O1xuXG5zbWFzaC5hamF4LnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgc21hc2guYWpheC5faGVhZGVyc19bbmFtZV07XG59O1xuXG5zbWFzaC5hamF4Lm9uZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG59O1xuXG5zbWFzaC5hamF4Lm9udW5hdXRob3JpemVkID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgIHNtYXNoLmFqYXgub25lcnJvcihtZXNzYWdlKTtcbn07XG5cbnNtYXNoLmFqYXguX3hocl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvbnMgPSBbXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNi4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNS4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNC4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuMy4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuMi4wXCIsXG4gICAgICAgIFwiTWljcm9zb2Z0LlhtbEh0dHBcIlxuICAgIF07XG4gICAgdmFyIHhocjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIgPSBuZXcgQWN0aXZlWE9iamVjdCh2ZXJzaW9uc1tpXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4aHI7XG59O1xuXG5zbWFzaC5hamF4LnNlbmQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaywgbWV0aG9kLCBkYXRhLCByZXNwb25zZVR5cGUsIG9uZXJyb3IsIGFzeW5jKSB7XG4gICAgaWYgKGFzeW5jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXN5bmMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob25lcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uZXJyb3IgPSBzbWFzaC5hamF4Lm9uZXJyb3I7XG4gICAgfVxuICAgIHZhciB4ID0gc21hc2guYWpheC5feGhyXygpO1xuICAgIHgucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xuICAgIHgub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh4LnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgc3dpdGNoICh4LnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAyMDA6XG4gICAgICAgICAgICBjYXNlIDIwMTpcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soeC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICAgICAgc21hc2guYWpheC5vbnVuYXV0aG9yaXplZCh4LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgb25lcnJvcih4LnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cblx0XHR9XG4gICAgfTtcbiAgICB4Lm9wZW4obWV0aG9kLCB1cmwsIGFzeW5jKTtcbiAgICBpZiAocmVzcG9uc2VUeXBlID09ICdqc29uJykge1xuICAgICAgICB4LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BPU1QnKSB7XG4gICAgICAgIHguc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHNtYXNoLmFqYXguX2hlYWRlcnNfKSB7XG4gICAgICAgIHguc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBzbWFzaC5hamF4Ll9oZWFkZXJzX1tuYW1lXSk7XG4gICAgfVxuICAgIHguc2VuZChkYXRhKVxufTtcblxuc21hc2guYWpheC5nZXQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaywgZGF0YSwgcmVzcG9uc2VUeXBlLCBvbmVycm9yLCBhc3luYykge1xuICAgIHZhciBxdWVyeSA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgIHF1ZXJ5LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrZXldKSk7XG4gICAgfVxuICAgIHNtYXNoLmFqYXguc2VuZCh1cmwgKyAocXVlcnkubGVuZ3RoID8gJz8nICsgcXVlcnkuam9pbignJicpIDogJycpLCBjYWxsYmFjaywgJ0dFVCcsIG51bGwsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgIGFzeW5jKVxufTtcblxuc21hc2guYWpheC5wb3N0ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2ssIGRhdGEsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgYXN5bmMpIHtcbiAgICB2YXIgZGF0YVN0cjtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9ICdqc29uJykge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrZXldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhU3RyID0gcXVlcnkuam9pbignJicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhU3RyID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc21hc2guYWpheC5zZW5kKHVybCwgY2FsbGJhY2ssICdQT1NUJywgZGF0YVN0ciwgcmVzcG9uc2VUeXBlLCBvbmVycm9yLCBhc3luYylcbn07XG4iLCJzbWFzaC5jbGFzcyA9IHt9O1xuXG5zbWFzaC5jbGFzcy5hZGQgPSBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKCFzbWFzaC5jbGFzcy5oYXMoZWwsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0ID8gZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpIDogZWwuY2xhc3NOYW1lICs9ICgnICcgKyBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbnNtYXNoLmNsYXNzLnJlbW92ZSA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICBpZiAoc21hc2guY2xhc3MuaGFzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSA6IGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKGNsYXNzTmFtZSwgJycpO1xuICAgIH1cbn07XG5cbnNtYXNoLmNsYXNzLmhhcyA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gKChcIiBcIiArIGVsLmNsYXNzTmFtZSArIFwiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSA+IC0xKTtcbn07XG5cbnNtYXNoLmNsYXNzLnRvZ2dsZSA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICBzbWFzaC5jbGFzcy5oYXMoZWwsIGNsYXNzTmFtZSkgPyBzbWFzaC5jbGFzcy5yZW1vdmUoZWwsIGNsYXNzTmFtZSkgOiBzbWFzaC5jbGFzcy5hZGQoZWwsIGNsYXNzTmFtZSk7XG59O1xuIiwic21hc2guY29uZmlnID0ge1xuICAgIF92YWx1ZXNfOiB7XG4gICAgICAgIF9zaWRlYmFyX2xvY2tfOiBmYWxzZVxuICAgIH1cbn1cblxuc21hc2guY29uZmlnLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHNtYXNoLnN0b3JhZ2UuZ2V0KCdjb25maWcnKTtcbiAgICBpZiAodikge1xuICAgICAgICBzbWFzaC5jb25maWcuX3ZhbHVlc18gPSB2O1xuICAgIH1cbn07XG5cbnNtYXNoLmNvbmZpZy5nZXQgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICB2YXIgbyA9ICdfJyArIG9wdGlvbiArICdfJztcbiAgICBpZiAobyBpbiBzbWFzaC5jb25maWcuX3ZhbHVlc18pIHtcbiAgICAgICAgcmV0dXJuIHNtYXNoLmNvbmZpZy5fdmFsdWVzX1tvXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IHNtYXNoLkV4Y2VwdGlvbignMDAxJywgJ0ludmFsaWQgY29uZmlnIG9wdGlvbiBcIicgKyBvcHRpb24gKyAnXCInKTtcbn07XG5cbnNtYXNoLmNvbmZpZy5zZXQgPSBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7XG4gICAgdmFyIG8gPSAnXycgKyBvcHRpb24gKyAnXyc7XG4gICAgaWYgKCFvIGluIHNtYXNoLmNvbmZpZy5fdmFsdWVzXykge1xuICAgICAgICB0aHJvdyBuZXcgc21hc2guRXhjZXB0aW9uKCcwMDEnLCAnSW52YWxpZCBjb25maWcgb3B0aW9uIFwiJyArIG9wdGlvbiArICdcIicpO1xuICAgIH1cbiAgICBzbWFzaC5jb25maWcuX3ZhbHVlc19bb10gPSB2YWx1ZTtcbiAgICBzbWFzaC5zdG9yYWdlLnNldCgnY29uZmlnJywgc21hc2guY29uZmlnLl92YWx1ZXNfKTtcbn07XG4iLCJzbWFzaC5jb250ZXh0bWVudSA9IHt9O1xuXG5zbWFzaC5jb250ZXh0bWVudS5uZXcgPSBmdW5jdGlvbihlLCBpdGVtcykge1xuICAgIGlmIChjdHggPSBzbWFzaC5nZXQoZG9jdW1lbnQsIFwiI3NtYXNoLWNvbnRleHQtbWVudVwiKSkge1xuICAgICAgICBzbWFzaC5yZW1vdmUoY3R4KTtcbiAgICB9XG4gICAgdmFyIGN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY3R4LmlkID0gIFwic21hc2gtY29udGV4dC1tZW51XCI7XG4gICAgdmFyIGxpc3QgPSBcIjx1bCBjbGFzcz0nY2xpY2thYmxlJz5cIjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zW2ldID09IFwic2VwZXJhdG9yXCIpIHtcbiAgICAgICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cInNlcGVyYXRvclwiPjwvbGk+JztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cImN0eF9pdGVtXycgKyBpICsgJ1wiPicgKyBpdGVtc1tpXS5sYWJlbCArIFwiPC9saT5cIjtcbiAgICB9XG4gICAgbGlzdCArPSAnPC91bD4nO1xuICAgIGN0eC5pbm5lckhUTUwgPSBsaXN0O1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3R4KTtcbiAgICB2YXIgaXRlbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zW2ldID09IFwic2VwZXJhdG9yXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0gPSBzbWFzaC5nZXQoY3R4LCBcImxpLmN0eF9pdGVtX1wiICsgaSk7XG4gICAgICAgIGl0ZW0uY2FsbGJhY2sgPSBpdGVtc1tpXS5jYWxsYmFjaztcbiAgICAgICAgaXRlbS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZSk7XG4gICAgICAgICAgICBzbWFzaC5jb250ZXh0bWVudS5jbG9zZShlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHkgPSBlLnBhZ2VZXG4gICAgaWYgKHkgKyBjdHgub2Zmc2V0SGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdHgub2Zmc2V0SGVpZ2h0IC0gMjA7XG4gICAgfVxuICAgIGN0eC5zdHlsZS50b3AgPSB5O1xuICAgIGN0eC5zdHlsZS5sZWZ0ID0gZS5wYWdlWDtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQub25jbGljayA9IHNtYXNoLmNvbnRleHRtZW51LmNsb3NlO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbnNtYXNoLmNvbnRleHRtZW51LmNsb3NlID0gZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoY3R4ID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIiNzbWFzaC1jb250ZXh0LW1lbnVcIikpIHtcbiAgICAgICAgc21hc2gucmVtb3ZlKGN0eCk7XG4gICAgfVxuICAgIGRvY3VtZW50Lm9uY2xpY2sgPSB1bmRlZmluZWQ7XG59O1xuIiwic21hc2guY29va2llID0ge307XG5cbnNtYXNoLmNvb2tpZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXhwaXJ5RGF5cykge1xuICAgIHZhciBkID0gbmV3IERhdGUoKTtcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhwaXJ5RGF5cyoyNCo2MCo2MCoxMDAwKSk7XG4gICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIrIGQudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xufTtcblxuc21hc2guY29va2llLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbmFtZSA9IG5hbWUgKyBcIj1cIjtcbiAgICB2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xuICAgIHZhciBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XG4gICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn07XG4iLCJzbWFzaC5kaWFsb2cgPSB7fTtcblxuc21hc2guZGlhbG9nLm5ldyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgYmFja2Ryb3AgPSBzbWFzaC5kaWFsb2cuY2hlY2tCYWNrZHJvcCgpO1xuXG4gICAgdmFyIGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpYWxvZy5jbGFzc05hbWUgPSAnc21hc2gtZGlhbG9nJztcbiAgICBkaWFsb2cuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICBiYWNrZHJvcC5hcHBlbmRDaGlsZChkaWFsb2cpO1xufTtcblxuc21hc2guZGlhbG9nLmNoZWNrQmFja2Ryb3AgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYmFja2Ryb3AgPSBzbWFzaC5nZXQoZG9jdW1lbnQsIFwiLnNtYXNoLWRpYWxvZy1iYWNrZHJvcFwiKSkge1xuICAgICAgICBpZiAoZGlhbG9nID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1kaWFsb2ctYmFja2Ryb3AgLnNtYXNoLWRpYWxvZ1wiKSkge1xuICAgICAgICAgICAgYmFja2Ryb3AucmVtb3ZlQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG4gICAgfVxuICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9ICdzbWFzaC1kaWFsb2ctYmFja2Ryb3AnO1xuICAgIGJhY2tkcm9wLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwic21hc2gtZGlhbG9nLWJhY2tncm91bmRcIj48L2Rpdj4nO1xuICAgIHNtYXNoLmdldChiYWNrZHJvcCwgJy5zbWFzaC1kaWFsb2ctYmFja2dyb3VuZCcpLm9uY2xpY2sgPSBzbWFzaC5kaWFsb2cuY2xvc2U7XG4gICAgc21hc2guZ2V0KGRvY3VtZW50LCAnYm9keScpLmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcbiAgICByZXR1cm4gYmFja2Ryb3A7XG59O1xuXG5zbWFzaC5kaWFsb2cuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZGlhbG9nID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1kaWFsb2ctYmFja2Ryb3BcIikpIHtcbiAgICAgICAgc21hc2guZ2V0KGRvY3VtZW50LCAnYm9keScpLnJlbW92ZUNoaWxkKGRpYWxvZyk7XG4gICAgfVxufTtcbiIsInNtYXNoLkV4Y2VwdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdTbWFzaEV4Y2VwdGlvbiAnICsgdGhpcy52YWx1ZSArICc6ICcgKyB0aGlzLm1lc3NhZ2U7XG4gICAgfTtcbn07XG4iLCJzbWFzaC5pbnB1dCA9IHt9O1xuXG5zbWFzaC5pbnB1dC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc21hc2gtaW5wdXQgaW5wdXQsIC5zbWFzaC10ZXh0YXJlYSB0ZXh0YXJlYVwiKTtcbiAgICB2YXIgaW5wdXQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dHNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoaW5wdXQucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKSkge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaW5wdXQub25rZXl1cCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpbnB1dC5vbmtleXVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsdWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJ0ZXh0YXJlYVwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKSkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChpbnB1dC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcblxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGlucHV0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBpbnB1dC5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBsID0gdGhpcy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQobCwgJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkge1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5zZXRWYWx1ZShpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoaW5wdXQucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbWFzaC1zZWxlY3Qgc2VsZWN0XCIpO1xuICAgIHZhciBzZWxlY3Q7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGVjdCA9IHNlbGVjdHNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoc2VsZWN0LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnaGFzLWZsb2F0aW5nLWxhYmVsJykpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShzZWxlY3QucGFyZW50RWxlbWVudCwgJ2hhcy1mbG9hdGluZy1sYWJlbCcpO1xuICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBzZWxlY3QuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0TmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUodGhpcywgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgICAgICB2YXIgb2xkID0gc2VsZWN0LnZhbHVlO1xuICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLnRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgJiYgdGV4dCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VsZWN0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHNlbGVjdC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgaWYgKG9sZCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCA9IHNtYXNoLmdldCh0aGlzLnBhcmVudEVsZW1lbnQsICcuc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkID0gc21hc2guZ2V0KHRoaXMsICdsaVt2YWx1ZT1cIicgKyB2YWx1ZSArICdcIl0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0Lm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdC5vbmNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGVja0xhYmVsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQub25mb2N1cyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICAgICAgaW5wdXQuZm9jdXMoZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3QgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNtYXNoLmdldCh0aGlzLCAnaW5wdXQnKS52YWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0xhYmVsKCk7XG4gICAgICAgICAgICBzbWFzaC5nZXQodGhpcywgJ2lucHV0JykuYmx1cigpO1xuICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHRoaXMsICd1bCBsaS5ob3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGhvdmVyLCAnaG92ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5jaGVja0xhYmVsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbCA9IHRoaXMucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZSgpICYmIHRoaXMuZ2V0VmFsdWUoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5nZXRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdC5zZWxlY3RlZEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLmlubmVySFRNTDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VsZWN0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJvcHRpb25cIik7XG4gICAgICAgIHZhciB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIHZhciB2YWw7XG4gICAgICAgIHVsLm9ubW91c2V1cCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbal07XG4gICAgICAgICAgICB2YWwgPSBvcHRpb24uZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgICAgaWYgKCF2YWwgJiYgdmFsICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICBsaS5pbm5lckhUTUwgPSBvcHRpb24uaW5uZXJIVE1MID09IFwiXCIgPyAnJm5ic3A7JyA6IG9wdGlvbi5pbm5lckhUTUw7XG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgICAgICBsaS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zZXRWYWx1ZSh0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPSBzbWFzaC5maW5kTmV4dFRhYlN0b3AodGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCwgdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5vbm1vdXNldXApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodWwpO1xuICAgICAgICBpbnB1dC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLnBhcmVudEVsZW1lbnQsICdpcy1mb2N1c3NlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNoZWNrTGFiZWwoKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlucHV0Lm9uYmx1ciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cub25tb3VzZXVwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHRoaXMsICdpcy1mb2N1c3NlZCcpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gc21hc2guZ2V0KHRoaXMsICdpbnB1dCcpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IHNtYXNoLmdldCh0aGlzLCAnc2VsZWN0Jyk7XG4gICAgICAgICAgICB2YXIgc21hc2hfc2VsZWN0ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZSAmJiBpbnB1dC52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBzZWxlY3QuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICBpbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW5wdXQub25rZXl1cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICBzbWFzaF9zZWxlY3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMgPSBzbWFzaC5nZXRBbGwoc21hc2hfc2VsZWN0LCAndWwgbGknKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8aXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLnNob3coc21hc2hfc2VsZWN0LCAndWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKHNtYXNoX3NlbGVjdCwgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlucHV0Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoaG92ZXIgPSBzbWFzaC5nZXQoc21hc2hfc2VsZWN0LCAndWwgbGkuaG92ZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXIub25tb3VzZWRvd24oZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpLmhvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShob3ZlciwgXCJob3ZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cyA9IHNtYXNoLnByZXZpb3VzVmlzaWJsZShob3ZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQocHJldmlvdXMsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSBwcmV2aW91cy5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID0gc21hc2gubGFzdFZpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChsYXN0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0LnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wID0gbGFzdC5wYXJlbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGkgPSBzbWFzaC5nZXQoc21hc2hfc2VsZWN0LCAndWwgbGknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID0gc21hc2gubGFzdFZpc2libGUobGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKGxhc3QsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IGxhc3QucGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpLmhvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShob3ZlciwgXCJob3ZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID0gc21hc2gubmV4dFZpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IG5leHQub2Zmc2V0VG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9IHNtYXNoLmZpcnN0VmlzaWJsZShob3ZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaSA9IHNtYXNoLmdldChzbWFzaF9zZWxlY3QsICd1bCBsaScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPSBzbWFzaC5maXJzdFZpc2libGUobGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgcSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW15hLXpBLVowLTlfIF0vZywgXCJcIik7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zID0gc21hc2guZ2V0QWxsKHNtYXNoX3NlbGVjdCwgJ3VsIGxpJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc21hc2guc2hvdyhzbWFzaF9zZWxlY3QsICd1bCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocSA9PSBcIlwiIHx8IHNtYXNoLmZ1enp5Q29tcGFyZShxLCBpdGVtLmlubmVySFRNTCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmhpZGUoc21hc2hfc2VsZWN0LCAndWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5zZXRWYWx1ZShzZWxlY3QucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50LmNoZWNrTGFiZWwoKTtcbiAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnc21hc2gtaW5pdGlhbGlzZWQnKTtcbiAgICB9XG4gICAgc21hc2guaW5wdXQuY2hlY2tib3hJbml0KCk7XG59O1xuXG5zbWFzaC5pbnB1dC5jaGVja2JveEluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc21hc2gtY2hlY2tib3ggaW5wdXRcIik7XG4gICAgdmFyIGNoZWNrYm94O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGVja2JveCA9IGNoZWNrYm94ZXNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoY2hlY2tib3gucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjLmNsYXNzTmFtZSA9ICdjaGVja3MnO1xuICAgICAgICBjLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L2k+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjaGVja2VkXCI+Y2hlY2tfYm94PC9pPic7XG4gICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYyk7XG5cbiAgICAgICAgaWYgKGxhYmVsID0gY2hlY2tib3guZ2V0QXR0cmlidXRlKCdsYWJlbCcpKSB7XG4gICAgICAgICAgICB2YXIgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGwuY2xhc3NOYW1lID0gJ2xhYmVsJztcbiAgICAgICAgICAgIGwuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGwpO1xuICAgICAgICB9XG4gICAgICAgIHNtYXNoLmNsYXNzLmFkZChjaGVja2JveC5wYXJlbnRFbGVtZW50LCAnc21hc2gtaW5pdGlhbGlzZWQnKTtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHNtYXNoLmNsYXNzLmhhcyhjaGVja2JveC5wYXJlbnRFbGVtZW50LCAnY2hlY2tlZCcpO1xuXG4gICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MudG9nZ2xlKHRoaXMsICdjaGVja2VkJyk7XG4gICAgICAgICAgICBzbWFzaC5nZXQodGhpcywgJ2lucHV0JykuY2hlY2tlZCA9IHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25jaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2hhbmdlKHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmdldE5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmdldFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc21hc2guY2xhc3MuaGFzKHRoaXMsICdjaGVja2VkJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKHRoaXMsICdjaGVja2VkJykgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uY2xpY2soKTtcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIiwic21hc2gucm91dGVyID0ge1xuICAgIF9fcGFyc2VSb3V0ZVJlZ2V4OiAveyguKj8pfS9pZyxcbiAgICBfX2R5bmFtaWNQYXJ0czogW10sXG4gICAgX19iYXNlRGlyZWN0b3J5OiBudWxsLFxuICAgIF9fcm91dGVzOiB7XG4gICAgICAgIHN0YXRpYzogW10sXG4gICAgICAgIGR5bmFtaWM6IFtdXG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGQgYSByb3V0ZSBoYW5kbGVyIHRvIHRoZSByb3V0ZXJcbiAqIEBwYXJhbSBzdHJpbmcgICBwYXRoXG4gKiBAcGFyYW0gRnVuY3Rpb24gY2FsbGJhY2tcbiAqL1xuc21hc2gucm91dGVyLmFkZCA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJvdXRlID0gc21hc2gucm91dGVyLnBhcnNlUm91dGUocGF0aCk7XG4gICAgaWYgKHJvdXRlLnJlZ2V4KSB7XG4gICAgICAgIHJvdXRlLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICghc21hc2gucm91dGVyLl9fcm91dGVzLmR5bmFtaWNbcm91dGUuZGVwdGhdKSB7XG4gICAgICAgICAgICBzbWFzaC5yb3V0ZXIuX19yb3V0ZXMuZHluYW1pY1tyb3V0ZS5kZXB0aF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXVtyb3V0ZS5udW1WYXJzXSkge1xuICAgICAgICAgICAgc21hc2gucm91dGVyLl9fcm91dGVzLmR5bmFtaWNbcm91dGUuZGVwdGhdW3JvdXRlLm51bVZhcnNdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc21hc2gucm91dGVyLl9fcm91dGVzLmR5bmFtaWNbcm91dGUuZGVwdGhdW3JvdXRlLm51bVZhcnNdLnB1c2gocm91dGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNtYXNoLnJvdXRlci5fX3JvdXRlcy5zdGF0aWNbcGF0aF0gPSBjYWxsYmFjaztcbn07XG5cbi8qKlxuICogU2V0IGFuZCBleGVjdXRlIHRoZSBnaXZlbiBwYXRoXG4gKiBAcGFyYW0gc3RyaW5nIHBhdGhcbiAqL1xuc21hc2gucm91dGVyLnNldCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBzbWFzaC5yb3V0ZXIuZGlzcGxheVVSTChwYXRoKTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3BvcHN0YXRlJykpO1xufTtcblxuLyoqXG4gKiBEaXNwbGF5IHRoZSB1cmwgaW4gdGhlIGJyb3dzZXJcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gdm9pZFxuICovXG5zbWFzaC5yb3V0ZXIuZGlzcGxheVVSTCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gc21hc2gucm91dGVyLmFkZEJhc2VEaXJlY3RvcnkocGF0aCk7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFwiXCIsIFwiXCIsIHBhdGgpO1xufTtcblxuLyoqXG4gKiBSZWRpcmVjdCB0byB0aGUgY29ycmVjdCB1cmxcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gdm9pZFxuICovXG5zbWFzaC5yb3V0ZXIucmVkaXJlY3QgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgaWYgKCFwYXRoLnNlYXJjaCgvXmh0dHBbc10/OlxcL1xcLy8pKSB7XG4gICAgICAgIHBhdGggPSBzbWFzaC5yb3V0ZXIuYWRkQmFzZURpcmVjdG9yeShwYXRoKTtcbiAgICB9XG4gICAgd2luZG93LmxvY2F0aW9uID0gcGF0aDtcbn07XG5cbi8qKlxuICogRXhlY3V0ZSB3aGVuIGEgcGF0aCBpcyBub3QgZm91bmQuXG4gKiBAcGFyYW0gIFJvdXRlIHJvdXRlXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLmhhbmRsZU5vdEZvdW5kID0gZnVuY3Rpb24ocm91dGUpIHtcbiAgICBjb25zb2xlLmxvZyhcInJvdXRlOiBcIiArIEpTT04uc3RyaW5naWZ5KHJvdXRlKSArIFwiIGRvZXMgbm90IGV4aXN0XCIpO1xufTtcblxuLyoqXG4gKiBSdW4gdGhlIHJvdXRlciBhbmQgY2hlY2sgdGhlIGdpdmVuIHBhdGhcbiAqIEByZXR1cm4gdm9pZFxuICovXG5zbWFzaC5yb3V0ZXIucnVuID0gZnVuY3Rpb24oKSB7XG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBzbWFzaC5yb3V0ZXIuZXhlY3V0ZSgpO1xuICAgIH07XG4gICAgc21hc2gucm91dGVyLmV4ZWN1dGUoKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlIHRoZSByb3V0ZXIgYW5kIGNoZWNrIGdpdmVuIHBhdGhcbiAqIEByZXR1cm4gdm9pZFxuICovXG5zbWFzaC5yb3V0ZXIuZXhlY3V0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgaWYgKHRoaXMuX19yb3V0ZXMuc3RhdGljW3BhdGgucGF0aF0pIHtcbiAgICAgICAgdGhpcy5fX3JvdXRlcy5zdGF0aWNbcGF0aC5wYXRoXSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IHBhdGgucGF0aC5zcGxpdChcIi9cIikubGVuZ3RoLTE7XG4gICAgaWYgKHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF0pIHtcbiAgICAgICAgdmFyIHJvdXRlO1xuICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgdmFyTnVtIGluIHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gdGhpcy5fX3JvdXRlcy5keW5hbWljW2RlcHRoXVt2YXJOdW1dKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdXRlID0gdGhpcy5fX3JvdXRlcy5keW5hbWljW2RlcHRoXVt2YXJOdW1dW2l0ZW1dO1xuICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBwYXRoLnBhdGgubWF0Y2gocm91dGUucmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHJvdXRlLm51bVZhcnM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdXRlLnZhcnNbaV1dID0gbWF0Y2hlc1tpKzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZS5jYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc21hc2gucm91dGVyLmhhbmRsZU5vdEZvdW5kKHBhdGgpO1xufTtcblxuLyoqXG4gKiBHZXQgcGF0aCB3aXRob3V0IGJhc2UgZGlyZWN0b3J5IGlmIGF2YWlsYWJsZVxuICogQHJldHVybiBQYXRoXG4gKi9cbnNtYXNoLnJvdXRlci5nZXRQYXRoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsLmhyZWYgPSB3aW5kb3cubG9jYXRpb247XG4gICAgcmV0dXJuIHtob3N0OiBsLmhvc3RuYW1lLCBwYXRoOiBzbWFzaC5yb3V0ZXIuY2hlY2tQYXRoKGwucGF0aG5hbWUpfTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIHJvdXRlIGdpdmVuIGJ5IGFkZFxuICogQHBhcmFtICBzdHJpbmcgcGF0aFxuICogQHJldHVybiBSb3V0ZVxuICovXG5zbWFzaC5yb3V0ZXIucGFyc2VSb3V0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gc21hc2gucm91dGVyLmNsZWFuUGF0aChwYXRoKTtcbiAgICB2YXIgcm91dGUgPSB7XG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIGRlcHRoOiAocGF0aC5zcGxpdChcIi9cIikubGVuZ3RoIC0gMSksXG4gICAgICAgIHZhcnM6IFtdLFxuICAgICAgICBudW1WYXJzOiAwXG4gICAgfTtcbiAgICBzbWFzaC5yb3V0ZXIuX19keW5hbWljUGFydHMgPSBwYXRoLm1hdGNoKHNtYXNoLnJvdXRlci5fX3BhcnNlUm91dGVSZWdleCk7XG4gICAgaWYgKHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0cyAhPSB1bmRlZmluZWQgJiYgc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHJlZ2V4ID0gXCJeXCIgKyBwYXRoLnJlcGxhY2UoL1xcLy9pZywgXCJcXFxcL1wiKSArIFwiJFwiO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb3V0ZS5udW1WYXJzKys7XG4gICAgICAgICAgICByb3V0ZS52YXJzLnB1c2goc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzW2ldLnN1YnN0cmluZygxLCBzbWFzaC5yb3V0ZXIuX19keW5hbWljUGFydHNbaV0ubGVuZ3RoLTEpKTtcbiAgICAgICAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShzbWFzaC5yb3V0ZXIuX19keW5hbWljUGFydHNbaV0sIFwiKC4qPylcIik7XG4gICAgICAgIH1cbiAgICAgICAgcm91dGUucmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4LCAnaScpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGU7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgYmFzZSBkaXJlY3RvcnkgdG8gYmUgdXNlZCBieSBhbGwgcm91dGVzXG4gKiBAcGFyYW0gc3RyaW5nIGRpcmVjdG9yeVxuICovXG5zbWFzaC5yb3V0ZXIuc2V0QmFzZURpcmVjdG9yeSA9IGZ1bmN0aW9uKGRpcmVjdG9yeSkge1xuICAgIGlmICghZGlyZWN0b3J5KSB7XG4gICAgICAgIHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSA9IHNtYXNoLnJvdXRlci5jbGVhblBhdGgoZGlyZWN0b3J5KTtcbn07XG5cbi8qKlxuICogQWRkIHRoZSBiYXNlIGRpcmVjdG9yeSBpZiBpdCBpcyBhdmFpbGFibGVcbiAqIEBwYXJhbSBzdHJpbmcgcGF0aFxuICogQHJldHVybiBzdHJpbmdcbiAqL1xuc21hc2gucm91dGVyLmFkZEJhc2VEaXJlY3RvcnkgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgaWYgKCFzbWFzaC5yb3V0ZXIuX19iYXNlRGlyZWN0b3J5KSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICBpZiAocGF0aC5pbmRleE9mKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkpID09PSAtMSkge1xuICAgICAgICBwYXRoID0gc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSArIHBhdGg7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufTtcblxuLyoqXG4gKiBDbGVhbiB0aGUgZ2l2ZW4gcGF0aCB0byB0aGUgcHJvcGVyIHBhdGggdG8gYmUgdXNlZCBieSB0aGUgcm91dGVyXG4gKiBAcGFyYW0gIHN0cmluZyBwYXRoXG4gKiBAcmV0dXJuIHN0cmluZ1xuICovXG5zbWFzaC5yb3V0ZXIuY2xlYW5QYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5zdWJzdHJpbmcoMCwgMSkgIT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aCA9IFwiL1wiICsgcGF0aDtcbiAgICB9XG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMiAmJiBwYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aC0yKSA9PSBcIi9cIikge1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMCwgcGF0aC5sZW5ndGgtMik7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufTtcblxuLyoqXG4gKiBDaGVjayB0aGUgcGF0aCBpZiB0aGVyZSBpcyBhIGJhc2UgZGlyZWN0b3J5IGF2YWlsYWJsZVxuICogQHBhcmFtICBzdHJpbmcgcGF0aCBUaGUgcGF0aCB0byBjaGVja1xuICogQHJldHVybiBzdHJpbmcgICAgICBUaGUgcGF0aCB3aXRob3V0IGEgYmFzZSBkaXJlY3RvcnkgZm9yIHVzZSBvZiBjaGVja2luZyByb3V0ZXNcbiAqL1xuc21hc2gucm91dGVyLmNoZWNrUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gc21hc2gucm91dGVyLmNsZWFuUGF0aChwYXRoKTtcbiAgICBpZiAoc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSAmJiBwYXRoLmluZGV4T2Yoc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSkgIT09IC0xKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2Uoc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSwgJycpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBxdWVyeSBwYXJhbSBpbiB0aGUgdXJsXG4gKiBAcGFyYW0gIHN0cmluZyBwYXJhbSBUaGUgcGFyYW0geW91IHdhbnQgdG8gaGF2ZVxuICogQHJldHVybiBzdHJpbmcgICAgICAgVGhlIHZhbHVlIG9mIHRoZSBwYXJhbSBvciB1bmRlZmluZWQgaWYgaXQgaXMgbm90IGF2YWlsYWJsZVxuICovXG5zbWFzaC5yb3V0ZXIucXVlcnlQYXJhbSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgdmFyIHJlZ2V4UyA9IFwiW1xcXFw/Jl1cIitwYXJhbStcIj0oW14mI10qKVwiLFxuICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cCggcmVnZXhTICksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMoIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTtcbiAgICBpZiggcmVzdWx0cyA9PSBudWxsICl7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzWzFdOy8vZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59O1xuIiwic21hc2guc2VhcmNoYm94ID0ge1xuICAgIGlfOiBmYWxzZSxcbiAgICBtaW5BdXRvQ29tcGxldGVMZW5ndGg6IDMsXG4gICAgb25mb2N1czogdW5kZWZpbmVkLFxuICAgIG9uYmx1cjogdW5kZWZpbmVkLFxuICAgIG9uY2hhbmdlOiB1bmRlZmluZWQsXG59O1xuXG5zbWFzaC5zZWFyY2hib3guaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzbWFzaC5zZWFyY2hib3guaV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3NiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zZWFyY2hib3ggaW5wdXRcIik7XG4gICAgaWYgKCFzc2IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzc2Iub25mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc21hc2guc2VhcmNoYm94LnJlc3VsdHMoJzxkaXYgY2xhc3M9XCJzbWFzaC1pbnN0cnVjdGlvblwiPlN0YXJ0IHR5cGluZyB0byBmaW5kIHJlc3VsdHM8L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1oZWFkZXJcIiksICdpcy1mb2N1c3NlZCcpO1xuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zZWFyY2hib3ggLnNtYXNoLXNlYXJjaGJveC1yZXN1bHRzXCIpLCAnc2hvdycpO1xuICAgICAgICBpZiAoc21hc2guc2VhcmNoYm94Lm9uZm9jdXMpIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5vbmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNzYi5vbmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtaGVhZGVyXCIpLCAnaXMtZm9jdXNzZWQnKTtcbiAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IC5zbWFzaC1zZWFyY2hib3gtcmVzdWx0c1wiKSwgJ3Nob3cnKTtcbiAgICAgICAgaWYgKHNtYXNoLnNlYXJjaGJveC5vbmJsdXIpIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5vbmJsdXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc3NiLm9ua2V5dXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPCBzbWFzaC5zZWFyY2hib3gubWluQXV0b0NvbXBsZXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNtYXNoLnNlYXJjaGJveC5vbmNoYW5nZSkge1xuICAgICAgICAgICAgc21hc2guc2VhcmNoYm94Lm9uY2hhbmdlKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzbWFzaC5zZWFyY2hib3guaV8gPSB0cnVlO1xufTtcblxuc21hc2guc2VhcmNoYm94LmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGkgPSBzbWFzaC5nZXQoZG9jdW1lbnQsIFwiLnNtYXNoLXNlYXJjaGJveCBpbnB1dFwiKSkge1xuICAgICAgICByZXR1cm4gKGkudmFsdWUubGVuZ3RoID09IDApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuc21hc2guc2VhcmNoYm94LmFwcGVuZFRvID0gZnVuY3Rpb24oY29udGVudCkge1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBub2RlLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgdmFyIHJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNlYXJjaGJveCAuc21hc2gtc2VhcmNoYm94LXJlc3VsdHNcIik7XG4gICAgcmVzdWx0cy5hcHBlbmRDaGlsZChub2RlKTtcbn07XG5cbnNtYXNoLnNlYXJjaGJveC5yZXN1bHRzID0gZnVuY3Rpb24oY29udGVudCkge1xuICAgIHZhciByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zZWFyY2hib3ggLnNtYXNoLXNlYXJjaGJveC1yZXN1bHRzXCIpO1xuICAgIHJlc3VsdHMuaW5uZXJIVE1MID0gY29udGVudDtcbn07XG4iLCJzbWFzaC5zaWRlYmFyID0ge1xuICAgIGlfOiBmYWxzZVxufTtcblxuc21hc2guc2lkZWJhci5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNtYXNoLnNpZGViYXIuaV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2libCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2lkZWJhciAubG9ja1wiKTtcbiAgICBpZiAoIXNpYmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaWJsLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc21hc2guc2lkZWJhci50b2dnbGVMb2NrKCk7XG4gICAgfTtcblxuICAgIHZhciBzaWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXJcIik7XG4gICAgc21hc2guY2xhc3MuYWRkKHNpYiwgJ2lzLXVubG9ja2VkJyk7XG4gICAgc21hc2guc2lkZWJhci5pXyA9IHRydWU7XG4gICAgaWYgKHNtYXNoLmNvbmZpZy5nZXQoJ3NpZGViYXJfbG9jaycpKSB7XG4gICAgICAgIHNtYXNoLnNpZGViYXIudG9nZ2xlTG9jaygpO1xuICAgIH1cbn07XG5cbnNtYXNoLnNpZGViYXIudG9nZ2xlTG9jayA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghc21hc2guc2lkZWJhci5pXykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNtYXNoLmNsYXNzLnRvZ2dsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXIgLmxvY2tcIiksICd1bmxvY2snKTtcbiAgICBzbWFzaC5jbGFzcy50b2dnbGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zaWRlYmFyXCIpLCAnaXMtdW5sb2NrZWQnKTtcbiAgICBzbWFzaC5jb25maWcuc2V0KCdzaWRlYmFyX2xvY2snLCAhc21hc2guY2xhc3MuaGFzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2lkZWJhclwiKSwgJ2lzLXVubG9ja2VkJykpO1xufTtcbiIsInNtYXNoLnN0b3JhZ2UgPSB7fTtcblxuc21hc2guc3RvcmFnZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufTtcblxuc21hc2guc3RvcmFnZS51bnNldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG59O1xuXG5zbWFzaC5zdG9yYWdlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBpID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAoIWkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoaSk7XG59O1xuXG5zbWFzaC5zdG9yYWdlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG59O1xuIiwic21hc2gud29ya3NwYWNlID0ge1xuICAgIGJhc2VUaXRsZTogdW5kZWZpbmVkLFxuICAgIG9ubGFzdHRhYmNsb3NlZDogdW5kZWZpbmVkLFxuICAgIF93c186IHVuZGVmaW5lZCxcbiAgICBfaGRyXzogdW5kZWZpbmVkLFxuICAgIF9zYl86IHVuZGVmaW5lZCxcbiAgICBfdGFic186IFtdXG59O1xuXG5zbWFzaC53b3Jrc3BhY2UuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHNtYXNoLndvcmtzcGFjZS5fd3NfID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC13b3Jrc3BhY2VcIik7XG4gICAgaWYgKCFzbWFzaC53b3Jrc3BhY2UuX3dzXykge1xuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgc21hc2gud29ya3NwYWNlLl9oZHJfID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1oZWFkZXJcIik7XG4gICAgaWYgKHNtYXNoLndvcmtzcGFjZS5faGRyXykge1xuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoc21hc2gud29ya3NwYWNlLl93c18sICdoYXMtaGVhZGVyJyk7XG4gICAgfVxuICAgIHNtYXNoLndvcmtzcGFjZS5fc2JfID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC13b3Jrc3BhY2UgLnNtYXNoLXNpZGViYXJcIik7XG4gICAgaWYgKHNtYXNoLndvcmtzcGFjZS5fc2JfKSB7XG4gICAgICAgIHNtYXNoLmNsYXNzLmFkZChzbWFzaC53b3Jrc3BhY2UuX3dzXywgJ2hhcy1zaWRlYmFyJyk7XG4gICAgfVxufTtcblxuc21hc2gud29ya3NwYWNlLmFkZFRhYiA9IGZ1bmN0aW9uKGlkLCB0aXRsZSwgY29udGVudCwgdXJsKSB7XG4gICAgaWYgKCFzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtdGFiLXBhbmUnKSkge1xuICAgICAgICB2YXIgcGFuZWwgPSBzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtcGFuZWwnKTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RvIGFkZCBhIHRhYiB0aGVyZSBuZWVkcyB0byBiZSBhIHBhbmVsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFuZWwuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJzbWFzaC10YWItcGFuZVwiPjxkaXYgY2xhc3M9XCJzbWFzaC10YWJzXCI+PC9kaXY+PGRpdiBjbGFzcz1cInNtYXNoLXBhbmVzXCI+PC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgdmFyIHRhYnMgPSBzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtdGFiLXBhbmUgLnNtYXNoLXRhYnMnKTtcbiAgICB2YXIgcGFuZXNDb250YWluZXIgPSBzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtdGFiLXBhbmUgLnNtYXNoLXBhbmVzJyk7XG5cbiAgICBkb2N1bWVudC50aXRsZSA9IHNtYXNoLndvcmtzcGFjZS5jcmVhdGVUaXRsZSh0aXRsZSk7XG5cbiAgICBpZiAodGFiID0gc21hc2guZ2V0KHRhYnMsICcuc21hc2gtdGFiW2RhdGEtaWQ9XCInICsgaWQgKyAnXCJdJykpIHtcbiAgICAgICAgdmFyIHBhbmUgPSBzbWFzaC5nZXQocGFuZXNDb250YWluZXIsICcuc21hc2gtcGFuZVtkYXRhLWlkPVwiJyArIGlkICsgJ1wiXScpO1xuICAgICAgICBwYW5lLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgIHRhYi5kYXRhc2V0LnVybCA9IHVybDtcbiAgICAgICAgdGFiLm9uY2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHt0YWI6IHRhYiwgcGFuZTogcGFuZX07XG4gICAgfVxuXG4gICAgc21hc2guaGlkZShwYW5lc0NvbnRhaW5lciwgXCIuc21hc2gtcGFuZVwiKTtcbiAgICBpZiAoYWN0aXZlID0gc21hc2guZ2V0KHRhYnMsICcuc21hc2gtdGFiLmFjdGl2ZScpKSB7XG4gICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShhY3RpdmUsICdhY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgdGFiXG4gICAgdmFyIHRhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFiLmNsYXNzTmFtZSA9ICdzbWFzaC10YWIgYWN0aXZlJztcbiAgICB0YWIuZGF0YXNldC5pZCA9IGlkO1xuICAgIHRhYi5kYXRhc2V0LnVybCA9IHVybDtcbiAgICB0YWIuaW5uZXJIVE1MID0gdGl0bGUgKyAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbG9zZVwiPmNsb3NlPC9pPic7XG4gICAgdGFiLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChhY3RpdmUgPSBzbWFzaC5nZXQodGFicywgJy5zbWFzaC10YWIuYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShhY3RpdmUsICdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQodGhpcywgJ2FjdGl2ZScpO1xuICAgICAgICBzbWFzaC5oaWRlKGRvY3VtZW50LCAnLnNtYXNoLXBhbmUnKTtcbiAgICAgICAgc21hc2guc2hvdyhkb2N1bWVudCwgJy5zbWFzaC1wYW5lW2RhdGEtaWQ9XCInICsgdGhpcy5kYXRhc2V0LmlkICsgJ1wiXScpO1xuICAgICAgICBpZiAodGhpcy5kYXRhc2V0LnVybCAmJiB0aGlzLmRhdGFzZXQudXJsICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHNtYXNoLnJvdXRlci5kaXNwbGF5VVJMKHRoaXMuZGF0YXNldC51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gc21hc2gud29ya3NwYWNlLmNyZWF0ZVRpdGxlKHRoaXMuaW5uZXJIVE1MKTtcbiAgICB9O1xuICAgIHNtYXNoLm9uKHRhYiwgJy5jbG9zZScsICdvbmNsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50Lm9uY2xvc2UgJiYgIXRoaXMucGFyZW50RWxlbWVudC5vbmNsb3NlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKHRoaXMucGFyZW50RWxlbWVudCwgJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50LnByZXZpb3VzU2libGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5wcmV2aW91c1NpYmxpbmcub25jbGljaygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudEVsZW1lbnQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQubmV4dFNpYmxpbmcub25jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYW5lID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXBhbmVbZGF0YS1pZD1cIicgKyB0aGlzLnBhcmVudEVsZW1lbnQuZGF0YXNldC5pZCArICdcIl0nKSkge1xuICAgICAgICAgICAgcGFuZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHBhbmUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQub25jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbmNsb3NlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc21hc2gud29ya3NwYWNlLmFjdGl2ZVRhYigpICYmIHNtYXNoLndvcmtzcGFjZS5vbmxhc3R0YWJjbG9zZWQpIHtcbiAgICAgICAgICAgIHNtYXNoLndvcmtzcGFjZS5vbmxhc3R0YWJjbG9zZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICAgIHRhYnMuYXBwZW5kQ2hpbGQodGFiKTtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5lIHdpdGggdGhlIHByb3ZpZGVkIGNvbnRlbnRcbiAgICB2YXIgcGFuZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGFuZS5jbGFzc05hbWUgPSAnc21hc2gtcGFuZSc7XG4gICAgcGFuZS5kYXRhc2V0LmlkID0gaWQ7XG4gICAgcGFuZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHBhbmVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBhbmUpO1xuICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xufTtcblxuc21hc2gud29ya3NwYWNlLmFjdGl2ZVRhYiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YWIgPSBzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtdGFiLmFjdGl2ZScpXG4gICAgaWYgKCF0YWIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBwYW5lID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXBhbmVbZGF0YS1pZD1cIicgKyB0YWIuZGF0YXNldC5pZCArICdcIl0nKTtcbiAgICBpZiAoIXBhbmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xufTtcblxuc21hc2gud29ya3NwYWNlLmNyZWF0ZVRpdGxlID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgICB2YXIgdCA9IHRpdGxlLnJlcGxhY2UoLzwoW14+XSs/KShbXj5dKj8pPiguKj8pPFxcL1xcMT4vaWcsIFwiXCIpO1xuICAgIGlmICh0ID09ICcnKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGl0bGU7XG4gICAgICAgIGlmICh0cyA9IHNtYXNoLmdldChkaXYsICcudGl0bGUnKSkge1xuICAgICAgICAgICAgdCA9IHRzLmlubmVySFRNTDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCA9PSAnJykge1xuICAgICAgICAgICAgdCA9ICd1bmtub3duJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdCArIChzbWFzaC53b3Jrc3BhY2UuYmFzZVRpdGxlID8gJyB8ICcgKyBzbWFzaC53b3Jrc3BhY2UuYmFzZVRpdGxlIDogXCJcIik7XG59O1xuIl19
