window.addEventListener("load",function(e){smash.init()},!1);var smash={};smash.init=function(){smash.config.init(),smash.sidebar.init(),smash.searchbox.init(),smash.workspace.init(),smash.input.init()},smash.get=function(e,s){try{return e.querySelector(s)}catch(e){console.log(e)}},smash.getAll=function(e,s){try{return e.querySelectorAll(s)}catch(e){console.log(e)}},smash.hide=function(e,s){var t;t=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var a=0;a<t.length;a++)t[a].style.display="none"},smash.nextVisible=function(e){for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.firstVisible=function(e){if(e=e.parentElement.firstChild,"none"!=e.style.display)return e;for(;e=e.nextSibling;)if("none"!=e.style.display)return e},smash.previousVisible=function(e){for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.lastVisible=function(e){if(e=e.parentElement.lastChild,"none"!=e.style.display)return e;for(;e=e.previousSibling;)if("none"!=e.style.display)return e},smash.show=function(e,s){var t;t=s&&"string"==typeof s?smash.getAll(e,s):[e];for(var a=0;a<t.length;a++)t[a].style.display=""},smash.remove=function(e){e.parentNode.removeChild(e)},smash.on=function(e,s,t,a){for(var n=smash.getAll(e,s),r=0;r<n.length;r++)n[r][t]=a},smash.fuzzyCompare=function(e,s){if(void 0==s||void 0==e)return!1;var t=".*?"+e.toLowerCase().replace(/-/g,"\\-").split("").join(".*?")+".*?";return s.toLowerCase().match(t)},smash.findNextTabStop=function(e,s){var t=smash.getAll(e,".smash-input, .smash-button, .smash-select, .smash-textarea, .smash-checkbox"),a=Array.prototype.filter.call(t,function(e){return e.tabIndex>="0"}),n=a.indexOf(s);return a[n+1]||a[0]},smash.ajax={_headers_:[]},smash.ajax.addHeader=function(e,s){smash.ajax._headers_[e]=s},smash.ajax.removeHeader=function(e){delete smash.ajax._headers_[e]},smash.ajax.onerror=function(e){console.log(e)},smash.ajax.onunauthorized=function(e){smash.ajax.onerror(e)},smash.ajax._xhr_=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,s=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],t=0;t<s.length;t++)try{e=new ActiveXObject(s[t]);break}catch(e){}return e},smash.ajax.send=function(e,s,t,a,n,r,o){void 0===o&&(o=!0),void 0===r&&(r=smash.ajax.onerror);var i=smash.ajax._xhr_();i.responseType=n,i.onreadystatechange=function(){if(4==i.readyState)switch(i.status){case 200:case 201:s&&s(i.response);break;case 401:smash.ajax.onunauthorized(i.response);break;default:r(i.response)}},i.open(t,e,o),"json"==n?i.setRequestHeader("Content-type","application/json"):"POST"==t&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var l in smash.ajax._headers_)i.setRequestHeader(l,smash.ajax._headers_[l]);i.send(a)},smash.ajax.get=function(e,s,t,a,n,r){var o=[];for(var i in t)o.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));smash.ajax.send(e+(o.length?"?"+o.join("&"):""),s,"GET",null,a,n,r)},smash.ajax.post=function(e,s,t,a,n,r){var o;if(t)if("json"!=a){var i=[];for(var l in t)i.push(encodeURIComponent(l)+"="+encodeURIComponent(t[l]));o=i.join("&")}else o=JSON.stringify(t);smash.ajax.send(e,s,"POST",o,a,n,r)},smash.class={},smash.class.add=function(e,s){smash.class.has(e,s)||(e.classList?e.classList.add(s):e.className+=" "+s)},smash.class.remove=function(e,s){smash.class.has(e,s)&&(e.classList?e.classList.remove(s):e.className=e.className.replace(s,""))},smash.class.has=function(e,s){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+s+" ")>-1},smash.class.toggle=function(e,s){smash.class.has(e,s)?smash.class.remove(e,s):smash.class.add(e,s)},smash.config={_values_:{_sidebar_lock_:!1}},smash.config.init=function(){var e=smash.storage.get("config");e&&(smash.config._values_=e)},smash.config.get=function(e){var s="_"+e+"_";if(s in smash.config._values_)return smash.config._values_[s];throw new smash.Exception("001",'Invalid config option "'+e+'"')},smash.config.set=function(e,s){var t="_"+e+"_";if(!t in smash.config._values_)throw new smash.Exception("001",'Invalid config option "'+e+'"');smash.config._values_[t]=s,smash.storage.set("config",smash.config._values_)},smash.contextmenu={},smash.contextmenu.new=function(e,s){(t=smash.get(document,"#smash-context-menu"))&&smash.remove(t);var t=document.createElement("div");t.id="smash-context-menu";var a="<ul class='clickable'>";for(i=0;i<s.length;i++)a+="seperator"!=s[i]?'<li class="ctx_item_'+i+'">'+s[i].label+"</li>":'<li class="seperator"></li>';a+="</ul>",t.innerHTML=a,document.body.appendChild(t);var n;for(i=0;i<s.length;i++)"seperator"!=s[i]&&(n=smash.get(t,"li.ctx_item_"+i),n.callback=s[i].callback,n.onmousedown=function(e){this.callback(e),smash.contextmenu.close(e)});var r=e.pageY;return r+t.offsetHeight>window.innerHeight&&(r=window.innerHeight-t.offsetHeight-20),t.style.top=r,t.style.left=e.pageX,e.preventDefault(),document.onclick=smash.contextmenu.close,!1},smash.contextmenu.close=function(e){e.preventDefault(),(ctx=smash.get(document,"#smash-context-menu"))&&smash.remove(ctx),document.onclick=void 0},smash.cookie={},smash.cookie.set=function(e,s,t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var n="expires="+a.toUTCString();document.cookie=e+"="+s+";"+n+";path=/"},smash.cookie.get=function(e){for(var e=e+"=",s=decodeURIComponent(document.cookie),t=s.split(";"),a=0;a<t.length;a++){for(var n=t[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},smash.dialog={},smash.dialog.new=function(e){var s=smash.dialog.checkBackdrop(),t=document.createElement("div");t.className="smash-dialog",t.innerHTML=e,s.appendChild(t)},smash.dialog.checkBackdrop=function(){if(e=smash.get(document,".smash-dialog-backdrop"))return(dialog=smash.get(document,".smash-dialog-backdrop .smash-dialog"))&&e.removeChild(dialog),e;var e=document.createElement("div");return e.className="smash-dialog-backdrop",e.innerHTML='<div class="smash-dialog-background"></div>',smash.get(e,".smash-dialog-background").onclick=smash.dialog.close,smash.get(document,"body").appendChild(e),e},smash.dialog.close=function(){(dialog=smash.get(document,".smash-dialog-backdrop"))&&smash.get(document,"body").removeChild(dialog)},smash.Exception=function(e,s){this.value=e,this.message=s,this.toString=function(){return"SmashException "+this.value+": "+this.message}},smash.input={},smash.input.init=function(){for(var e,s=document.querySelectorAll(".smash-input input, .smash-textarea textarea"),t=0;t<s.length;t++)if(e=s[t],!smash.class.has(e.parentElement,"smash-initialised")){if(e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.setValue=function(s){(e=this.querySelector("input"))?(e.value=s,e.onkeyup()):(e=this.querySelector("textarea"))&&(e.value=s,e.onkeyup())},e.parentElement.getValue=function(){if(e=this.querySelector("input")){var e=this.querySelector("input");return e.value}if(e=this.querySelector("textarea")){var e=this.querySelector("textarea");return e.value}return null},e.parentElement.onfocus=function(s){(e=this.querySelector("input"))?e.focus():(e=this.querySelector("textarea"))&&e.focus()},smash.class.has(e.parentElement,"has-floating-label")){smash.class.remove(e.parentElement,"has-floating-label"),smash.class.add(e.parentElement,"floating-label");var a=document.createElement("label");a.innerHTML=e.placeholder,e.parentElement.appendChild(a),e.onkeyup=function(e){var s=this.parentElement.querySelector("label");s&&(""!=this.value?smash.class.add(s,"show"):smash.class.remove(s,"show"))}}e.parentElement.getAttribute("value")&&e.parentElement.setValue(e.parentElement.getAttribute("value")),smash.class.add(e.parentElement,"smash-initialised")}for(var n,r=document.querySelectorAll(".smash-select select"),t=0;t<r.length;t++)if(n=r[t],!smash.class.has(n.parentElement,"smash-initialised")){if(smash.class.has(n.parentElement,"has-floating-label")){smash.class.remove(n.parentElement,"has-floating-label"),smash.class.add(n.parentElement,"floating-label");var a=document.createElement("label");a.innerHTML=n.getAttribute("placeholder"),n.parentElement.appendChild(a)}n.parentElement.getName=function(){return this.querySelector("select").getAttribute("name")},n.parentElement.setValue=function(e){smash.class.remove(this,"is-focussed");var s=this.querySelector("select"),t=this.querySelector("input"),a=s.value;if(s.value=e,s.selectedIndex>-1){var n=s.options[s.selectedIndex].text;n&&""!=n?t.value=n:(t.value="",t.placeholder=s.getAttribute("placeholder"))}else t.value="",t.placeholder=s.getAttribute("placeholder");t.focus(),t.blur(),a!=e&&((selected=smash.get(this.parentElement,".selected"))&&smash.class.remove(selected,"selected"),""!=e&&(selected=smash.get(this,'li[value="'+e+'"]'))&&smash.class.add(selected,"selected"),s.onchange&&s.onchange(),this.onchange&&this.onchange())},n.parentElement.onfocus=function(e){var s=this.querySelector("input");s.focus(e)},n.parentElement.getValue=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].value},n.parentElement.reset=function(){smash.get(this,"input").value=this.getText(),this.checkLabel(),smash.get(this,"input").blur(),(hover=smash.get(this,"ul li.hover"))&&smash.class.remove(hover,"hover")},n.parentElement.checkLabel=function(){var e=this.querySelector("label");e&&(this.getValue()&&""!=this.getValue()?smash.class.add(e,"show"):smash.class.remove(e,"show"))},n.parentElement.getText=function(){var e=this.querySelector("select");return e.selectedIndex==-1?null:e.options[e.selectedIndex].innerHTML};var e=document.createElement("input");e.type="text",e.placeholder=n.getAttribute("placeholder"),e.setAttribute("readonly","readonly"),n.parentElement.appendChild(e);var o,i=n.querySelectorAll("option"),l=document.createElement("ul");l.onmouseup=function(e){e.stopPropagation()};for(var h=0;h<i.length;h++){var c=i[h];if(o=c.getAttribute("value"),o||""===o){var m=document.createElement("li");m.setAttribute("value",c.value),m.innerHTML=""==c.innerHTML?"&nbsp;":c.innerHTML,l.appendChild(m),m.onmousedown=function(e){this.parentElement.parentElement.setValue(this.getAttribute("value"));var s=smash.findNextTabStop(this.parentElement.parentElement.parentElement,this.parentElement.parentElement);return s.focus(),e.stopPropagation(),e.preventDefault(),window.onmouseup&&window.onmouseup(),!1}}}n.parentElement.appendChild(l),e.onfocus=function(e){smash.class.has(this.parentElement,"is-focussed")||(this.parentElement.checkLabel(),this.parentElement.click())},e.onblur=function(e){window.onmouseup&&window.onmouseup()},n.parentElement.onclick=function(){smash.class.add(this,"is-focussed");var e=smash.get(this,"input"),s=smash.get(this,"select"),t=this;e.value&&""!=e.value?e.setAttribute("placeholder",e.value):e.setAttribute("placeholder",s.getAttribute("placeholder")),e.removeAttribute("readonly"),e.blur(),e.value="",window.onmouseup=function(){if(window.onmouseup=null,e.onkeyup=null,e.setAttribute("readonly","readonly"),t.reset(),items=smash.getAll(t,"ul li")){for(var s=0;s<items.length;s++)items[s].style.display="";smash.show(t,"ul")}return smash.class.remove(t,"is-focussed"),!1},e.onkeydown=function(e){switch(e.keyCode){case 9:return!0;case 13:case 39:(hover=smash.get(t,"ul li.hover"))&&hover.onmousedown(e);break;case 38:if(hover=smash.get(t,"ul li.hover"))smash.class.remove(hover,"hover"),(previous=smash.previousVisible(hover))?(smash.class.add(previous,"hover"),previous.parentElement.scrollTop=previous.offsetTop):(last=smash.lastVisible(hover))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight);else{var s=smash.get(t,"ul li");(last=smash.lastVisible(s))&&(smash.class.add(last,"hover"),last.parentElement.scrollTop=last.parentElement.scrollHeight)}break;case 40:if(hover=smash.get(t,"ul li.hover"))smash.class.remove(hover,"hover"),(next=smash.nextVisible(hover))?(smash.class.add(next,"hover"),next.parentElement.scrollTop=next.offsetTop):(next=smash.firstVisible(hover))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0);else{var s=smash.get(t,"ul li");(next=smash.firstVisible(s))&&(smash.class.add(next,"hover"),next.parentElement.scrollTop=0)}break;case 27:this.value="",this.blur(),this.focus()}e.preventDefault(),e.stopPropagation();var a=this.value.replace(/[^a-zA-Z0-9_ ]/g,"");if(items=smash.getAll(t,"ul li")){smash.show(t,"ul");for(var n,r=!1,o=0;o<items.length;o++)n=items[o],""==a||smash.fuzzyCompare(a,n.innerHTML)?(n.style.display="",r=!0):n.style.display="none";r||smash.hide(t,"ul")}return!1},e.focus()},n.parentElement.getAttribute("value")&&n.parentElement.setValue(n.parentElement.getAttribute("value")),smash.class.add(n.parentElement,"smash-initialised")}smash.input.checkboxInit()},smash.input.checkboxInit=function(){for(var e,s=document.querySelectorAll(".smash-checkbox input"),t=0;t<s.length;t++)if(e=s[t],!smash.class.has(e.parentElement,"smash-initialised")){var a=document.createElement("span");if(a.className="checks",a.innerHTML='<i class="material-icons">check_box_outline_blank</i><i class="material-icons checked">check_box</i>',e.parentElement.appendChild(a),label=e.getAttribute("label")){var n=document.createElement("span");n.className="label",n.innerHTML=label,e.parentElement.appendChild(n)}smash.class.add(e.parentElement,"smash-initialised"),e.checked=smash.class.has(e.parentElement,"checked"),e.parentElement.onclick=function(){smash.class.toggle(this,"checked"),smash.get(this,"input").checked=smash.class.has(this,"checked"),this.onchange&&this.onchange(smash.class.has(this,"checked"))},e.parentElement.getName=function(){return this.querySelector("input").getAttribute("name")},e.parentElement.getValue=function(){return smash.class.has(this,"checked")},e.parentElement.setValue=function(e){smash.class.has(this,"checked")!=e&&this.onclick()}}},smash.router={__parseRouteRegex:/{(.*?)}/gi,__dynamicParts:[],__baseDirectory:null,__routes:{static:[],dynamic:[]}},smash.router.add=function(e,s){var t=smash.router.parseRoute(e);return t.regex?(t.callback=s,smash.router.__routes.dynamic[t.depth]||(smash.router.__routes.dynamic[t.depth]=[]),smash.router.__routes.dynamic[t.depth][t.numVars]||(smash.router.__routes.dynamic[t.depth][t.numVars]=[]),void smash.router.__routes.dynamic[t.depth][t.numVars].push(t)):void(smash.router.__routes.static[e]=s)},smash.router.set=function(e){smash.router.displayURL(e),window.dispatchEvent(new Event("popstate"))},smash.router.displayURL=function(e){e=smash.router.addBaseDirectory(e),window.history.pushState("","",e)},smash.router.redirect=function(e){e.search(/^http[s]?:\/\//)||(e=smash.router.addBaseDirectory(e)),window.location=e},smash.router.handleNotFound=function(e){console.log("route: "+JSON.stringify(e)+" does not exist")},smash.router.run=function(){window.onpopstate=function(e){smash.router.execute()},smash.router.execute()},smash.router.execute=function(){var e=this.getPath();if(this.__routes.static[e.path])return void this.__routes.static[e.path]();var s=e.path.split("/").length-1;if(this.__routes.dynamic[s]){var t,a,n={};for(var r in this.__routes.dynamic[s])for(var o in this.__routes.dynamic[s][r]){var t=this.__routes.dynamic[s][r][o];if(a=e.path.match(t.regex)){for(var i=0;i<t.numVars;i++)n[t.vars[i]]=a[i+1];return void t.callback(n)}}}smash.router.handleNotFound(e)},smash.router.getPath=function(){var e=document.createElement("a");return e.href=window.location,{host:e.hostname,path:smash.router.checkPath(e.pathname)}},smash.router.parseRoute=function(e){e=smash.router.cleanPath(e);var s={path:e,depth:e.split("/").length-1,vars:[],numVars:0};if(smash.router.__dynamicParts=e.match(smash.router.__parseRouteRegex),void 0!=smash.router.__dynamicParts&&null!=smash.router.__dynamicParts){for(var t="^"+e.replace(/\//gi,"\\/")+"$",a=0;a<smash.router.__dynamicParts.length;a++)s.numVars++,s.vars.push(smash.router.__dynamicParts[a].substring(1,smash.router.__dynamicParts[a].length-1)),t=t.replace(smash.router.__dynamicParts[a],"(.*?)");s.regex=new RegExp(t,"i")}return s},smash.router.setBaseDirectory=function(e){return e?void(smash.router.__baseDirectory=smash.router.cleanPath(e)):void(smash.router.__baseDirectory=void 0)},smash.router.addBaseDirectory=function(e){return smash.router.__baseDirectory?(e.indexOf(smash.router.__baseDirectory)===-1&&(e=smash.router.__baseDirectory+e),e):e},smash.router.cleanPath=function(e){return e.length>0&&"/"!=e.substring(0,1)&&(e="/"+e),e.length>2&&"/"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2)),e},smash.router.checkPath=function(e){return e=smash.router.cleanPath(e),smash.router.__baseDirectory&&e.indexOf(smash.router.__baseDirectory)!==-1&&(e=e.replace(smash.router.__baseDirectory,"")),e},smash.router.queryParam=function(e){var s="[\\?&]"+e+"=([^&#]*)",t=new RegExp(s),a=t.exec(window.location.search);if(null!=a)return a[1]},smash.searchbox={i_:!1,minAutoCompleteLength:3,onfocus:void 0,onblur:void 0,onchange:void 0},smash.searchbox.init=function(){if(!smash.searchbox.i_){var e=document.querySelector(".smash-searchbox input");e&&(e.onfocus=function(){0==this.value.length&&smash.searchbox.results('<div class="smash-instruction">Start typing to find results</div>'),smash.class.add(document.querySelector(".smash-header"),"is-focussed"),smash.class.add(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onfocus&&smash.searchbox.onfocus()},e.onblur=function(){smash.class.remove(document.querySelector(".smash-header"),"is-focussed"),smash.class.remove(document.querySelector(".smash-searchbox .smash-searchbox-results"),"show"),smash.searchbox.onblur&&smash.searchbox.onblur()},e.onkeyup=function(e){switch(e.keyCode){case 27:return this.value="",void this.blur()}this.value.length<smash.searchbox.minAutoCompleteLength||smash.searchbox.onchange&&smash.searchbox.onchange(this.value)},smash.searchbox.i_=!0)}},smash.searchbox.empty=function(){return!(i=smash.get(document,".smash-searchbox input"))||0==i.value.length},smash.searchbox.appendTo=function(e){var s=document.createElement("div");s.innerHTML=e;var t=document.querySelector(".smash-searchbox .smash-searchbox-results");t.appendChild(s)},smash.searchbox.results=function(e){var s=document.querySelector(".smash-searchbox .smash-searchbox-results");s.innerHTML=e},smash.sidebar={i_:!1},smash.sidebar.init=function(){if(!smash.sidebar.i_){var e=document.querySelector(".smash-sidebar .lock");if(e){e.onclick=function(){smash.sidebar.toggleLock()};var s=document.querySelector(".smash-sidebar");smash.class.add(s,"is-unlocked"),smash.sidebar.i_=!0,smash.config.get("sidebar_lock")&&smash.sidebar.toggleLock()}}},smash.sidebar.toggleLock=function(){smash.sidebar.i_&&(smash.class.toggle(document.querySelector(".smash-sidebar .lock"),"unlock"),smash.class.toggle(document.querySelector(".smash-sidebar"),"is-unlocked"),smash.config.set("sidebar_lock",!smash.class.has(document.querySelector(".smash-sidebar"),"is-unlocked")))},smash.storage={},smash.storage.set=function(e,s){localStorage.setItem(e,JSON.stringify(s))},smash.storage.unset=function(e){localStorage.removeItem(e)},smash.storage.get=function(e){var s=localStorage.getItem(e);if(s)return JSON.parse(s)},smash.storage.clear=function(){localStorage.clear()},smash.workspace={baseTitle:void 0,_ws_:void 0,_hdr_:void 0,_sb_:void 0,_tabs_:[]},smash.workspace.init=function(){smash.workspace._ws_=document.querySelector(".smash-workspace"),smash.workspace._ws_&&(smash.workspace._hdr_=document.querySelector(".smash-header"),smash.workspace._hdr_&&smash.class.add(smash.workspace._ws_,"has-header"),smash.workspace._sb_=document.querySelector(".smash-workspace .smash-sidebar"),smash.workspace._sb_&&smash.class.add(smash.workspace._ws_,"has-sidebar"))},smash.workspace.addTab=function(e,s,t,a){if(!smash.get(document,".smash-tab-pane")){var n=smash.get(document,".smash-panel");if(!n)return void console.log("To add a tab there needs to be a panel");n.innerHTML='<div class="smash-tab-pane"><div class="smash-tabs"></div><div class="smash-panes"></div></div>'}var r=smash.get(document,".smash-tab-pane .smash-tabs"),o=smash.get(document,".smash-tab-pane .smash-panes");if(document.title=smash.workspace.createTitle(s),l=smash.get(r,'.smash-tab[data-id="'+e+'"]')){var i=smash.get(o,'.smash-pane[data-id="'+e+'"]');return i.innerHTML=t,l.dataset.url=a,l.onclick(),{tab:l,pane:i}}smash.hide(o,".smash-pane"),(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active");var l=document.createElement("div");l.className="smash-tab active",l.dataset.id=e,l.dataset.url=a,l.innerHTML=s+'<i class="material-icons close">close</i>',l.onclick=function(e){(active=smash.get(r,".smash-tab.active"))&&smash.class.remove(active,"active"),smash.class.add(this,"active"),smash.hide(document,".smash-pane"),smash.show(document,'.smash-pane[data-id="'+this.dataset.id+'"]'),this.dataset.url&&"undefined"!=this.dataset.url&&smash.router.displayURL(this.dataset.url),document.title=smash.workspace.createTitle(this.innerHTML)},smash.on(l,".close","onclick",function(e){this.parentElement.onclose&&!this.parentElement.onclose()||(smash.class.has(this.parentElement,"active")&&(this.parentElement.previousSibling?this.parentElement.previousSibling.onclick():this.parentElement.nextSibling&&this.parentElement.nextSibling.onclick()),(i=smash.get(document,'.smash-pane[data-id="'+this.parentElement.dataset.id+'"]'))&&i.parentElement.removeChild(i),this.parentElement.parentElement.removeChild(this.parentElement),this.parentElement.onclosed&&this.parentElement.onclosed(),e.stopPropagation())}),r.appendChild(l);var i=document.createElement("div");return i.className="smash-pane",i.dataset.id=e,i.innerHTML=t,o.appendChild(i),{tab:l,pane:i}},smash.workspace.activeTab=function(){var e=smash.get(document,".smash-tab.active");if(!e)return null;var s=smash.get(document,'.smash-pane[data-id="'+e.dataset.id+'"]');return s?{tab:e,pane:s}:null},smash.workspace.createTitle=function(e){var s=e.replace(/<([^>]+?)([^>]*?)>(.*?)<\/\1>/gi,"");if(""==s){var t=document.createElement("div");t.innerHTML=e,(ts=smash.get(t,".title"))&&(s=ts.innerHTML),""==s&&(s="unknown")}return s+(smash.workspace.baseTitle?" | "+smash.workspace.baseTitle:"")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNtYXNoLmpzIiwiYWpheC5qcyIsImNsYXNzLmpzIiwiY29uZmlnLmpzIiwiY29udGV4dG1lbnUuanMiLCJjb29raWUuanMiLCJkaWFsb2cuanMiLCJleGNlcHRpb24uanMiLCJpbnB1dC5qcyIsInJvdXRlci5qcyIsInNlYXJjaGJveC5qcyIsInNpZGViYXIuanMiLCJzdG9yYWdlLmpzIiwid29ya3NwYWNlLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic21hc2giLCJpbml0IiwiY29uZmlnIiwic2lkZWJhciIsInNlYXJjaGJveCIsIndvcmtzcGFjZSIsImlucHV0IiwiZ2V0IiwicGFyZW50Iiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImdldEFsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoaWRlIiwiZWwiLCJpIiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwibmV4dFZpc2libGUiLCJuZXh0U2libGluZyIsImZpcnN0VmlzaWJsZSIsInBhcmVudEVsZW1lbnQiLCJmaXJzdENoaWxkIiwicHJldmlvdXNWaXNpYmxlIiwicHJldmlvdXNTaWJsaW5nIiwibGFzdFZpc2libGUiLCJsYXN0Q2hpbGQiLCJzaG93IiwicmVtb3ZlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib24iLCJldmVudCIsImNhbGxiYWNrIiwiZWxlbWVudHMiLCJmdXp6eUNvbXBhcmUiLCJzZWFyY2giLCJjb21wYXJlIiwidW5kZWZpbmVkIiwicmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJzcGxpdCIsImpvaW4iLCJtYXRjaCIsImZpbmROZXh0VGFiU3RvcCIsImZvcm0iLCJ1bml2ZXJzZSIsImxpc3QiLCJBcnJheSIsInByb3RvdHlwZSIsImZpbHRlciIsImNhbGwiLCJpdGVtIiwidGFiSW5kZXgiLCJpbmRleCIsImluZGV4T2YiLCJhamF4IiwiX2hlYWRlcnNfIiwiYWRkSGVhZGVyIiwibmFtZSIsInZhbHVlIiwicmVtb3ZlSGVhZGVyIiwib25lcnJvciIsIm1lc3NhZ2UiLCJvbnVuYXV0aG9yaXplZCIsIl94aHJfIiwiWE1MSHR0cFJlcXVlc3QiLCJ4aHIiLCJ2ZXJzaW9ucyIsIkFjdGl2ZVhPYmplY3QiLCJzZW5kIiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInJlc3BvbnNlVHlwZSIsImFzeW5jIiwieCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZSIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwicXVlcnkiLCJrZXkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicG9zdCIsImRhdGFTdHIiLCJKU09OIiwic3RyaW5naWZ5IiwiY2xhc3MiLCJhZGQiLCJjbGFzc05hbWUiLCJoYXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfdmFsdWVzXyIsIl9zaWRlYmFyX2xvY2tfIiwidiIsInN0b3JhZ2UiLCJvcHRpb24iLCJvIiwiRXhjZXB0aW9uIiwic2V0IiwiY29udGV4dG1lbnUiLCJuZXciLCJpdGVtcyIsImN0eCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwibGFiZWwiLCJpbm5lckhUTUwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsInRoaXMiLCJjbG9zZSIsInkiLCJwYWdlWSIsIm9mZnNldEhlaWdodCIsImlubmVySGVpZ2h0IiwidG9wIiwibGVmdCIsInBhZ2VYIiwicHJldmVudERlZmF1bHQiLCJvbmNsaWNrIiwiY29va2llIiwiZXhwaXJ5RGF5cyIsImQiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJleHBpcmVzIiwidG9VVENTdHJpbmciLCJkZWNvZGVkQ29va2llIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2EiLCJjIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiZGlhbG9nIiwiY29udGVudCIsImJhY2tkcm9wIiwiY2hlY2tCYWNrZHJvcCIsInRvU3RyaW5nIiwiaW5wdXRzIiwiZ2V0TmFtZSIsImdldEF0dHJpYnV0ZSIsInNldFZhbHVlIiwib25rZXl1cCIsImdldFZhbHVlIiwib25mb2N1cyIsImZvY3VzIiwicGxhY2Vob2xkZXIiLCJsIiwic2VsZWN0Iiwic2VsZWN0cyIsIm9sZCIsInNlbGVjdGVkSW5kZXgiLCJ0ZXh0Iiwib3B0aW9ucyIsImJsdXIiLCJzZWxlY3RlZCIsIm9uY2hhbmdlIiwicmVzZXQiLCJnZXRUZXh0IiwiY2hlY2tMYWJlbCIsImhvdmVyIiwidHlwZSIsInNldEF0dHJpYnV0ZSIsInZhbCIsInVsIiwib25tb3VzZXVwIiwic3RvcFByb3BhZ2F0aW9uIiwiaiIsImxpIiwibmV4dCIsImNsaWNrIiwib25ibHVyIiwic21hc2hfc2VsZWN0IiwicmVtb3ZlQXR0cmlidXRlIiwib25rZXlkb3duIiwia2V5Q29kZSIsInByZXZpb3VzIiwic2Nyb2xsVG9wIiwib2Zmc2V0VG9wIiwibGFzdCIsInNjcm9sbEhlaWdodCIsInEiLCJyZXN1bHRzIiwiY2hlY2tib3hJbml0IiwiY2hlY2tib3giLCJjaGVja2JveGVzIiwiY2hlY2tlZCIsInJvdXRlciIsIl9fcGFyc2VSb3V0ZVJlZ2V4IiwiX19keW5hbWljUGFydHMiLCJfX2Jhc2VEaXJlY3RvcnkiLCJfX3JvdXRlcyIsInN0YXRpYyIsImR5bmFtaWMiLCJwYXRoIiwicm91dGUiLCJwYXJzZVJvdXRlIiwiZGVwdGgiLCJudW1WYXJzIiwiZGlzcGxheVVSTCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImFkZEJhc2VEaXJlY3RvcnkiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwicmVkaXJlY3QiLCJsb2NhdGlvbiIsImhhbmRsZU5vdEZvdW5kIiwicnVuIiwib25wb3BzdGF0ZSIsImV4ZWN1dGUiLCJnZXRQYXRoIiwibWF0Y2hlcyIsInZhck51bSIsInZhcnMiLCJocmVmIiwiaG9zdCIsImhvc3RuYW1lIiwiY2hlY2tQYXRoIiwicGF0aG5hbWUiLCJjbGVhblBhdGgiLCJSZWdFeHAiLCJzZXRCYXNlRGlyZWN0b3J5IiwiZGlyZWN0b3J5IiwicXVlcnlQYXJhbSIsInBhcmFtIiwicmVnZXhTIiwiZXhlYyIsImlfIiwibWluQXV0b0NvbXBsZXRlTGVuZ3RoIiwic3NiIiwiZW1wdHkiLCJhcHBlbmRUbyIsIm5vZGUiLCJzaWJsIiwidG9nZ2xlTG9jayIsInNpYiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ1bnNldCIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwicGFyc2UiLCJjbGVhciIsImJhc2VUaXRsZSIsIl93c18iLCJfaGRyXyIsIl9zYl8iLCJfdGFic18iLCJhZGRUYWIiLCJ0aXRsZSIsInBhbmVsIiwidGFicyIsInBhbmVzQ29udGFpbmVyIiwiY3JlYXRlVGl0bGUiLCJ0YWIiLCJwYW5lIiwiZGF0YXNldCIsImFjdGl2ZSIsIm9uY2xvc2UiLCJvbmNsb3NlZCIsImFjdGl2ZVRhYiIsInQiLCJkaXYiLCJ0cyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQUFDLGlCQUFBLE9BQUEsU0FBQUMsR0FDQUMsTUFBQUMsU0FDQSxFQUVBLElBQUFELFNBRUFBLE9BQUFDLEtBQUEsV0FDQUQsTUFBQUUsT0FBQUQsT0FDQUQsTUFBQUcsUUFBQUYsT0FDQUQsTUFBQUksVUFBQUgsT0FDQUQsTUFBQUssVUFBQUosT0FDQUQsTUFBQU0sTUFBQUwsUUFHQUQsTUFBQU8sSUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQ0EsTUFBQUQsR0FBQUUsY0FBQUQsR0FDQSxNQUFBVixHQUNBWSxRQUFBQyxJQUFBYixLQUtBQyxNQUFBYSxPQUFBLFNBQUFMLEVBQUFDLEdBQ0EsSUFDQSxNQUFBRCxHQUFBTSxpQkFBQUwsR0FDQSxNQUFBVixHQUNBWSxRQUFBQyxJQUFBYixLQUtBQyxNQUFBZSxLQUFBLFNBQUFQLEVBQUFDLEdBQ0EsR0FBQU8sRUFFQUEsR0FEQVAsR0FBQSxnQkFBQUEsR0FDQVQsTUFBQWEsT0FBQUwsRUFBQUMsSUFFQUQsRUFFQSxLQUFBLEdBQUFTLEdBQUEsRUFBQUEsRUFBQUQsRUFBQUUsT0FBQUQsSUFDQUQsRUFBQUMsR0FBQUUs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U0FBQSx3QkFBQTJKLEVBQUFFLFFBQUEzSixHQUFBLEtBQ0EsT0FBQTBKLElBR0FELElBQUFBLEVBQUFDLEtBQUFBLEdBRkEsTUFLQTdRLE1BQUFLLFVBQUFzUSxZQUFBLFNBQUFKLEdBQ0EsR0FBQVksR0FBQVosRUFBQTNOLFFBQUEsa0NBQUEsR0FDQSxJQUFBLElBQUF1TyxFQUFBLENBQ0EsR0FBQUMsR0FBQW5LLFNBQUFDLGNBQUEsTUFDQWtLLEdBQUEvSixVQUFBa0osR0FDQWMsR0FBQXJSLE1BQUFPLElBQUE2USxFQUFBLGFBQ0FELEVBQUFFLEdBQUFoSyxXQUVBLElBQUE4SixJQUNBQSxFQUFBLFdBR0EsTUFBQUEsSUFBQW5SLE1BQUFLLFVBQUE0UCxVQUFBLE1BQUFqUSxNQUFBSyxVQUFBNFAsVUFBQSIsImZpbGUiOiJzbWFzaC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbihlKXtcbiAgICBzbWFzaC5pbml0KCk7XG59LCBmYWxzZSk7XG5cbnZhciBzbWFzaCA9IHt9O1xuXG5zbWFzaC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgc21hc2guY29uZmlnLmluaXQoKTtcbiAgICBzbWFzaC5zaWRlYmFyLmluaXQoKTtcbiAgICBzbWFzaC5zZWFyY2hib3guaW5pdCgpO1xuICAgIHNtYXNoLndvcmtzcGFjZS5pbml0KCk7XG4gICAgc21hc2guaW5wdXQuaW5pdCgpO1xufTtcblxuc21hc2guZ2V0ID0gZnVuY3Rpb24ocGFyZW50LCBzZWxlY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2guZ2V0QWxsID0gZnVuY3Rpb24ocGFyZW50LCBzZWxlY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2guaGlkZSA9IGZ1bmN0aW9uKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgZWw7XG4gICAgaWYgKHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWwgPSBzbWFzaC5nZXRBbGwocGFyZW50LCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwgPSBbcGFyZW50XTtcbiAgICB9XG4gICAgZm9yICh2YXIgaT0wOyBpPGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxufTtcblxuc21hc2gubmV4dFZpc2libGUgPSBmdW5jdGlvbihlbCkge1xuICAgIHdoaWxlIChlbCA9IGVsLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2guZmlyc3RWaXNpYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICB3aGlsZSAoZWwgPSBlbC5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbnNtYXNoLnByZXZpb3VzVmlzaWJsZSA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgd2hpbGUgKGVsID0gZWwucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2gubGFzdFZpc2libGUgPSBmdW5jdGlvbihlbCkge1xuICAgIGVsID0gZWwucGFyZW50RWxlbWVudC5sYXN0Q2hpbGQ7XG4gICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgd2hpbGUgKGVsID0gZWwucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuc21hc2guc2hvdyA9IGZ1bmN0aW9uKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgZWw7XG4gICAgaWYgKHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWwgPSBzbWFzaC5nZXRBbGwocGFyZW50LCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwgPSBbcGFyZW50XTtcbiAgICB9XG4gICAgZm9yICh2YXIgaT0wOyBpPGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsW2ldLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG59O1xuXG5zbWFzaC5yZW1vdmUgPSBmdW5jdGlvbihlbCkge1xuICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xufTtcblxuc21hc2gub24gPSBmdW5jdGlvbihwYXJlbnQsIHNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZWxlbWVudHMgPSBzbWFzaC5nZXRBbGwocGFyZW50LCBzZWxlY3Rvcik7XG4gICAgZm9yICh2YXIgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnRzW2ldW2V2ZW50XSA9IGNhbGxiYWNrO1xuICAgIH1cbn07XG5cbnNtYXNoLmZ1enp5Q29tcGFyZSA9IGZ1bmN0aW9uKHNlYXJjaCwgY29tcGFyZSkge1xuICAgIGlmIChjb21wYXJlID09IHVuZGVmaW5lZCB8fCBzZWFyY2ggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHJlZ2V4ID0gXCIuKj9cIiArIHNlYXJjaC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0vZywgXCJcXFxcLVwiKS5zcGxpdChcIlwiKS5qb2luKFwiLio/XCIpICsgXCIuKj9cIjtcbiAgICByZXR1cm4gY29tcGFyZS50b0xvd2VyQ2FzZSgpLm1hdGNoKHJlZ2V4KTtcbn07XG5cbnNtYXNoLmZpbmROZXh0VGFiU3RvcCA9IGZ1bmN0aW9uKGZvcm0sIGVsKSB7XG4gICAgdmFyIHVuaXZlcnNlID0gc21hc2guZ2V0QWxsKGZvcm0sICcuc21hc2gtaW5wdXQsIC5zbWFzaC1idXR0b24sIC5zbWFzaC1zZWxlY3QsIC5zbWFzaC10ZXh0YXJlYSwgLnNtYXNoLWNoZWNrYm94Jyk7XG4gICAgdmFyIGxpc3QgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodW5pdmVyc2UsIGZ1bmN0aW9uKGl0ZW0pIHtyZXR1cm4gaXRlbS50YWJJbmRleCA+PSBcIjBcIn0pO1xuICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgcmV0dXJuIGxpc3RbaW5kZXggKyAxXSB8fCBsaXN0WzBdO1xufTtcbiIsInNtYXNoLmFqYXggPSB7XG4gICAgX2hlYWRlcnNfOiBbXVxufTtcblxuc21hc2guYWpheC5hZGRIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHNtYXNoLmFqYXguX2hlYWRlcnNfW25hbWVdID0gdmFsdWU7XG59O1xuXG5zbWFzaC5hamF4LnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgc21hc2guYWpheC5faGVhZGVyc19bbmFtZV07XG59O1xuXG5zbWFzaC5hamF4Lm9uZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG59O1xuXG5zbWFzaC5hamF4Lm9udW5hdXRob3JpemVkID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgIHNtYXNoLmFqYXgub25lcnJvcihtZXNzYWdlKTtcbn07XG5cbnNtYXNoLmFqYXguX3hocl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvbnMgPSBbXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNi4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNS4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuNC4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuMy4wXCIsXG4gICAgICAgIFwiTVNYTUwyLlhtbEh0dHAuMi4wXCIsXG4gICAgICAgIFwiTWljcm9zb2Z0LlhtbEh0dHBcIlxuICAgIF07XG4gICAgdmFyIHhocjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIgPSBuZXcgQWN0aXZlWE9iamVjdCh2ZXJzaW9uc1tpXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4aHI7XG59O1xuXG5zbWFzaC5hamF4LnNlbmQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaywgbWV0aG9kLCBkYXRhLCByZXNwb25zZVR5cGUsIG9uZXJyb3IsIGFzeW5jKSB7XG4gICAgaWYgKGFzeW5jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXN5bmMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob25lcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uZXJyb3IgPSBzbWFzaC5hamF4Lm9uZXJyb3I7XG4gICAgfVxuICAgIHZhciB4ID0gc21hc2guYWpheC5feGhyXygpO1xuICAgIHgucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xuICAgIHgub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh4LnJlYWR5U3RhdGUgPT0gNCkge1xuICAgICAgICAgICAgc3dpdGNoICh4LnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAyMDA6XG4gICAgICAgICAgICBjYXNlIDIwMTpcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soeC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICAgICAgc21hc2guYWpheC5vbnVuYXV0aG9yaXplZCh4LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgb25lcnJvcih4LnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cblx0XHR9XG4gICAgfTtcbiAgICB4Lm9wZW4obWV0aG9kLCB1cmwsIGFzeW5jKTtcbiAgICBpZiAocmVzcG9uc2VUeXBlID09ICdqc29uJykge1xuICAgICAgICB4LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BPU1QnKSB7XG4gICAgICAgIHguc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHNtYXNoLmFqYXguX2hlYWRlcnNfKSB7XG4gICAgICAgIHguc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBzbWFzaC5hamF4Ll9oZWFkZXJzX1tuYW1lXSk7XG4gICAgfVxuICAgIHguc2VuZChkYXRhKVxufTtcblxuc21hc2guYWpheC5nZXQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaywgZGF0YSwgcmVzcG9uc2VUeXBlLCBvbmVycm9yLCBhc3luYykge1xuICAgIHZhciBxdWVyeSA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgIHF1ZXJ5LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrZXldKSk7XG4gICAgfVxuICAgIHNtYXNoLmFqYXguc2VuZCh1cmwgKyAocXVlcnkubGVuZ3RoID8gJz8nICsgcXVlcnkuam9pbignJicpIDogJycpLCBjYWxsYmFjaywgJ0dFVCcsIG51bGwsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgIGFzeW5jKVxufTtcblxuc21hc2guYWpheC5wb3N0ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2ssIGRhdGEsIHJlc3BvbnNlVHlwZSwgb25lcnJvciwgYXN5bmMpIHtcbiAgICB2YXIgZGF0YVN0cjtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9ICdqc29uJykge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrZXldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhU3RyID0gcXVlcnkuam9pbignJicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhU3RyID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc21hc2guYWpheC5zZW5kKHVybCwgY2FsbGJhY2ssICdQT1NUJywgZGF0YVN0ciwgcmVzcG9uc2VUeXBlLCBvbmVycm9yLCBhc3luYylcbn07XG4iLCJzbWFzaC5jbGFzcyA9IHt9O1xuXG5zbWFzaC5jbGFzcy5hZGQgPSBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKCFzbWFzaC5jbGFzcy5oYXMoZWwsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0ID8gZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpIDogZWwuY2xhc3NOYW1lICs9ICgnICcgKyBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbnNtYXNoLmNsYXNzLnJlbW92ZSA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICBpZiAoc21hc2guY2xhc3MuaGFzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSA6IGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKGNsYXNzTmFtZSwgJycpO1xuICAgIH1cbn07XG5cbnNtYXNoLmNsYXNzLmhhcyA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gKChcIiBcIiArIGVsLmNsYXNzTmFtZSArIFwiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSA+IC0xKTtcbn07XG5cbnNtYXNoLmNsYXNzLnRvZ2dsZSA9IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcbiAgICBzbWFzaC5jbGFzcy5oYXMoZWwsIGNsYXNzTmFtZSkgPyBzbWFzaC5jbGFzcy5yZW1vdmUoZWwsIGNsYXNzTmFtZSkgOiBzbWFzaC5jbGFzcy5hZGQoZWwsIGNsYXNzTmFtZSk7XG59O1xuIiwic21hc2guY29uZmlnID0ge1xuICAgIF92YWx1ZXNfOiB7XG4gICAgICAgIF9zaWRlYmFyX2xvY2tfOiBmYWxzZVxuICAgIH1cbn1cblxuc21hc2guY29uZmlnLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHNtYXNoLnN0b3JhZ2UuZ2V0KCdjb25maWcnKTtcbiAgICBpZiAodikge1xuICAgICAgICBzbWFzaC5jb25maWcuX3ZhbHVlc18gPSB2O1xuICAgIH1cbn07XG5cbnNtYXNoLmNvbmZpZy5nZXQgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICB2YXIgbyA9ICdfJyArIG9wdGlvbiArICdfJztcbiAgICBpZiAobyBpbiBzbWFzaC5jb25maWcuX3ZhbHVlc18pIHtcbiAgICAgICAgcmV0dXJuIHNtYXNoLmNvbmZpZy5fdmFsdWVzX1tvXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IHNtYXNoLkV4Y2VwdGlvbignMDAxJywgJ0ludmFsaWQgY29uZmlnIG9wdGlvbiBcIicgKyBvcHRpb24gKyAnXCInKTtcbn07XG5cbnNtYXNoLmNvbmZpZy5zZXQgPSBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7XG4gICAgdmFyIG8gPSAnXycgKyBvcHRpb24gKyAnXyc7XG4gICAgaWYgKCFvIGluIHNtYXNoLmNvbmZpZy5fdmFsdWVzXykge1xuICAgICAgICB0aHJvdyBuZXcgc21hc2guRXhjZXB0aW9uKCcwMDEnLCAnSW52YWxpZCBjb25maWcgb3B0aW9uIFwiJyArIG9wdGlvbiArICdcIicpO1xuICAgIH1cbiAgICBzbWFzaC5jb25maWcuX3ZhbHVlc19bb10gPSB2YWx1ZTtcbiAgICBzbWFzaC5zdG9yYWdlLnNldCgnY29uZmlnJywgc21hc2guY29uZmlnLl92YWx1ZXNfKTtcbn07XG4iLCJzbWFzaC5jb250ZXh0bWVudSA9IHt9O1xuXG5zbWFzaC5jb250ZXh0bWVudS5uZXcgPSBmdW5jdGlvbihlLCBpdGVtcykge1xuICAgIGlmIChjdHggPSBzbWFzaC5nZXQoZG9jdW1lbnQsIFwiI3NtYXNoLWNvbnRleHQtbWVudVwiKSkge1xuICAgICAgICBzbWFzaC5yZW1vdmUoY3R4KTtcbiAgICB9XG4gICAgdmFyIGN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY3R4LmlkID0gIFwic21hc2gtY29udGV4dC1tZW51XCI7XG4gICAgdmFyIGxpc3QgPSBcIjx1bCBjbGFzcz0nY2xpY2thYmxlJz5cIjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zW2ldID09IFwic2VwZXJhdG9yXCIpIHtcbiAgICAgICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cInNlcGVyYXRvclwiPjwvbGk+JztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cImN0eF9pdGVtXycgKyBpICsgJ1wiPicgKyBpdGVtc1tpXS5sYWJlbCArIFwiPC9saT5cIjtcbiAgICB9XG4gICAgbGlzdCArPSAnPC91bD4nO1xuICAgIGN0eC5pbm5lckhUTUwgPSBsaXN0O1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3R4KTtcbiAgICB2YXIgaXRlbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zW2ldID09IFwic2VwZXJhdG9yXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0gPSBzbWFzaC5nZXQoY3R4LCBcImxpLmN0eF9pdGVtX1wiICsgaSk7XG4gICAgICAgIGl0ZW0uY2FsbGJhY2sgPSBpdGVtc1tpXS5jYWxsYmFjaztcbiAgICAgICAgaXRlbS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZSk7XG4gICAgICAgICAgICBzbWFzaC5jb250ZXh0bWVudS5jbG9zZShlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHkgPSBlLnBhZ2VZXG4gICAgaWYgKHkgKyBjdHgub2Zmc2V0SGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBjdHgub2Zmc2V0SGVpZ2h0IC0gMjA7XG4gICAgfVxuICAgIGN0eC5zdHlsZS50b3AgPSB5O1xuICAgIGN0eC5zdHlsZS5sZWZ0ID0gZS5wYWdlWDtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQub25jbGljayA9IHNtYXNoLmNvbnRleHRtZW51LmNsb3NlO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbnNtYXNoLmNvbnRleHRtZW51LmNsb3NlID0gZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoY3R4ID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIiNzbWFzaC1jb250ZXh0LW1lbnVcIikpIHtcbiAgICAgICAgc21hc2gucmVtb3ZlKGN0eCk7XG4gICAgfVxuICAgIGRvY3VtZW50Lm9uY2xpY2sgPSB1bmRlZmluZWQ7XG59O1xuIiwic21hc2guY29va2llID0ge307XG5cbnNtYXNoLmNvb2tpZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXhwaXJ5RGF5cykge1xuICAgIHZhciBkID0gbmV3IERhdGUoKTtcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhwaXJ5RGF5cyoyNCo2MCo2MCoxMDAwKSk7XG4gICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIrIGQudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xufTtcblxuc21hc2guY29va2llLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbmFtZSA9IG5hbWUgKyBcIj1cIjtcbiAgICB2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xuICAgIHZhciBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XG4gICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn07XG4iLCJzbWFzaC5kaWFsb2cgPSB7fTtcblxuc21hc2guZGlhbG9nLm5ldyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgYmFja2Ryb3AgPSBzbWFzaC5kaWFsb2cuY2hlY2tCYWNrZHJvcCgpO1xuXG4gICAgdmFyIGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpYWxvZy5jbGFzc05hbWUgPSAnc21hc2gtZGlhbG9nJztcbiAgICBkaWFsb2cuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICBiYWNrZHJvcC5hcHBlbmRDaGlsZChkaWFsb2cpO1xufTtcblxuc21hc2guZGlhbG9nLmNoZWNrQmFja2Ryb3AgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYmFja2Ryb3AgPSBzbWFzaC5nZXQoZG9jdW1lbnQsIFwiLnNtYXNoLWRpYWxvZy1iYWNrZHJvcFwiKSkge1xuICAgICAgICBpZiAoZGlhbG9nID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1kaWFsb2ctYmFja2Ryb3AgLnNtYXNoLWRpYWxvZ1wiKSkge1xuICAgICAgICAgICAgYmFja2Ryb3AucmVtb3ZlQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG4gICAgfVxuICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9ICdzbWFzaC1kaWFsb2ctYmFja2Ryb3AnO1xuICAgIGJhY2tkcm9wLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwic21hc2gtZGlhbG9nLWJhY2tncm91bmRcIj48L2Rpdj4nO1xuICAgIHNtYXNoLmdldChiYWNrZHJvcCwgJy5zbWFzaC1kaWFsb2ctYmFja2dyb3VuZCcpLm9uY2xpY2sgPSBzbWFzaC5kaWFsb2cuY2xvc2U7XG4gICAgc21hc2guZ2V0KGRvY3VtZW50LCAnYm9keScpLmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcbiAgICByZXR1cm4gYmFja2Ryb3A7XG59O1xuXG5zbWFzaC5kaWFsb2cuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZGlhbG9nID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1kaWFsb2ctYmFja2Ryb3BcIikpIHtcbiAgICAgICAgc21hc2guZ2V0KGRvY3VtZW50LCAnYm9keScpLnJlbW92ZUNoaWxkKGRpYWxvZyk7XG4gICAgfVxufTtcbiIsInNtYXNoLkV4Y2VwdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdTbWFzaEV4Y2VwdGlvbiAnICsgdGhpcy52YWx1ZSArICc6ICcgKyB0aGlzLm1lc3NhZ2U7XG4gICAgfTtcbn07XG4iLCJzbWFzaC5pbnB1dCA9IHt9O1xuXG5zbWFzaC5pbnB1dC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc21hc2gtaW5wdXQgaW5wdXQsIC5zbWFzaC10ZXh0YXJlYSB0ZXh0YXJlYVwiKTtcbiAgICB2YXIgaW5wdXQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dHNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoaW5wdXQucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKSkge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaW5wdXQub25rZXl1cCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpbnB1dC5vbmtleXVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsdWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJ0ZXh0YXJlYVwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKSkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKGlucHV0LnBhcmVudEVsZW1lbnQsICdoYXMtZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChpbnB1dC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcblxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGlucHV0LnBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBpbnB1dC5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBsID0gdGhpcy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQobCwgJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShsLCAnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkge1xuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5zZXRWYWx1ZShpbnB1dC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoaW5wdXQucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbWFzaC1zZWxlY3Qgc2VsZWN0XCIpO1xuICAgIHZhciBzZWxlY3Q7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGVjdCA9IHNlbGVjdHNbaV07XG4gICAgICAgIGlmIChzbWFzaC5jbGFzcy5oYXMoc2VsZWN0LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnaGFzLWZsb2F0aW5nLWxhYmVsJykpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShzZWxlY3QucGFyZW50RWxlbWVudCwgJ2hhcy1mbG9hdGluZy1sYWJlbCcpO1xuICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdC5wYXJlbnRFbGVtZW50LCAnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBzZWxlY3QuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0TmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUodGhpcywgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgICAgICB2YXIgb2xkID0gc2VsZWN0LnZhbHVlO1xuICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLnRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgJiYgdGV4dCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VsZWN0LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHNlbGVjdC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgaWYgKG9sZCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCA9IHNtYXNoLmdldCh0aGlzLnBhcmVudEVsZW1lbnQsICcuc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkID0gc21hc2guZ2V0KHRoaXMsICdsaVt2YWx1ZT1cIicgKyB2YWx1ZSArICdcIl0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0Lm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdC5vbmNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50Lm9uZm9jdXMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIGlucHV0LmZvY3VzKGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50LmdldFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdC5zZWxlY3RlZEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzbWFzaC5nZXQodGhpcywgJ2lucHV0JykudmFsdWUgPSB0aGlzLmdldFRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMYWJlbCgpO1xuICAgICAgICAgICAgc21hc2guZ2V0KHRoaXMsICdpbnB1dCcpLmJsdXIoKTtcbiAgICAgICAgICAgIGlmIChob3ZlciA9IHNtYXNoLmdldCh0aGlzLCAndWwgbGkuaG92ZXInKSkge1xuICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShob3ZlciwgJ2hvdmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuY2hlY2tMYWJlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VmFsdWUoKSAmJiB0aGlzLmdldFZhbHVlKCkgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQobCwgJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUobCwgJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0VGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IHRoaXMucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3Quc2VsZWN0ZWRJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS5pbm5lckhUTUw7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHNlbGVjdC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XG4gICAgICAgIHNlbGVjdC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpO1xuICAgICAgICB2YXIgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICB2YXIgdmFsO1xuICAgICAgICB1bC5vbm1vdXNldXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9wdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zW2pdO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9uLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgICAgIGlmICghdmFsICYmIHZhbCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gb3B0aW9uLmlubmVySFRNTCA9PSBcIlwiID8gJyZuYnNwOycgOiBvcHRpb24uaW5uZXJIVE1MO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICAgICAgbGkub25tb3VzZWRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc2V0VmFsdWUodGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gc21hc2guZmluZE5leHRUYWJTdG9wKHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQsIHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBuZXh0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5vbm1vdXNldXApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodWwpO1xuICAgICAgICBpbnB1dC5vbmZvY3VzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLnBhcmVudEVsZW1lbnQsICdpcy1mb2N1c3NlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNoZWNrTGFiZWwoKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlucHV0Lm9uYmx1ciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cub25tb3VzZXVwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0LnBhcmVudEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKHRoaXMsICdpcy1mb2N1c3NlZCcpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gc21hc2guZ2V0KHRoaXMsICdpbnB1dCcpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IHNtYXNoLmdldCh0aGlzLCAnc2VsZWN0Jyk7XG4gICAgICAgICAgICB2YXIgc21hc2hfc2VsZWN0ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZSAmJiBpbnB1dC52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBzZWxlY3QuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICBpbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ubW91c2V1cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW5wdXQub25rZXl1cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICBzbWFzaF9zZWxlY3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMgPSBzbWFzaC5nZXRBbGwoc21hc2hfc2VsZWN0LCAndWwgbGknKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8aXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNtYXNoLnNob3coc21hc2hfc2VsZWN0LCAndWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc21hc2guY2xhc3MucmVtb3ZlKHNtYXNoX3NlbGVjdCwgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlucHV0Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoaG92ZXIgPSBzbWFzaC5nZXQoc21hc2hfc2VsZWN0LCAndWwgbGkuaG92ZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXIub25tb3VzZWRvd24oZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpLmhvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShob3ZlciwgXCJob3ZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cyA9IHNtYXNoLnByZXZpb3VzVmlzaWJsZShob3ZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFzaC5jbGFzcy5hZGQocHJldmlvdXMsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSBwcmV2aW91cy5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID0gc21hc2gubGFzdFZpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLmFkZChsYXN0LCBcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0LnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wID0gbGFzdC5wYXJlbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGkgPSBzbWFzaC5nZXQoc21hc2hfc2VsZWN0LCAndWwgbGknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID0gc21hc2gubGFzdFZpc2libGUobGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKGxhc3QsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IGxhc3QucGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVyID0gc21hc2guZ2V0KHNtYXNoX3NlbGVjdCwgJ3VsIGxpLmhvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShob3ZlciwgXCJob3ZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID0gc21hc2gubmV4dFZpc2libGUoaG92ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IG5leHQub2Zmc2V0VG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9IHNtYXNoLmZpcnN0VmlzaWJsZShob3ZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaSA9IHNtYXNoLmdldChzbWFzaF9zZWxlY3QsICd1bCBsaScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPSBzbWFzaC5maXJzdFZpc2libGUobGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hc2guY2xhc3MuYWRkKG5leHQsIFwiaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgcSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW15hLXpBLVowLTlfIF0vZywgXCJcIik7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zID0gc21hc2guZ2V0QWxsKHNtYXNoX3NlbGVjdCwgJ3VsIGxpJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc21hc2guc2hvdyhzbWFzaF9zZWxlY3QsICd1bCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocSA9PSBcIlwiIHx8IHNtYXNoLmZ1enp5Q29tcGFyZShxLCBpdGVtLmlubmVySFRNTCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXNoLmhpZGUoc21hc2hfc2VsZWN0LCAndWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc2VsZWN0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICBzZWxlY3QucGFyZW50RWxlbWVudC5zZXRWYWx1ZShzZWxlY3QucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgICAgICB9XG4gICAgICAgIHNtYXNoLmNsYXNzLmFkZChzZWxlY3QucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHNtYXNoLmlucHV0LmNoZWNrYm94SW5pdCgpO1xufTtcblxuc21hc2guaW5wdXQuY2hlY2tib3hJbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNtYXNoLWNoZWNrYm94IGlucHV0XCIpO1xuICAgIHZhciBjaGVja2JveDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tib3ggPSBjaGVja2JveGVzW2ldO1xuICAgICAgICBpZiAoc21hc2guY2xhc3MuaGFzKGNoZWNrYm94LnBhcmVudEVsZW1lbnQsICdzbWFzaC1pbml0aWFsaXNlZCcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYy5jbGFzc05hbWUgPSAnY2hlY2tzJztcbiAgICAgICAgYy5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9pPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2hlY2tlZFwiPmNoZWNrX2JveDwvaT4nO1xuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGMpO1xuXG4gICAgICAgIGlmIChsYWJlbCA9IGNoZWNrYm94LmdldEF0dHJpYnV0ZSgnbGFiZWwnKSkge1xuICAgICAgICAgICAgdmFyIGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBsLmNsYXNzTmFtZSA9ICdsYWJlbCc7XG4gICAgICAgICAgICBsLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChsKTtcbiAgICAgICAgfVxuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoY2hlY2tib3gucGFyZW50RWxlbWVudCwgJ3NtYXNoLWluaXRpYWxpc2VkJyk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzbWFzaC5jbGFzcy5oYXMoY2hlY2tib3gucGFyZW50RWxlbWVudCwgJ2NoZWNrZWQnKTtcblxuICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNtYXNoLmNsYXNzLnRvZ2dsZSh0aGlzLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgc21hc2guZ2V0KHRoaXMsICdpbnB1dCcpLmNoZWNrZWQgPSBzbWFzaC5jbGFzcy5oYXModGhpcywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNoYW5nZShzbWFzaC5jbGFzcy5oYXModGhpcywgJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLCAnY2hlY2tlZCcpID09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbmNsaWNrKCk7XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsInNtYXNoLnJvdXRlciA9IHtcbiAgICBfX3BhcnNlUm91dGVSZWdleDogL3soLio/KX0vaWcsXG4gICAgX19keW5hbWljUGFydHM6IFtdLFxuICAgIF9fYmFzZURpcmVjdG9yeTogbnVsbCxcbiAgICBfX3JvdXRlczoge1xuICAgICAgICBzdGF0aWM6IFtdLFxuICAgICAgICBkeW5hbWljOiBbXVxuICAgIH1cbn07XG5cbi8qKlxuICogQWRkIGEgcm91dGUgaGFuZGxlciB0byB0aGUgcm91dGVyXG4gKiBAcGFyYW0gc3RyaW5nICAgcGF0aFxuICogQHBhcmFtIEZ1bmN0aW9uIGNhbGxiYWNrXG4gKi9cbnNtYXNoLnJvdXRlci5hZGQgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciByb3V0ZSA9IHNtYXNoLnJvdXRlci5wYXJzZVJvdXRlKHBhdGgpO1xuICAgIGlmIChyb3V0ZS5yZWdleCkge1xuICAgICAgICByb3V0ZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAoIXNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXSkge1xuICAgICAgICAgICAgc21hc2gucm91dGVyLl9fcm91dGVzLmR5bmFtaWNbcm91dGUuZGVwdGhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzbWFzaC5yb3V0ZXIuX19yb3V0ZXMuZHluYW1pY1tyb3V0ZS5kZXB0aF1bcm91dGUubnVtVmFyc10pIHtcbiAgICAgICAgICAgIHNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXVtyb3V0ZS5udW1WYXJzXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHNtYXNoLnJvdXRlci5fX3JvdXRlcy5keW5hbWljW3JvdXRlLmRlcHRoXVtyb3V0ZS5udW1WYXJzXS5wdXNoKHJvdXRlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzbWFzaC5yb3V0ZXIuX19yb3V0ZXMuc3RhdGljW3BhdGhdID0gY2FsbGJhY2s7XG59O1xuXG4vKipcbiAqIFNldCBhbmQgZXhlY3V0ZSB0aGUgZ2l2ZW4gcGF0aFxuICogQHBhcmFtIHN0cmluZyBwYXRoXG4gKi9cbnNtYXNoLnJvdXRlci5zZXQgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgc21hc2gucm91dGVyLmRpc3BsYXlVUkwocGF0aCk7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdwb3BzdGF0ZScpKTtcbn07XG5cbi8qKlxuICogRGlzcGxheSB0aGUgdXJsIGluIHRoZSBicm93c2VyXG4gKiBAcGFyYW0gIHN0cmluZyBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLmRpc3BsYXlVUkwgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5hZGRCYXNlRGlyZWN0b3J5KHBhdGgpO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcIlwiLCBcIlwiLCBwYXRoKTtcbn07XG5cbi8qKlxuICogUmVkaXJlY3QgdG8gdGhlIGNvcnJlY3QgdXJsXG4gKiBAcGFyYW0gIHN0cmluZyBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLnJlZGlyZWN0ID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIGlmICghcGF0aC5zZWFyY2goL15odHRwW3NdPzpcXC9cXC8vKSkge1xuICAgICAgICBwYXRoID0gc21hc2gucm91dGVyLmFkZEJhc2VEaXJlY3RvcnkocGF0aCk7XG4gICAgfVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHBhdGg7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgd2hlbiBhIHBhdGggaXMgbm90IGZvdW5kLlxuICogQHBhcmFtICBSb3V0ZSByb3V0ZVxuICogQHJldHVybiB2b2lkXG4gKi9cbnNtYXNoLnJvdXRlci5oYW5kbGVOb3RGb3VuZCA9IGZ1bmN0aW9uKHJvdXRlKSB7XG4gICAgY29uc29sZS5sb2coXCJyb3V0ZTogXCIgKyBKU09OLnN0cmluZ2lmeShyb3V0ZSkgKyBcIiBkb2VzIG5vdCBleGlzdFwiKTtcbn07XG5cbi8qKlxuICogUnVuIHRoZSByb3V0ZXIgYW5kIGNoZWNrIHRoZSBnaXZlbiBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLnJ1biA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgc21hc2gucm91dGVyLmV4ZWN1dGUoKTtcbiAgICB9O1xuICAgIHNtYXNoLnJvdXRlci5leGVjdXRlKCk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcm91dGVyIGFuZCBjaGVjayBnaXZlbiBwYXRoXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuc21hc2gucm91dGVyLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgIGlmICh0aGlzLl9fcm91dGVzLnN0YXRpY1twYXRoLnBhdGhdKSB7XG4gICAgICAgIHRoaXMuX19yb3V0ZXMuc3RhdGljW3BhdGgucGF0aF0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGVwdGggPSBwYXRoLnBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aC0xO1xuICAgIGlmICh0aGlzLl9fcm91dGVzLmR5bmFtaWNbZGVwdGhdKSB7XG4gICAgICAgIHZhciByb3V0ZTtcbiAgICAgICAgdmFyIG1hdGNoZXM7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIHZhck51bSBpbiB0aGlzLl9fcm91dGVzLmR5bmFtaWNbZGVwdGhdKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF1bdmFyTnVtXSkge1xuICAgICAgICAgICAgICAgIHZhciByb3V0ZSA9IHRoaXMuX19yb3V0ZXMuZHluYW1pY1tkZXB0aF1bdmFyTnVtXVtpdGVtXTtcbiAgICAgICAgICAgICAgICBtYXRjaGVzID0gcGF0aC5wYXRoLm1hdGNoKHJvdXRlLnJlZ2V4KTtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZS5udW1WYXJzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtyb3V0ZS52YXJzW2ldXSA9IG1hdGNoZXNbaSsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm91dGUuY2FsbGJhY2soZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNtYXNoLnJvdXRlci5oYW5kbGVOb3RGb3VuZChwYXRoKTtcbn07XG5cbi8qKlxuICogR2V0IHBhdGggd2l0aG91dCBiYXNlIGRpcmVjdG9yeSBpZiBhdmFpbGFibGVcbiAqIEByZXR1cm4gUGF0aFxuICovXG5zbWFzaC5yb3V0ZXIuZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbC5ocmVmID0gd2luZG93LmxvY2F0aW9uO1xuICAgIHJldHVybiB7aG9zdDogbC5ob3N0bmFtZSwgcGF0aDogc21hc2gucm91dGVyLmNoZWNrUGF0aChsLnBhdGhuYW1lKX07XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiByb3V0ZSBnaXZlbiBieSBhZGRcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gUm91dGVcbiAqL1xuc21hc2gucm91dGVyLnBhcnNlUm91dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5jbGVhblBhdGgocGF0aCk7XG4gICAgdmFyIHJvdXRlID0ge1xuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBkZXB0aDogKHBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aCAtIDEpLFxuICAgICAgICB2YXJzOiBbXSxcbiAgICAgICAgbnVtVmFyczogMFxuICAgIH07XG4gICAgc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzID0gcGF0aC5tYXRjaChzbWFzaC5yb3V0ZXIuX19wYXJzZVJvdXRlUmVnZXgpO1xuICAgIGlmIChzbWFzaC5yb3V0ZXIuX19keW5hbWljUGFydHMgIT0gdW5kZWZpbmVkICYmIHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0cyAhPSBudWxsKSB7XG4gICAgICAgIHZhciByZWdleCA9IFwiXlwiICsgcGF0aC5yZXBsYWNlKC9cXC8vaWcsIFwiXFxcXC9cIikgKyBcIiRcIjtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcm91dGUubnVtVmFycysrO1xuICAgICAgICAgICAgcm91dGUudmFycy5wdXNoKHNtYXNoLnJvdXRlci5fX2R5bmFtaWNQYXJ0c1tpXS5zdWJzdHJpbmcoMSwgc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzW2ldLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2Uoc21hc2gucm91dGVyLl9fZHluYW1pY1BhcnRzW2ldLCBcIiguKj8pXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJvdXRlLnJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleCwgJ2knKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGJhc2UgZGlyZWN0b3J5IHRvIGJlIHVzZWQgYnkgYWxsIHJvdXRlc1xuICogQHBhcmFtIHN0cmluZyBkaXJlY3RvcnlcbiAqL1xuc21hc2gucm91dGVyLnNldEJhc2VEaXJlY3RvcnkgPSBmdW5jdGlvbihkaXJlY3RvcnkpIHtcbiAgICBpZiAoIWRpcmVjdG9yeSkge1xuICAgICAgICBzbWFzaC5yb3V0ZXIuX19iYXNlRGlyZWN0b3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgPSBzbWFzaC5yb3V0ZXIuY2xlYW5QYXRoKGRpcmVjdG9yeSk7XG59O1xuXG4vKipcbiAqIEFkZCB0aGUgYmFzZSBkaXJlY3RvcnkgaWYgaXQgaXMgYXZhaWxhYmxlXG4gKiBAcGFyYW0gc3RyaW5nIHBhdGhcbiAqIEByZXR1cm4gc3RyaW5nXG4gKi9cbnNtYXNoLnJvdXRlci5hZGRCYXNlRGlyZWN0b3J5ID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIGlmICghc21hc2gucm91dGVyLl9fYmFzZURpcmVjdG9yeSkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgaWYgKHBhdGguaW5kZXhPZihzbWFzaC5yb3V0ZXIuX19iYXNlRGlyZWN0b3J5KSA9PT0gLTEpIHtcbiAgICAgICAgcGF0aCA9IHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgKyBwYXRoO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8qKlxuICogQ2xlYW4gdGhlIGdpdmVuIHBhdGggdG8gdGhlIHByb3BlciBwYXRoIHRvIGJlIHVzZWQgYnkgdGhlIHJvdXRlclxuICogQHBhcmFtICBzdHJpbmcgcGF0aFxuICogQHJldHVybiBzdHJpbmdcbiAqL1xuc21hc2gucm91dGVyLmNsZWFuUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHBhdGguc3Vic3RyaW5nKDAsIDEpICE9IFwiL1wiKSB7XG4gICAgICAgIHBhdGggPSBcIi9cIiArIHBhdGg7XG4gICAgfVxuICAgIGlmIChwYXRoLmxlbmd0aCA+IDIgJiYgcGF0aC5zdWJzdHJpbmcocGF0aC5sZW5ndGgtMikgPT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoLTIpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbi8qKlxuICogQ2hlY2sgdGhlIHBhdGggaWYgdGhlcmUgaXMgYSBiYXNlIGRpcmVjdG9yeSBhdmFpbGFibGVcbiAqIEBwYXJhbSAgc3RyaW5nIHBhdGggVGhlIHBhdGggdG8gY2hlY2tcbiAqIEByZXR1cm4gc3RyaW5nICAgICAgVGhlIHBhdGggd2l0aG91dCBhIGJhc2UgZGlyZWN0b3J5IGZvciB1c2Ugb2YgY2hlY2tpbmcgcm91dGVzXG4gKi9cbnNtYXNoLnJvdXRlci5jaGVja1BhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHNtYXNoLnJvdXRlci5jbGVhblBhdGgocGF0aCk7XG4gICAgaWYgKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkgJiYgcGF0aC5pbmRleE9mKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnkpICE9PSAtMSkge1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKHNtYXNoLnJvdXRlci5fX2Jhc2VEaXJlY3RvcnksICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgcXVlcnkgcGFyYW0gaW4gdGhlIHVybFxuICogQHBhcmFtICBzdHJpbmcgcGFyYW0gVGhlIHBhcmFtIHlvdSB3YW50IHRvIGhhdmVcbiAqIEByZXR1cm4gc3RyaW5nICAgICAgIFRoZSB2YWx1ZSBvZiB0aGUgcGFyYW0gb3IgdW5kZWZpbmVkIGlmIGl0IGlzIG5vdCBhdmFpbGFibGVcbiAqL1xuc21hc2gucm91dGVyLnF1ZXJ5UGFyYW0gPSBmdW5jdGlvbihwYXJhbSkge1xuICAgIHZhciByZWdleFMgPSBcIltcXFxcPyZdXCIrcGFyYW0rXCI9KFteJiNdKilcIixcbiAgICByZWdleCA9IG5ldyBSZWdFeHAoIHJlZ2V4UyApLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKCB3aW5kb3cubG9jYXRpb24uc2VhcmNoICk7XG4gICAgaWYoIHJlc3VsdHMgPT0gbnVsbCApe1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1sxXTsvL2RlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzFdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufTtcbiIsInNtYXNoLnNlYXJjaGJveCA9IHtcbiAgICBpXzogZmFsc2UsXG4gICAgbWluQXV0b0NvbXBsZXRlTGVuZ3RoOiAzLFxuICAgIG9uZm9jdXM6IHVuZGVmaW5lZCxcbiAgICBvbmJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbmNoYW5nZTogdW5kZWZpbmVkLFxufTtcblxuc21hc2guc2VhcmNoYm94LmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc21hc2guc2VhcmNoYm94LmlfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNzYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IGlucHV0XCIpO1xuICAgIGlmICghc3NiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3NiLm9uZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5yZXN1bHRzKCc8ZGl2IGNsYXNzPVwic21hc2gtaW5zdHJ1Y3Rpb25cIj5TdGFydCB0eXBpbmcgdG8gZmluZCByZXN1bHRzPC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc21hc2guY2xhc3MuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtaGVhZGVyXCIpLCAnaXMtZm9jdXNzZWQnKTtcbiAgICAgICAgc21hc2guY2xhc3MuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IC5zbWFzaC1zZWFyY2hib3gtcmVzdWx0c1wiKSwgJ3Nob3cnKTtcbiAgICAgICAgaWYgKHNtYXNoLnNlYXJjaGJveC5vbmZvY3VzKSB7XG4gICAgICAgICAgICBzbWFzaC5zZWFyY2hib3gub25mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzc2Iub25ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLWhlYWRlclwiKSwgJ2lzLWZvY3Vzc2VkJyk7XG4gICAgICAgIHNtYXNoLmNsYXNzLnJlbW92ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNlYXJjaGJveCAuc21hc2gtc2VhcmNoYm94LXJlc3VsdHNcIiksICdzaG93Jyk7XG4gICAgICAgIGlmIChzbWFzaC5zZWFyY2hib3gub25ibHVyKSB7XG4gICAgICAgICAgICBzbWFzaC5zZWFyY2hib3gub25ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNzYi5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoIDwgc21hc2guc2VhcmNoYm94Lm1pbkF1dG9Db21wbGV0ZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbWFzaC5zZWFyY2hib3gub25jaGFuZ2UpIHtcbiAgICAgICAgICAgIHNtYXNoLnNlYXJjaGJveC5vbmNoYW5nZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc21hc2guc2VhcmNoYm94LmlfID0gdHJ1ZTtcbn07XG5cbnNtYXNoLnNlYXJjaGJveC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChpID0gc21hc2guZ2V0KGRvY3VtZW50LCBcIi5zbWFzaC1zZWFyY2hib3ggaW5wdXRcIikpIHtcbiAgICAgICAgcmV0dXJuIChpLnZhbHVlLmxlbmd0aCA9PSAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbnNtYXNoLnNlYXJjaGJveC5hcHBlbmRUbyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHZhciByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zZWFyY2hib3ggLnNtYXNoLXNlYXJjaGJveC1yZXN1bHRzXCIpO1xuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQobm9kZSk7XG59O1xuXG5zbWFzaC5zZWFyY2hib3gucmVzdWx0cyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2VhcmNoYm94IC5zbWFzaC1zZWFyY2hib3gtcmVzdWx0c1wiKTtcbiAgICByZXN1bHRzLmlubmVySFRNTCA9IGNvbnRlbnQ7XG59O1xuIiwic21hc2guc2lkZWJhciA9IHtcbiAgICBpXzogZmFsc2Vcbn07XG5cbnNtYXNoLnNpZGViYXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzbWFzaC5zaWRlYmFyLmlfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNpYmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXIgLmxvY2tcIik7XG4gICAgaWYgKCFzaWJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2libC5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNtYXNoLnNpZGViYXIudG9nZ2xlTG9jaygpO1xuICAgIH07XG5cbiAgICB2YXIgc2liID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zaWRlYmFyXCIpO1xuICAgIHNtYXNoLmNsYXNzLmFkZChzaWIsICdpcy11bmxvY2tlZCcpO1xuICAgIHNtYXNoLnNpZGViYXIuaV8gPSB0cnVlO1xuICAgIGlmIChzbWFzaC5jb25maWcuZ2V0KCdzaWRlYmFyX2xvY2snKSkge1xuICAgICAgICBzbWFzaC5zaWRlYmFyLnRvZ2dsZUxvY2soKTtcbiAgICB9XG59O1xuXG5zbWFzaC5zaWRlYmFyLnRvZ2dsZUxvY2sgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXNtYXNoLnNpZGViYXIuaV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzbWFzaC5jbGFzcy50b2dnbGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbWFzaC1zaWRlYmFyIC5sb2NrXCIpLCAndW5sb2NrJyk7XG4gICAgc21hc2guY2xhc3MudG9nZ2xlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtc2lkZWJhclwiKSwgJ2lzLXVubG9ja2VkJyk7XG4gICAgc21hc2guY29uZmlnLnNldCgnc2lkZWJhcl9sb2NrJywgIXNtYXNoLmNsYXNzLmhhcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNtYXNoLXNpZGViYXJcIiksICdpcy11bmxvY2tlZCcpKTtcbn07XG4iLCJzbWFzaC5zdG9yYWdlID0ge307XG5cbnNtYXNoLnN0b3JhZ2Uuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn07XG5cbnNtYXNoLnN0b3JhZ2UudW5zZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xufTtcblxuc21hc2guc3RvcmFnZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgaSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKCFpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGkpO1xufTtcblxuc21hc2guc3RvcmFnZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xufTtcbiIsInNtYXNoLndvcmtzcGFjZSA9IHtcbiAgICBiYXNlVGl0bGU6IHVuZGVmaW5lZCxcbiAgICBfd3NfOiB1bmRlZmluZWQsXG4gICAgX2hkcl86IHVuZGVmaW5lZCxcbiAgICBfc2JfOiB1bmRlZmluZWQsXG4gICAgX3RhYnNfOiBbXVxufTtcblxuc21hc2gud29ya3NwYWNlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBzbWFzaC53b3Jrc3BhY2UuX3dzXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtd29ya3NwYWNlXCIpO1xuICAgIGlmICghc21hc2gud29ya3NwYWNlLl93c18pIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNtYXNoLndvcmtzcGFjZS5faGRyXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtaGVhZGVyXCIpO1xuICAgIGlmIChzbWFzaC53b3Jrc3BhY2UuX2hkcl8pIHtcbiAgICAgICAgc21hc2guY2xhc3MuYWRkKHNtYXNoLndvcmtzcGFjZS5fd3NfLCAnaGFzLWhlYWRlcicpO1xuICAgIH1cbiAgICBzbWFzaC53b3Jrc3BhY2UuX3NiXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc21hc2gtd29ya3NwYWNlIC5zbWFzaC1zaWRlYmFyXCIpO1xuICAgIGlmIChzbWFzaC53b3Jrc3BhY2UuX3NiXykge1xuICAgICAgICBzbWFzaC5jbGFzcy5hZGQoc21hc2gud29ya3NwYWNlLl93c18sICdoYXMtc2lkZWJhcicpO1xuICAgIH1cbn07XG5cbnNtYXNoLndvcmtzcGFjZS5hZGRUYWIgPSBmdW5jdGlvbihpZCwgdGl0bGUsIGNvbnRlbnQsIHVybCkge1xuICAgIGlmICghc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lJykpIHtcbiAgICAgICAgdmFyIHBhbmVsID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXBhbmVsJyk7XG4gICAgICAgIGlmICghcGFuZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUbyBhZGQgYSB0YWIgdGhlcmUgbmVlZHMgdG8gYmUgYSBwYW5lbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhbmVsLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwic21hc2gtdGFiLXBhbmVcIj48ZGl2IGNsYXNzPVwic21hc2gtdGFic1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJzbWFzaC1wYW5lc1wiPjwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIHZhciB0YWJzID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lIC5zbWFzaC10YWJzJyk7XG4gICAgdmFyIHBhbmVzQ29udGFpbmVyID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXRhYi1wYW5lIC5zbWFzaC1wYW5lcycpO1xuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBzbWFzaC53b3Jrc3BhY2UuY3JlYXRlVGl0bGUodGl0bGUpO1xuXG4gICAgaWYgKHRhYiA9IHNtYXNoLmdldCh0YWJzLCAnLnNtYXNoLXRhYltkYXRhLWlkPVwiJyArIGlkICsgJ1wiXScpKSB7XG4gICAgICAgIHZhciBwYW5lID0gc21hc2guZ2V0KHBhbmVzQ29udGFpbmVyLCAnLnNtYXNoLXBhbmVbZGF0YS1pZD1cIicgKyBpZCArICdcIl0nKTtcbiAgICAgICAgcGFuZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICB0YWIuZGF0YXNldC51cmwgPSB1cmw7XG4gICAgICAgIHRhYi5vbmNsaWNrKCk7XG4gICAgICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xuICAgIH1cblxuICAgIHNtYXNoLmhpZGUocGFuZXNDb250YWluZXIsIFwiLnNtYXNoLXBhbmVcIik7XG4gICAgaWYgKGFjdGl2ZSA9IHNtYXNoLmdldCh0YWJzLCAnLnNtYXNoLXRhYi5hY3RpdmUnKSkge1xuICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoYWN0aXZlLCAnYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHRhYlxuICAgIHZhciB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhYi5jbGFzc05hbWUgPSAnc21hc2gtdGFiIGFjdGl2ZSc7XG4gICAgdGFiLmRhdGFzZXQuaWQgPSBpZDtcbiAgICB0YWIuZGF0YXNldC51cmwgPSB1cmw7XG4gICAgdGFiLmlubmVySFRNTCA9IHRpdGxlICsgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xvc2VcIj5jbG9zZTwvaT4nO1xuICAgIHRhYi5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoYWN0aXZlID0gc21hc2guZ2V0KHRhYnMsICcuc21hc2gtdGFiLmFjdGl2ZScpKSB7XG4gICAgICAgICAgICBzbWFzaC5jbGFzcy5yZW1vdmUoYWN0aXZlLCAnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgc21hc2guY2xhc3MuYWRkKHRoaXMsICdhY3RpdmUnKTtcbiAgICAgICAgc21hc2guaGlkZShkb2N1bWVudCwgJy5zbWFzaC1wYW5lJyk7XG4gICAgICAgIHNtYXNoLnNob3coZG9jdW1lbnQsICcuc21hc2gtcGFuZVtkYXRhLWlkPVwiJyArIHRoaXMuZGF0YXNldC5pZCArICdcIl0nKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXNldC51cmwgJiYgdGhpcy5kYXRhc2V0LnVybCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBzbWFzaC5yb3V0ZXIuZGlzcGxheVVSTCh0aGlzLmRhdGFzZXQudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHNtYXNoLndvcmtzcGFjZS5jcmVhdGVUaXRsZSh0aGlzLmlubmVySFRNTCk7XG4gICAgfTtcbiAgICBzbWFzaC5vbih0YWIsICcuY2xvc2UnLCAnb25jbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudC5vbmNsb3NlICYmICF0aGlzLnBhcmVudEVsZW1lbnQub25jbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNtYXNoLmNsYXNzLmhhcyh0aGlzLnBhcmVudEVsZW1lbnQsICdhY3RpdmUnKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudC5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNTaWJsaW5nLm9uY2xpY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnRFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm5leHRTaWJsaW5nLm9uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZSA9IHNtYXNoLmdldChkb2N1bWVudCwgJy5zbWFzaC1wYW5lW2RhdGEtaWQ9XCInICsgdGhpcy5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWQgKyAnXCJdJykpIHtcbiAgICAgICAgICAgIHBhbmUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwYW5lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50Lm9uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub25jbG9zZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICAgIHRhYnMuYXBwZW5kQ2hpbGQodGFiKTtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5lIHdpdGggdGhlIHByb3ZpZGVkIGNvbnRlbnRcbiAgICB2YXIgcGFuZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGFuZS5jbGFzc05hbWUgPSAnc21hc2gtcGFuZSc7XG4gICAgcGFuZS5kYXRhc2V0LmlkID0gaWQ7XG4gICAgcGFuZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHBhbmVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBhbmUpO1xuICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xufTtcblxuc21hc2gud29ya3NwYWNlLmFjdGl2ZVRhYiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YWIgPSBzbWFzaC5nZXQoZG9jdW1lbnQsICcuc21hc2gtdGFiLmFjdGl2ZScpXG4gICAgaWYgKCF0YWIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBwYW5lID0gc21hc2guZ2V0KGRvY3VtZW50LCAnLnNtYXNoLXBhbmVbZGF0YS1pZD1cIicgKyB0YWIuZGF0YXNldC5pZCArICdcIl0nKTtcbiAgICBpZiAoIXBhbmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7dGFiOiB0YWIsIHBhbmU6IHBhbmV9O1xufTtcblxuc21hc2gud29ya3NwYWNlLmNyZWF0ZVRpdGxlID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgICB2YXIgdCA9IHRpdGxlLnJlcGxhY2UoLzwoW14+XSs/KShbXj5dKj8pPiguKj8pPFxcL1xcMT4vaWcsIFwiXCIpO1xuICAgIGlmICh0ID09ICcnKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGl0bGU7XG4gICAgICAgIGlmICh0cyA9IHNtYXNoLmdldChkaXYsICcudGl0bGUnKSkge1xuICAgICAgICAgICAgdCA9IHRzLmlubmVySFRNTDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCA9PSAnJykge1xuICAgICAgICAgICAgdCA9ICd1bmtub3duJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdCArIChzbWFzaC53b3Jrc3BhY2UuYmFzZVRpdGxlID8gJyB8ICcgKyBzbWFzaC53b3Jrc3BhY2UuYmFzZVRpdGxlIDogXCJcIik7XG59O1xuIl19
